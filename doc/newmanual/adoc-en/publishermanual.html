<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Patrick Gundlach">
<title>speedata Publisher: The manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>speedata Publisher: The manual</h1>
<div class="details">
<span id="author" class="author">Patrick Gundlach</span><br>
<span id="email" class="email"><a href="mailto:gundlach@speedata.de">gundlach@speedata.de</a></span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2018-03-19</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Inhalt</div>
<ul class="sectlevel1">
<li><a href="#ch-introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#ch-whatisitallfor">1.1. What is it all for?</a></li>
<li><a href="#_beautiful_and_fully_automatic">1.2. Beautiful and fully automatic</a></li>
<li><a href="#_where_can_i_get_the_software_and_how_is_it_run">1.3. Where can I get the software and how is it run?</a></li>
<li><a href="#_examples">1.4. Examples</a></li>
</ul>
</li>
<li><a href="#ch-helloworld">2. Hello, world!</a>
<ul class="sectlevel2">
<li><a href="#ch-helloworld-explained">2.1. The "Hello World!" example explained</a></li>
</ul>
</li>
<li><a href="#ch-basics">3. Basics</a>
<ul class="sectlevel2">
<li><a href="#ch-writelayoutfile">3.1. Creation of a set of layout rules</a></li>
<li><a href="#ch-structuredatafile">3.2. Structure of the data file and the layout rules</a></li>
<li><a href="#ch-outputtingobjects">3.3. Outputting objects</a></li>
<li><a href="#ch-grid">3.4. Grid</a></li>
<li><a href="#ch-positioningarea">3.5. Areas on the page (PositioningArea)</a></li>
<li><a href="#ch-organisationdaten">3.6. File organization</a></li>
<li><a href="#_hyphenation_language_settings">3.7. Hyphenation / language settings</a></li>
<li><a href="#ch-fonts">3.8. Using fonts</a></li>
<li><a href="#ch-textformate">3.9. Text formats</a></li>
<li><a href="#ch-textformatierung">3.10. Text formatting</a></li>
<li><a href="#ch-colors">3.11. Colors</a></li>
</ul>
</li>
<li><a href="#ch-programmierung">4. Programming</a>
<ul class="sectlevel2">
<li><a href="#_variables">4.1. Variables</a></li>
<li><a href="#_copy_of">4.2. Copy of</a></li>
<li><a href="#_if_then_else">4.3. If-then-else</a></li>
<li><a href="#_case_distinctions">4.4. Case distinctions</a></li>
<li><a href="#_loops">4.5. Loops</a></li>
<li><a href="#_data_structures">4.6. Data Structures</a></li>
</ul>
</li>
<li><a href="#ch-bildereinbinden">5. Image inclusion</a>
<ul class="sectlevel2">
<li><a href="#_width_and_height_of_the_images">5.1. Width and height of the images</a></li>
<li><a href="#_maximum_height_and_width_minimum_height_and_width">5.2. Maximum height and width, minimum height and width</a></li>
<li><a href="#_rotating_images">5.3. Rotating images</a></li>
<li><a href="#_location_of_the_image_files">5.4. Location of the image files</a></li>
<li><a href="#_image_not_found">5.5. Image not found?</a></li>
<li><a href="#_special_features_for_pdf_files">5.6. Special features for PDF files</a></li>
<li><a href="#_external_conversion_tools">5.7. External Conversion Tools</a></li>
<li><a href="#_images_from_textual_descriptions">5.8. Images from textual descriptions</a></li>
<li><a href="#_other_parameters">5.9. Other parameters</a></li>
</ul>
</li>
<li><a href="#ch-tables2">6. Tables</a>
<ul class="sectlevel2">
<li><a href="#_basic_structure_of_a_table">6.1. Basic structure of a table</a></li>
<li><a href="#_table_cells_and_table_rows_lines_in_tables">6.2. Table cells and table rows, lines in tables</a></li>
<li><a href="#ch-tab-textformats">6.3. Text formats in tables</a></li>
<li><a href="#_colspan_and_rowspan">6.4. Colspan and Rowspan</a></li>
<li><a href="#_specifying_the_column_widths">6.5. Specifying the column widths</a></li>
<li><a href="#_table_wraps">6.6. Table wraps</a></li>
<li><a href="#_headers_and_footers_static">6.7. Headers and footers (static)</a></li>
<li><a href="#_headers_and_footers_dynamic">6.8. Headers and footers (dynamic)</a></li>
<li><a href="#_headers_and_footers_with_running_sum">6.9. Headers and footers with running sum</a></li>
<li><a href="#_assembling_tables">6.10. Assembling tables</a></li>
<li><a href="#_alternating_line_colors">6.11. Alternating line colors</a></li>
<li><a href="#_background_in_table_rows">6.12. Background in table rows</a></li>
<li><a href="#_clearing_columns">6.13. Clearing columns</a></li>
<li><a href="#_page_change_in_tables">6.14. Page change in tables</a></li>
</ul>
</li>
<li><a href="#ch-advancedtopics">7. Advanced topcis</a>
<ul class="sectlevel2">
<li><a href="#ch-bookmarks">7.1. Bookmarks</a></li>
<li><a href="#ch-elementattribute">7.2. Creation of XML structures</a></li>
<li><a href="#ch-outputforprinter">7.3. Print output / crop marks</a></li>
<li><a href="#ch-css">7.4. Using CSS with the speedata Publisher</a></li>
<li><a href="#ch-groups">7.5. Groups (virtual objects)</a></li>
<li><a href="#ch-savepages">7.6. Virtual pages</a></li>
<li><a href="#ch-rotation">7.7. Rotation of contents</a></li>
<li><a href="#ch-sortingdata">7.8. Sorting data</a></li>
<li><a href="#ch-wraparoundimages">7.9. Wrap around images</a></li>
<li><a href="#ch-pagetypes">7.10. Page types</a></li>
<li><a href="#ch-hotfolder">7.11. Starting the Publisher via the Hotfolder</a></li>
<li><a href="#luafilter">7.12. Lua-Filter / pre-processing</a></li>
<li><a href="#ch-schemavalidierung">7.13. Schema validation</a></li>
<li><a href="#ch-qa">7.14. Quality assurance and PDF comparison</a></li>
<li><a href="#ch-troubleshooting">7.15. Troubleshooting / Debugging</a></li>
<li><a href="#ch-servermode">7.16. Server mode (REST API)</a></li>
</ul>
</li>
<li><a href="#ch-cookbook">8. Cookbook</a>
<ul class="sectlevel2">
<li><a href="#ch-thumbindex">8.1. Thumb index</a></li>
<li><a href="#ch-multipagepdf">8.2. Embed multipage PDF files</a></li>
<li><a href="#ch-layoutoptimizationusinggroups">8.3. Layout optimization using groups</a></li>
<li><a href="#ch-directories-marker">8.4. Automatically generated directories</a></li>
<li><a href="#ch-seitexvony">8.5. Page numbers: Page x of y</a></li>
<li><a href="#ch-fakelists">8.6. Imitate bulleted lists</a></li>
</ul>
</li>
<li><a href="#ch-installation">Appendix A: Installation instructions</a></li>
<li><a href="#app-defaults">Appendix B: speedata Publisher defaults</a>
<ul class="sectlevel2">
<li><a href="#_fonts">B.1. Fonts</a></li>
<li><a href="#_textformats">B.2. Textformats</a></li>
<li><a href="#_page_size_and_margin">B.3. Page size and margin</a></li>
<li><a href="#_colors">B.4. Colors</a></li>
</ul>
</li>
<li><a href="#ch-commandline">Appendix C: Running the speedata publisher on the command line</a>
<ul class="sectlevel2">
<li><a href="#ch-cmd-description">C.1. Description of the commands</a></li>
<li><a href="#ch-cmd-description-parameter">C.2. Description of the commandline parameters</a></li>
</ul>
</li>
<li><a href="#ch-configuration">Appendix D: How to configure the speedata publisher</a>
<ul class="sectlevel2">
<li><a href="#_the_file_publisher_cfg">D.1. The file <code>publisher.cfg</code></a></li>
<li><a href="#_command_line_parameters">D.2. Command line parameters</a></li>
<li><a href="#_options_given_in_the_layout_file">D.3. Options given in the layout file</a></li>
</ul>
</li>
<li><a href="#app-lengthsunits">Appendix E: Lenghts and units</a></li>
<li><a href="#ch-xpathfunctions">Appendix F: XPath- and Layoutfunctions</a>
<ul class="sectlevel2">
<li><a href="#_xpath_expressions">F.1. XPath expressions</a></li>
<li><a href="#_the_following_xpath_expressions_are_handled_by_the_software">F.2. The following XPath expressions are handled by the software:</a></li>
<li><a href="#_the_following_xpath_functions_are_known_to_the_system">F.3. The following XPath functions are known to the system:</a></li>
</ul>
</li>
<li><a href="#ch-internalvariables">Appendix G: Internal variables</a></li>
<li><a href="#ch-changelog">9. Changelog</a></li>
<li><a href="#app-glossary">Appendix H: Glossary</a></li>
<li><a href="#ch-commandreference">Appendix I: Command reference</a>
<ul class="sectlevel2">
<li><a href="#cmd-a">I.1. A</a></li>
<li><a href="#cmd-action">I.2. Action</a></li>
<li><a href="#cmd-addsearchpath">I.3. AddSearchpath</a></li>
<li><a href="#cmd-atpagecreation">I.4. AtPageCreation</a></li>
<li><a href="#cmd-atpageshipout">I.5. AtPageShipout</a></li>
<li><a href="#cmd-attachfile">I.6. AttachFile</a></li>
<li><a href="#cmd-attribute">I.7. Attribute</a></li>
<li><a href="#cmd-b">I.8. B</a></li>
<li><a href="#cmd-barcode">I.9. Barcode</a></li>
<li><a href="#cmd-bold">I.10. Bold</a></li>
<li><a href="#cmd-bolditalic">I.11. BoldItalic</a></li>
<li><a href="#cmd-bookmark">I.12. Bookmark</a></li>
<li><a href="#cmd-box">I.13. Box</a></li>
<li><a href="#cmd-br">I.14. Br</a></li>
<li><a href="#cmd-case">I.15. Case</a></li>
<li><a href="#cmd-circle">I.16. Circle</a></li>
<li><a href="#cmd-color">I.17. Color</a></li>
<li><a href="#cmd-column">I.18. Column</a></li>
<li><a href="#cmd-columns">I.19. Columns</a></li>
<li><a href="#cmd-compatibility">I.20. Compatibility</a></li>
<li><a href="#cmd-contents">I.21. Contents</a></li>
<li><a href="#cmd-copy_of">I.22. Copy-of</a></li>
<li><a href="#cmd-definecolor">I.23. DefineColor</a></li>
<li><a href="#cmd-definecolorprofile">I.24. DefineColorprofile</a></li>
<li><a href="#cmd-definefontalias">I.25. DefineFontalias</a></li>
<li><a href="#cmd-definefontfamily">I.26. DefineFontfamily</a></li>
<li><a href="#cmd-definetextformat">I.27. DefineTextformat</a></li>
<li><a href="#cmd-element">I.28. Element</a></li>
<li><a href="#cmd-fallback">I.29. Fallback</a></li>
<li><a href="#cmd-fontface">I.30. Fontface</a></li>
<li><a href="#cmd-forall">I.31. ForAll</a></li>
<li><a href="#cmd-frame">I.32. Frame</a></li>
<li><a href="#cmd-grid">I.33. Grid</a></li>
<li><a href="#cmd-group">I.34. Group</a></li>
<li><a href="#cmd-groupcontents">I.35. Groupcontents</a></li>
<li><a href="#cmd-hspace">I.36. HSpace</a></li>
<li><a href="#cmd-html">I.37. HTML</a></li>
<li><a href="#cmd-hyphenation">I.38. Hyphenation</a></li>
<li><a href="#cmd-i">I.39. I</a></li>
<li><a href="#cmd-image">I.40. Image</a></li>
<li><a href="#cmd-include">I.41. Include</a></li>
<li><a href="#cmd-initial">I.42. Initial</a></li>
<li><a href="#cmd-insertpages">I.43. InsertPages</a></li>
<li><a href="#cmd-italic">I.44. Italic</a></li>
<li><a href="#cmd-layout">I.45. Layout</a></li>
<li><a href="#cmd-li">I.46. Li</a></li>
<li><a href="#cmd-loaddataset">I.47. LoadDataset</a></li>
<li><a href="#cmd-loadfontfile">I.48. LoadFontfile</a></li>
<li><a href="#cmd-loop">I.49. Loop</a></li>
<li><a href="#cmd-makeindex_">I.50. Makeindex</a></li>
<li><a href="#cmd-margin">I.51. Margin</a></li>
<li><a href="#cmd-mark">I.52. Mark</a></li>
<li><a href="#cmd-message">I.53. Message</a></li>
<li><a href="#cmd-newpage">I.54. NewPage</a></li>
<li><a href="#cmd-nextframe">I.55. NextFrame</a></li>
<li><a href="#cmd-nextrow">I.56. NextRow</a></li>
<li><a href="#cmd-nobreak">I.57. NoBreak</a></li>
<li><a href="#cmd-ol">I.58. Ol</a></li>
<li><a href="#cmd-options">I.59. Options</a></li>
<li><a href="#cmd-otherwise">I.60. Otherwise</a></li>
<li><a href="#cmd-output">I.61. Output</a></li>
<li><a href="#cmd-overlay">I.62. Overlay</a></li>
<li><a href="#cmd-pageformat">I.63. Pageformat</a></li>
<li><a href="#cmd-pagetype">I.64. Pagetype</a></li>
<li><a href="#cmd-paragraph">I.65. Paragraph</a></li>
<li><a href="#cmd-pdfoptions">I.66. PDFOptions</a></li>
<li><a href="#cmd-placeobject">I.67. PlaceObject</a></li>
<li><a href="#cmd-position">I.68. Position</a></li>
<li><a href="#cmd-positioningarea">I.69. PositioningArea</a></li>
<li><a href="#cmd-positioningframe">I.70. PositioningFrame</a></li>
<li><a href="#cmd-processnode">I.71. ProcessNode</a></li>
<li><a href="#cmd-record">I.72. Record</a></li>
<li><a href="#cmd-regular">I.73. Regular</a></li>
<li><a href="#cmd-rule">I.74. Rule</a></li>
<li><a href="#cmd-savedataset">I.75. SaveDataset</a></li>
<li><a href="#cmd-savepages">I.76. SavePages</a></li>
<li><a href="#cmd-setgrid">I.77. SetGrid</a></li>
<li><a href="#cmd-setvariable">I.78. SetVariable</a></li>
<li><a href="#cmd-sortsequence">I.79. SortSequence</a></li>
<li><a href="#cmd-stylesheet">I.80. Stylesheet</a></li>
<li><a href="#cmd-span">I.81. Span</a></li>
<li><a href="#cmd-sup">I.82. Sup</a></li>
<li><a href="#cmd-switch">I.83. Switch</a></li>
<li><a href="#cmd-table">I.84. Table</a></li>
<li><a href="#cmd-tablenewpage">I.85. TableNewPage</a></li>
<li><a href="#cmd-tablefoot">I.86. Tablefoot</a></li>
<li><a href="#cmd-tablehead">I.87. Tablehead</a></li>
<li><a href="#cmd-tablerule">I.88. Tablerule</a></li>
<li><a href="#cmd-td">I.89. Td</a></li>
<li><a href="#cmd-text">I.90. Text</a></li>
<li><a href="#cmd-textblock">I.91. Textblock</a></li>
<li><a href="#cmd-tr">I.92. Tr</a></li>
<li><a href="#cmd-trace">I.93. Trace</a></li>
<li><a href="#cmd-transformation">I.94. Transformation</a></li>
<li><a href="#cmd-u">I.95. U</a></li>
<li><a href="#cmd-ul">I.96. Ul</a></li>
<li><a href="#cmd-until">I.97. Until</a></li>
<li><a href="#cmd-url">I.98. URL</a></li>
<li><a href="#cmd-value">I.99. Value</a></li>
<li><a href="#cmd-vspace">I.100. VSpace</a></li>
<li><a href="#cmd-while">I.101. While</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="ch-introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The speedata Publisher is software for creating PDF files fully automatically from XML data. The data can be product data, structured texts or other content, for example.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/xmltopdf.png" alt="xmltopdf" width="50%">
</div>
</div>
<div class="paragraph">
<p>The instructions on how something is to be displayed are available separately from the data. They are formulated in a programming language specially developed for this purpose.</p>
</div>
<div class="sect2">
<h3 id="ch-whatisitallfor">1.1. What is it all for?</h3>
<div class="paragraph">
<p>Many different documents can be created with the speedata Publisher. Classical use cases are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product catalogues</p>
</li>
<li>
<p>Travel guides</p>
</li>
<li>
<p>Price lists</p>
</li>
<li>
<p>Data sheets</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and many other documents, where it is important to obtain a result that is reproducible, fast and reliable and also "beautiful".</p>
</div>
</div>
<div class="sect2">
<h3 id="_beautiful_and_fully_automatic">1.2. Beautiful and fully automatic</h3>
<div class="paragraph">
<p>The speedata Publisher is a non-interactive publishing software. This means there is no graphical user interface (GUI). All instructions must be established before the publishing process and determine how the data is arranged in the PDF. The unique combination of sophisticated algorithms and programmability allows extremely flexible layouts to be created that were previously reserved for interactive desktop publishing (DTP) programs such as Adobe&#8217;s InDesign.</p>
</div>
</div>
<div class="sect2">
<h3 id="_where_can_i_get_the_software_and_how_is_it_run">1.3. Where can I get the software and how is it run?</h3>
<div class="paragraph">
<p>The software can be downloaded for free (see chapter <a href="#ch-installation">Installation</a>) and is started via the console or shell. The command to start the Publisher is called sp. Therewith, all functionality can be used. Parameters can be specified via the command line or a configuration file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the command line section for explanations on how to start the Publisher.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples">1.4. Examples</h3>
<div class="paragraph">
<p>There is a separate repository with examples on Github (<a href="https://github.com/speedata/examples" class="bare">https://github.com/speedata/examples</a>). There you can find complete documents, which you can use to try out different functions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/beispiele.png" alt="beispiele" width="100%">
</div>
<div class="title">Figure 1. Examples from the repository</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-helloworld">2. Hello, world!</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The classic: "Hello, world!" Or: what does a simple document look like? As already described, the input for the Publisher consists of two files: the data file and the layout file. Both must be in XML format and must always be available. The data file is saved under the name data.xml and the layout file under layout.xml. These two files are best created with an XML editor, a simple text editor like  <a href="https://atom.io/">Atom</a> or <a href="https://macromates.com/">Textmate</a> is sufficient for the first steps.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you want to try the "Hello World" example yourself, you can simply call <code>sp new helloworld</code>. This creates a directory with the two necessary files. So you can start immediately and create a PDF in this directory with the <code>sp</code> command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The data file for the "Hello World" example is named <code>data.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;Hello world!&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>That is enough for the simple example. The layout file is a bit more extensive (save as <code>layout.xml</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="."/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These two files are stored in an otherwise empty directory. On the command line, change to this directory (with cd &lt;directory name&gt;) and call the Publisher with the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp</code></pre>
</div>
</div>
<div class="paragraph">
<p>on. The $ character is intended to represent the prompt and is not entered. If everything goes smoothly, the result is a PDF file named publisher.pdf in the same directory.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For Windows users: if the publisher cannot create the PDF, this is sometimes because the same file is still open in a window. This can be Adobe Reader, but also Windows Explorer.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="ch-helloworld-explained">2.1. The "Hello World!" example explained</h3>
<div class="paragraph">
<p>Here follows a short explanation of the two files. The data file can be structured as you wish, as long as the content is well-formed XML (see glossary).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;Hello world!&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The layout file is a bit more complicated, at least at first sight.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout  <i class="conum" data-value="1"></i><b>(1)</b>
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;PlaceObject&gt;  <i class="conum" data-value="3"></i><b>(3)</b>
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="."/&gt; <i class="conum" data-value="4"></i><b>(4)</b>
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The root element is called layout and has the <code>namespace urn:speedata.de:2009/publisher/en</code>. The second namespace is necessary for the built-in functions, but is not used in the example. (Tip: nevertheless always specify it in the layout, so that there are no surprises later).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here the data processing starts. The root element of the data file is specified in the attribute element.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>&lt;PlaceObject&gt;</code> is the command to output things (texts, images, boxes, &#8230;&#8203;) into the PDF.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The dot at the select attribute means "the current element", in this case the root element. The text value of the element is output here, i.e. the string <code>Hello world!</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We will not discuss more at this point. Rather, there is a reference to the corresponding chapters in this manual: Under Organization of Data for Data Processing is described how the data file and the layout file are to be structured, and under Output of Objects the command PlaceObject is described.</p>
</div>
</div>
</div>
</div>
<div class="sect1 split">
<h2 id="ch-basics">3. Basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The study of this chapter should be sufficient to create layout rules independently. Occasionally, more detailed topics will be covered in more detail in a later chapter. For example, only the most important formatting for tables is dealt with; a separate chapter (chapter Tables) describes tables in detail. In such cases there is of course a cross-reference.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Another note for the manual. Many examples only show the layout file and not the corresponding data. In the data file the simple structure <code>&lt;data /&gt;</code> is always assumed. This can be recognized by the fact that the layout contains <code>&lt;Record element="data"&gt;</code>. The easiest way to start the Publisher is to use <code>sp --dummy</code>, which simulates this data file.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="ch-writelayoutfile">3.1. Creation of a set of layout rules</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="sect3">
<h4 id="_xml_editor">3.1.1. XML Editor</h4>
<div class="paragraph">
<p>By using standard XML (UTF-8), the layout rules can be edited with any text editor.</p>
</div>
<div class="paragraph">
<p>The supplied XML schemas (RELAX NG and XML Schema (XSD)) make it easy to enter the layout ruleset. Such a schema can be thought of as a computer-readable instruction as to which commands may appear at which position in the layout. The instructions also contain information about the parameters that are permitted in each case. In addition, the scheme also provides help by briefly explaining each command and parameter. In short: if the editor can integrate this schema and also "understands" it, it is an input help that should not be underestimated. You reduce the number of errors and the input time significantly, editing the layout rules starts to be really fun (believe me).</p>
</div>
<div class="paragraph">
<p>To include this schema, you need to use a suitable XML editor that can process RELAX NG or XML schemas, e.g:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.oxygenxml.com">OxygenXML</a> (Mac, Windows, Linux)</p>
</li>
<li>
<p><a href="https://code.visualstudio.com">Visual Studio Code</a> (Mac, Windows, Linux, free)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first two editors provide excellent cross-platform support for the schema.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://atom.io/">Atom</a> (Mac, Windows, Linux, free)</p>
</li>
<li>
<p><a href="https://www.altova.com/xml-editor/">XMLSpy</a> (Windows)</p>
</li>
<li>
<p><a href="https://www.xmlblueprint.com/">XML Blueprint</a> (Windows)</p>
</li>
<li>
<p><a href="https://www.gnu.org/software/emacs/">GNU Emacs</a> mit <a href="http://www.thaiopensource.com/nxml-mode/">nxml-mode</a> (cross platform, free)</p>
</li>
<li>
<p><a href="http://www.jedit.org">jEdit</a> (Mac, Windows, Linux, free)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The schema files for the layout rules are located in the ZIP file in the <code>share/schema/</code> directory under the file names</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">layoutschema-de.rng
layoutschema-en.rng</code></pre>
</div>
</div>
<div class="paragraph">
<p>for RELAX NG and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">layoutschema-de.xsd
layoutschema-en.xsd</code></pre>
</div>
</div>
<div class="paragraph">
<p>for XSD, depending on the desired language of the documentation.</p>
</div>
<div class="paragraph">
<p>For Visual Studio code, the required package is XML (Red Hat), installation instructions are available at <a href="https://blog.speedata.de/2019/09/11/xsd-schema/" class="bare">https://blog.speedata.de/2019/09/11/xsd-schema/</a>. For the Atom editor, the package is called language-speedata-publisher. The installation instructions can be found on the github page at <a href="https://github.com/speedata/atom-schema-speedata" class="bare">https://github.com/speedata/atom-schema-speedata</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_namespace_of_the_layout_ruleset">3.1.2. Namespace of the layout ruleset</h4>
<div class="paragraph">
<p>The XML namespace of the layout ruleset is urn:speedata.de:2009/publisher/s. The additional XPath functions are in the namespace urn:speedata:2009/publisher/functions/en. A layout set should therefore always have this frame:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
        xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
 ...
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can call speedata&#8217;s own functions with the prefix sd:, for example: <code>sd:current-page()</code> to determine the current page number.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-structuredatafile">3.2. Structure of the data file and the layout rules</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="quoteblock">
<blockquote>
You can use any data format as long as it is XML.
</blockquote>
<div class="attribution">
&#8212; Freely adapted from Henry Ford
</div>
</div>
<div class="sect3">
<h4 id="_data_source_xml_well_formed_and_structured">3.2.1. Data source: XML - well-formed and structured</h4>
<div class="paragraph">
<p>The first prerequisite is that the data source is in XML (Extensible Markup Language) format. Other formats are not processed with the Publisher (using the Lua filter, CSV and Excel files can also be processed). In practice, this does not matter because all (structured) data can be converted into XML format.</p>
</div>
<div class="paragraph">
<p>Often people ask how the data XML must be structured. The answer is simple: there are no specifications, except that the XML must comply with the usual rules (well-formedness). These rules are listed in the glossary.</p>
</div>
<div class="paragraph">
<p>In addition, there are useful structuring recommendations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The data should appear in the XML tree when it is needed. Data processing in the Publisher costs time and memory, so the information should be available where it is needed. There are of course exceptions. For example, global settings (colors, texts to be translated and so on) can be defined at the beginning of the file.</p>
</li>
<li>
<p>Different representations (variants) must be readable from the data. If, for example, a page change is to occur for a new article group (in the product catalog), a change of article group must be recognizable in the data.</p>
</li>
<li>
<p>The data should be as structured as possible. For example, a product catalog could contain article numbers in the form 123-12345. If the first three digits represent the article group, this could be recognized with regular expressions. It is simpler if the article group is already created in the data structure, so that no recognition is required.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A simple example for the arrangement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;productdata&gt;
  &lt;globalsettings&gt;
    ...
  &lt;/globalsettings&gt;
  &lt;articlegroup name="interior lights" number="123"&gt;
    &lt;article number="123-12345"&gt;
      &lt;property1&gt;...&lt;/property1&gt;
      &lt;property2&gt;...&lt;/property2&gt;
    &lt;/article&gt;
    &lt;article number="123-12346"&gt;
      &lt;property1&gt;...&lt;/property1&gt;
      &lt;property2&gt;...&lt;/property2&gt;
    &lt;/article&gt;
  &lt;/articlegroup&gt;
  &lt;articlegroup name="exterior lights" number="124"&gt;
    &lt;article number="124-23456"&gt;
      &lt;property1&gt;...&lt;/property1&gt;
      &lt;property2&gt;...&lt;/property2&gt;
    &lt;/article&gt;
    &lt;article number="124-54321"&gt;
      &lt;property1&gt;...&lt;/property1&gt;
      &lt;property2&gt;...&lt;/property2&gt;
    &lt;/article&gt;
  &lt;/articlegroup&gt;
&lt;/productdata&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Redundancy does not hurt here, on the contrary. Since the article group in the example has a clear sequence of digits (123 or 124), the last five digits would be sufficient for the articles. You can assemble the number from articlegroup/@number, - and article/@number yourself. To save yourself the step, simply save the complete number on the article.</p>
</div>
<div class="paragraph">
<p>To summarize it: If you have the possibility to influence the structure of the data: better save too much information than too little. Experiment with the order of the data, sometimes the right structure makes layout creation much easier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_do_you_access_the_data_from_the_layout">3.2.2. How do you access the data from the layout?</h4>
<div class="paragraph">
<p>Since the data file can be structured as you like, special commands are needed to access the data. These are described below and in the appendix under XPath functions. In the following we will start from this simple data file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;catalog&gt;
  &lt;article nr="12345" price="99,95" quantity="1"&gt;
    &lt;description&gt;Text for atricle 12345&lt;/description&gt;
    &lt;image mainimage="yes"&gt;art12345.pdf&lt;/image&gt;
  &lt;/article&gt;
  &lt;article nr="56789" price="45,95" quantity="5"&gt;
    &lt;description&gt;Text for atricle 56789&lt;/description&gt;
    &lt;image&gt;art56789.pdf&lt;/image&gt;
  &lt;/article&gt;
&lt;/catalog&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This data file is stored under the name <code>data.xml</code> so that the Publisher can find it.</p>
</div>
<div class="paragraph">
<p>The layout file (name: layout.xml) is executed during the import: all commands with the name &lt;Record&gt; are saved for later processing, all other commands have immediate effect. This means that if a command like &lt;DefineColor&gt; is included at the top level in the layout rules, it will be executed before the actual data processing starts.</p>
</div>
<div class="paragraph">
<p>A minimum layout file for the data structuring shown above is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="catalog"&gt;

  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After calling <code>sp</code> nothing happens: no page is created, no error is output, the publisher simply quits:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
Loading layout instructions "/home/example/layout-en.xml"
Loading data file "/home/example/data.xml"
Stop processing data
0 errors occurred
Duration: 0.158941 seconds
node_mem_usage=1 glue, 3 glue_spec, 1 dir, 1 user_defined
luastate_bytes=0

No pages of output.
Transcript written on publisher.log.
Total run time: 209.499431ms</pre>
</div>
</div>
<div class="paragraph">
<p>No page is created because no further commands have been specified within the element <code>&lt;Record&gt;</code> that cause output.</p>
</div>
<div class="paragraph">
<p>The structure required for processing is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="catalog"&gt;
    <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;ProcessNode select="*"/&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    <i class="conum" data-value="3"></i><b>(3)</b>
  &lt;/Record&gt;

  &lt;Record element="artikel"&gt;
    <i class="conum" data-value="4"></i><b>(4)</b>
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Commands to be executed before the first child elements, e.g. create title page or table of contents (the term child element refers to the data file).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here, all child elements are called individually.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Commands for closing the PDF file</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>For each child item these commands are executed. The "focus" is now on an article, so you can access the attributes and child elements of articles.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Within the lower <code>&lt;Record&gt;</code> command you can now access child elements and attributes. Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@nr</code> results in the string 12345 in the first call and 56789 in the second pass.</p>
</li>
<li>
<p><code>description</code> results in a sequence with one element, the content text (first article).</p>
</li>
<li>
<p><code>image/@mainimage</code> is in the first case the string "yes" (the content of the attribute mainimage), in the second case the empty string "", because the attribute does not exist there.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For details, see the section on XPath functions.</p>
</div>
<div class="paragraph">
<p>Alternatively to the procedure with <code>&lt;ProcessNode&gt;</code> and its counterpart <code>&lt;Record&gt;</code>, child elements can also be accessed with &lt;ForAll&gt;. The following example creates a table line for each child element named article:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="catalog"&gt;
    &lt;PlaceObject&gt;
      &lt;Table stretch="max"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;Tablehead&gt; <i class="conum" data-value="2"></i><b>(2)</b>
          &lt;Tr backgroundcolor="gray"&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;&lt;Value&gt;Article number&lt;/Value&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
            &lt;/Td&gt;
              &lt;Paragraph&gt;&lt;Value&gt;Description&lt;/Value&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Tablehead&gt;
        &lt;ForAll select="article"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
          &lt;Tr&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;&lt;Value select="@nr"/&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;&lt;Value select="description"/&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/ForAll&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A table is output that covers the entire width.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A table header has the property that it is repeated on every page.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Within the &lt;ForAll&gt;, the attributes and child elements of each article can be accessed, just like in the example above.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Tables are covered in the basics (chapter Introduction to Tables) and in more detail in chapter 6.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-outputtingobjects">3.3. Outputting objects</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>There are two commands to output objects. One is called &lt;Output&gt; and is only used for text that is to wrap to multiple pages. All other objects (images, tables, barcodes, &#8230;&#8203;) are output using the command &lt;PlaceObject&gt;. The parameters are listed in detail in the command reference (see command &lt;PlaceObject&gt;). Here are some examples and possible applications.</p>
</div>
<div class="paragraph">
<p>In the simplest case, the command can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Image file="_samplea.pdf" width="5"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here an image is integrated with the specified file name and a specified width. The image _samplea.pdf (with underscore at the beginning) is included in the distribution and can be used as a placeholder.</p>
</div>
<h4 id="_raster_based_placement_of_objects" class="discrete">Raster based placement of objects</h4>
<div class="paragraph">
<p>The Raster section provides a detailed description of the design grid. Only so much should be mentioned here: The grid helps on the one hand to position the objects (easy arrangement of the objects) and on the other hand to find the right place. Raster cells are not occupied by two objects at the same time, unless you explicitly allow this.</p>
</div>
<div class="paragraph">
<p>This is an example of raster-based output. The specifications for row and column are coordinates in the page grid, where the upper left corner is position 1,1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject row="4" column="5"&gt;
    &lt;Image file="_samplea.pdf" width="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<h4 id="_order_of_the_objects" class="discrete">Order of the objects</h4>
<div class="paragraph">
<p>The order in which the individual objects are output is important: the objects are drawn on top of each other. This means that objects that are output later overlap the previous objects. This can be useful for background images. In &lt;AtPageCreation&gt; you can output a stationery or page header, which is then overwritten with real content in the actual data processing. Or you can include a ready-made page and provide it with the correct page number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject row="1" column="1"&gt;
      &lt;Image file="agb.pdf" width="180mm" height="280mm"/&gt;
    &lt;/PlaceObject&gt;
    &lt;PlaceObject
      column="1"
      row="{sd:number-of-rows()}"&gt;
      &lt;Textblock textformat="right"&gt;
        &lt;Paragraph&gt;
          &lt;Value select="sd:current-page()"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here the page is first integrated and then the current page number is "printed" right-justified in the last line.</p>
</div>
<h4 id="_height_and_width_of_the_objects" class="discrete">Height and width of the objects</h4>
<div class="paragraph">
<p>Images, barcodes, boxes etc. have fixed widths and heights. Texts and tables use the remaining width. That is, the width is the difference between the number of grid cells and the start column plus 1. For an example width of 15 grid boxes and a start column of 6, the text width is 10, unless otherwise specified.</p>
</div>
<div class="paragraph">
<p>If an object (such as images) requires a width or height specification, this can be given either as an absolute value (e.g. 5cm) or in grid cells.</p>
</div>
<div class="paragraph">
<p>Text block
This is a rectangular text area that is not wrapped over multiple pages. Text blocks are ideal for page numbers, short descriptions, column titles and all other units where page breaks are not desired.</p>
</div>
<div class="paragraph">
<p>A &lt;text block&gt; can contain one or more paragraphs (&lt;paragraph&gt;). Both the text block itself and paragraphs can contain information about the font, colors and text formats used. If these are declared in the paragraphs, they take precedence over those specified in the text block.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock color="blue"&gt;
  &lt;Paragraph color="green"&gt;
    &lt;Value&gt;green text&lt;/Value&gt;
  &lt;/Paragraph&gt;
  &lt;Paragraph&gt;
    &lt;Value&gt;this text is in blue (given by Textblock)&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Further formatting options are described in the section Including Fonts and Text Formatting.</p>
</div>
<div id="abb-buntertextblock" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/textblock-paragraph.png" alt="textblock paragraph">
</div>
<div class="title">Figure 2. Specifications in the paragraphs overwrite the values in the text block</div>
</div>
<div class="paragraph">
<p>The complete description of <code>&lt;Textblock&gt;</code> can be found in the reference (section Text block). For texts that may wrap across page boundaries, there is the command &lt;Text&gt; as a child element of &lt;Output&gt;, described in the next section.</p>
</div>
<div class="sect3">
<h4 id="_texts_with_page_break">3.3.1. Texts with page break</h4>
<div class="paragraph">
<p>Texts with a page break are not output with &lt;PlaceObject&gt; like the other objects, but with &lt;Output&gt;. The syntax for this is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Output&gt;
  &lt;Text&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;...&lt;/Value&gt;
    &lt;/Paragraph&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;...&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Text&gt;
&lt;/Output&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Besides the special feature that this text can wrap around several pages, it is also able to wrap around objects. A detailed description of this property is given in the section Flowing around images.</p>
</div>
</div>
<div class="sect3">
<h4 id="_introduction_to_tables">3.3.2. Introduction to tables</h4>
<div class="paragraph">
<p>The table model used in the Publisher corresponds approximately to the model known from HTML.
The rows are specified with <code>&lt;Tr&gt;</code> and the individual columns with <code>&lt;Td&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The structure of a simple table without column declaration, header and footer looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table&gt;
    &lt;Tr&gt;
      &lt;Td&gt;...&lt;/Td&gt;
      &lt;Td&gt;...&lt;/Td&gt;
    &lt;/Tr&gt;
    &lt;Tr&gt;
      &lt;Td&gt;...&lt;/Td&gt;
      &lt;Td&gt;...&lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The contents of the table cells can be paragraphs, pictures and other objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Td&gt;
  &lt;Paragraph&gt;
    &lt;Value&gt;...&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Td&gt;

&lt;Td&gt;
  &lt;Image file="ocean.pdf" width="4"/&gt;
&lt;/Td&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A practical feature of tables is that they can run over several pages, even with repeating headers and footers.
The table cells can contain text, images, barcodes, etc.; in other words, anything that can also be contained in `&lt;PlaceObject&gt;'.
Individual cells are never wrapped to multiple pages, i.e. they are set as a rectangular box, even if the contents would allow wrapping (e.g. texts or tables).</p>
</div>
<div class="paragraph">
<p>A separate chapter is devoted to the topic of tables <a href="#ch-tables2">a separate chapter</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_images">3.3.3. Images</h4>
<div class="paragraph">
<p>Including images is, as already shown at the beginning, very easy. The command for this is `&lt;Image&gt;':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="_samplea.pdf" width="5cm"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Images can be in the formats PDF, JPEG and PNG and can be integrated. All other formats such as Tiff or SVG must be converted first.</p>
</div>
<div class="paragraph">
<p>The command for embedding images is very powerful and is described in detail in a separate section (chapter Embedding Images). The reference contains a short description of all possibilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rectangular_areas_box">3.3.4. Rectangular areas (<code>&lt;Box&gt;`</code>)</h4>
<div class="paragraph">
<p>Rectangular surfaces are created with the command &lt;Box&gt;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Box width="4" height="3" backgroundcolor="limegreen"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div id="abb-buntebox" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/zitronengruen.png" alt="zitronengruen" width="30%">
</div>
<div class="title">Figure 3. A colored box, output with <code>&lt;Box&gt;</code></div>
</div>
<div class="paragraph">
<p>Boxes are often used for colored areas behind a text or table. In this case the allocation of the raster cells must be switched off (allocate="no" at &lt;PlaceObject&gt;), otherwise a warning will be issued because of the double allocation of the area in the PDF (see section Raster). An example for the use of boxes as background can be found in the section about grip marks. There, the parameter bleed is also explained, which is used to enlarge the box in one or more directions, if they are located at the page margin.</p>
</div>
</div>
<div class="sect3">
<h4 id="_circle">3.3.5. Circle</h4>
<div class="paragraph">
<p>Circles are output with the command &lt;Circle&gt;:</p>
</div>
<div class="paragraph">
<p>Kreise werden mit dem Befehl <code>&lt;Circle&gt;</code> ausgegeben:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject column="5" row="5"&gt;
    &lt;Circle radiusx="3" backgroundcolor="goldenrod"/&gt;
  &lt;/PlaceObject&gt;
  &lt;PlaceObject column="5" row="5"&gt;
    &lt;Circle radiusx="1pt" backgroundcolor="black"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example the radius of the large circle is 3 grid boxes and the center of the circle is in the upper left corner of the box (5.5). So it starts in the second column and the second row and extends to the seventh column and row. Circles have the special property that no grid cells are marked as allocated.</p>
</div>
<div id="abb-kreismitmittelpunkt" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/kreismitmittelpunkt.png" alt="kreismitmittelpunkt" width="30%">
</div>
<div class="title">Figure 4. Circle with radius 3 and center at (5,5)</div>
</div>
</div>
<div class="sect3">
<h4 id="_rules">3.3.6. Rules</h4>
<div class="paragraph">
<p>There are horizontal and vertical rules. These can have a thickness, a color and a length. Rules can be solid and dashed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject column="2" row="2"&gt;
  &lt;Rule direction="horizontal" length="4" dashed="yes"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rules are always aligned in the upper left corner of the box.</p>
</div>
<div id="abb-gestricheltelinie" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/gestricheltelinie.png" alt="gestricheltelinie" width="80%">
</div>
<div class="title">Figure 5. A dotted line.</div>
</div>
</div>
<div class="sect3">
<h4 id="_frame">3.3.7. Frame</h4>
<div class="paragraph">
<p>The frame (like the transformation below) is a special object that you place over another object. A frame (<code>&lt;Frame&gt;</code>) always contains another object, for example a picture.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Frame
    border-bottom-left-radius="8pt"
    border-bottom-right-radius="8pt"
    border-top-left-radius="8pt"
    border-top-right-radius="8pt"
    framecolor="darkseagreen"
    rulewidth="2pt"&gt;
    &lt;Image file="_samplea.pdf" width="4"/&gt;
  &lt;/Frame&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the frame works as a clipping path, the parts outside are hidden. You can also set the rulewidth to zero and make it invisible, then only the content will be clipped.</p>
</div>
<div id="abb-eagleframe" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/eagle-frame.png" alt="eagle frame" width="50%">
</div>
<div class="title">Figure 6. Frame with radius 8pt and line width of 2 points.</div>
</div>
</div>
<div class="sect3">
<h4 id="ch-output-transformation">3.3.8. Transformation</h4>
<div id="abb-transformationen" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/transformation.png" alt="transformation" width="100%">
</div>
<div class="title">Figure 7. The four basic transformations (from the PDF specification)</div>
</div>
<div class="paragraph">
<p>Like the frame, the transformation is an enclosing element. This means that the element must still have a content, such as an image.</p>
</div>
<div class="paragraph">
<p>In the transformation, you specify a matrix consisting of six numbers in the form "a b c d e f". The transformation from one coordinate system to another is mapped using the following 3x3 matrix:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/formel1.png" alt="formel1" width="50%">
</div>
</div>
<div class="paragraph">
<p>If you want to calculate the new coordinates x' and y' from the coordinates x and y, you can also do this using the following formulas:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/formel2.png" alt="formel2" width="30%">
</div>
</div>
<div class="paragraph">
<p>There are the following basic transformation types (see figure The four basic transformations (from the PDF specification))</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Displacements (translation) are described with the values 1 0 0 1 t<sub>x</sub> t<sub>y</sub> . Scaling is specified with s<sub>x</sub> 0 0 0 s<sub>y</sub> 0 0 0</p>
</li>
<li>
<p>Rotation can be achieved with cos  sin  -sin  cos  0 0</p>
</li>
<li>
<p>Displacements (skew) are described with 1 tan  tan  1 0 0</p>
</li>
<li>
<p>The unchanging transformation is 1 0 0 1 0 0 (identical figure).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Transformation matrix="1.8 0.2 0.2 0.8 0 0 "&gt;
    &lt;Image file="ocean.pdf" width="4"/&gt;
  &lt;/Transformation&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div id="abb-eagletransformation" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/eagle-transform.png" alt="eagle transform" width="50%">
</div>
<div class="title">Figure 8. Shifting and scaling by the transformation matrix.</div>
</div>
</div>
<div class="sect3">
<h4 id="_barcodes_qr_codes">3.3.9. Barcodes, QR Codes</h4>
<div class="paragraph">
<p>Barcodes or QR codes are integrated via the command &lt;Barcode&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Barcode select="'Hello world'" type="QRCode" width="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output is as expected</p>
</div>
<div id="abb-qrhallowelt" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/qrcode-hallowelt.png" alt="qrcode hallowelt" width="20%">
</div>
<div class="title">Figure 9. Hello World in pixels</div>
</div>
<div class="paragraph">
<p>Barcodes in the coding "EAN13" and "Code 128" can be output.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-grid">3.4. Grid</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The grid is a set of invisible lines or boxes to which objects are aligned. It is familiar from newspaper printing, for example, where there are often five or six columns. All pictures or advertisements then fill one or more columns. Likewise, there are often grid lines in catalogues that work in a similar way. In this way a clear layout is achieved.</p>
</div>
<div class="paragraph">
<p>The speedata Publisher always works with such a grid. Since every publication is different, there is no way to find a sensible default for it. By default the grid is set to a size of 1cm  1cm. It applies to the page as well as all positioning frames and groups. You can display the grid with sp --grid or &lt;Trace grid="yes"/&gt; in the layout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid height="12pt" nx="10"/&gt;
  &lt;Trace grid="yes"/&gt;
  &lt;Pageformat width="8cm" height="4cm"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject column="3" row="2"&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Hello world!&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div id="abb-08-raster" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/08-raster.png" alt="08 raster" width="50%">
</div>
<div class="title">Figure 10. Simple grid</div>
</div>
<div class="paragraph">
<p>If you look closely, you will see that the first and then every fifth stroke is drawn a little darker. This helps to count raster cells if necessary. The red line shows the border of the page, in the default setting the borders are 1cm each.</p>
</div>
<div class="sect3">
<h4 id="_positioning_objects_in_the_grid">3.4.1. Positioning objects in the grid</h4>
<div class="paragraph">
<p>In the example above, you can see that the entries for row and column refer to the grid, the origin in the upper left corner has the coordinate 1,1. Besides the placement in grid coordinates, there is also the absolute placement: here, the object can always be positioned exactly at a certain position in the PDF. This is suitable, for example, for logos or background images that are to be displayed at a fixed position. These two variants cannot be combined within one output with &lt;PlaceObject&gt;: you have to choose one of the two variants.</p>
</div>
<div class="listingblock">
<div class="title">Raster-based output (top) and absolute output (bottom). For raster-based output, the specifications are coordinates in the page grid, where the upper left corner is position 1,1. For absolute positioning, the specification is measured from the upper left corner. As soon as one of the two specifications is a length specification, the absolute positioning is taken.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;!-- grid --&gt;
&lt;PlaceObject row="4" column="5"&gt;
    &lt;Image file="_samplea.pdf" width="5"/&gt;
&lt;/PlaceObject&gt;

&lt;!-- absolute --&gt;
&lt;PlaceObject row="12mm" column="5cm"&gt;
    &lt;Image file="_samplea.pdf" width="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The line and column specifications always refer to the upper left-hand corner of the object, unless you specify with hreference or vreference that the specification should refer to the lower or right-hand corner. The objects align themselves to the upper and left edge of the first grid cell. Using halign and valign you can also align the object to the right or bottom:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject column="{sd:number-of-columns()}" row="1" hreference="right"&gt;
  &lt;Image file="logo.pdf" width="2.5"/&gt;
&lt;/PlaceObject&gt;

&lt;PlaceObject column="{sd:number-of-columns()}" row="4" hreference="right" halign="right"&gt;
  &lt;Image file="logo.pdf" width="2.5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/hreferenz.png" alt="hreferenz" width="100%">
</div>
<div class="title">Figure 11. By specifying hreference="right", the column specification is not used for the left edge of the image, but for the right edge. If the width of the image does not correspond to a multiple of the raster width, as in this example, the alignment within the raster cell must also be corrected with halign="right" (right logo).</div>
</div>
</div>
<div class="sect3">
<h4 id="_defining_the_grid">3.4.2. Defining the grid</h4>
<div class="paragraph">
<p>The grid is set globally with the command &lt;SetGrid&gt;. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetGrid height="12pt" width="5mm"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>sets the grid height to 12 points and the width to 5 millimetres. In addition to the fixed values, there is also the possibility to set the number of grid cells horizontally and vertically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetGrid nx="9" ny="9" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a so-called nine-division, which is often used in book design. It is also possible to define distances between the grid cells, as is common in newspaper typesetting, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetGrid width="45mm" dx="3mm" height="12pt" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the grid does not fit completely into the type area, e.g. with a grid width of 3 centimeters and a page width of 10 centimeters, this leads to a conflict in the page layout. This causes the right or bottom margin to be shifted and does not match the values specified in the page type.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_is_the_grid_needed_for">3.4.3. What is the grid needed for?</h4>
<div class="paragraph">
<p>If you call <code>sp</code> with the <code>--show-gridallocation</code> option, you can see immediately what the grid is for. Occupied cells are marked internally, so that no other object can be placed in this area.  At least not without an error message or the hint that no area should be kept free for it (allocate="no" in &lt;PlaceObject&gt;).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid height="12pt" nx="10"/&gt;
  &lt;Trace grid="yes" gridallocation="yes"/&gt;
  &lt;Pageformat width="8cm" height="4cm"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject column="3" row="2"&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Hello world!&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div id="abb-08-raster2" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/08-raster2.png" alt="08 raster2" width="80%">
</div>
<div class="title">Figure 12. Grid with grid occupancy display switched on. The yellow area is internally marked as "allocated".</div>
</div>
<div class="paragraph">
<p>Attempting to place an object in an already occupied area gives a warning.</p>
</div>
<div class="paragraph">
<p>If you add the lines</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject column="1" row="1"&gt;
  &lt;Image file="ocean.pdf" height="4"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>the following grid assignment results:</p>
</div>
<div id="abb-08-raster3" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/08-raster3.png" alt="08 raster3" width="50%">
</div>
<div class="title">Figure 13. Double occupied grid. Areas that share (overlap) several objects are marked red.</div>
</div>
<div class="paragraph">
<p>and a warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
PlaceObject: Image in row 1 and column 1, width=4, height=4 (page 1)
Warning: Conflict in grid
...</pre>
</div>
</div>
<div class="paragraph">
<p>If you omit the specifications for column and row, the publisher will automatically look for the next free position.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Trace grid="yes"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Image width="4" file="_samplea.pdf"/&gt;
    &lt;/PlaceObject&gt;
    &lt;PlaceObject&gt;
      &lt;Image width="4" file="_sampleb.pdf"/&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</pre>
</div>
</div>
<div id="abb-twoimages" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/twoimages.png" alt="twoimages" width="50%">
</div>
<div class="title">Figure 14. Objects automatically search for the next free space, unless otherwise specified.</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Absolutely placed objects do not occupy areas in the grid by default. In this case allocate="no" is set. With allocate="yes" the behaviour can be set to the same as for objects placed in the rater.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_separate_grids_in_groups">3.4.4. Separate grids in groups</h4>
<div class="paragraph">
<p>The following is an example of a grid within a group that differs from the global grid.
Without the explicit <code>&lt;Grid &#8230;&#8203; /&gt;</code> specification, the grid is taken from the page.</p>
</div>
<div class="listingblock">
<div class="title">The group has its own grid that is independent of the page grid.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid nx="4" ny="4"/&gt;
  &lt;Trace grid="yes" gridallocation="yes" objects="yes"/&gt;

  &lt;Record element="data"&gt;
    &lt;Group name="table"&gt;
      &lt;Grid width="1cm" height="12pt"/&gt;
      &lt;Contents&gt;
        &lt;PlaceObject&gt;
          &lt;Table width="4" stretch="max"&gt;
            &lt;Tr&gt;
              &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Cell 1/1&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
              &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Cell 2/1&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
            &lt;/Tr&gt;
            &lt;Tr&gt;
              &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Cell 1/2&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
              &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Cell 2/2&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
            &lt;/Tr&gt;
          &lt;/Table&gt;
        &lt;/PlaceObject&gt;
        &lt;PlaceObject row="4" column="2"&gt;
          &lt;Image file="ocean.pdf" width="3"/&gt;
        &lt;/PlaceObject&gt;
      &lt;/Contents&gt;
    &lt;/Group&gt;

    &lt;PlaceObject groupname="table"/&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div id="abb-08-raster4" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/08-raster4.png" alt="08 raster4" width="50%">
</div>
<div class="title">Figure 15. Section of a page. The grid within the group is much finer than the rough page grid.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-positioningarea">3.5. Areas on the page (PositioningArea)</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The pages can be divided into virtual areas. To do this, you specify frames in the page type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="seite" test="true()"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;PositioningArea name="pagehead"&gt;
    &lt;PositioningFrame width="19" height="2" row="1" column="1"/&gt;
  &lt;/PositioningArea&gt;
  &lt;PositioningArea name="left"&gt;
    &lt;PositioningFrame width="4" height="{sd:number-of-rows() - 3}" row="4" column="2"/&gt;
  &lt;/PositioningArea&gt;
  &lt;PositioningArea name="text"&gt;
    &lt;PositioningFrame width="10" height="{sd:number-of-rows() - 3}" row="4" column="8"/&gt;
  &lt;/PositioningArea&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Three areas are defined here, which can be addressed with the attribute area="&#8230;&#8203;" when it comes to the output of objects or the movement of the cursor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject area="pagehead"&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;pagehead, height of the area: &lt;/Value&gt;
        &lt;Value select="sd:number-of-rows('pagehead')"&gt;&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
  &lt;PlaceObject area="left"&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;left, height: &lt;/Value&gt;
        &lt;Value select="sd:number-of-rows('left')"&gt;&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
  &lt;PlaceObject area="text"&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;text, width: &lt;/Value&gt;
        &lt;Value select="sd:number-of-columns('text')"&gt;&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/positioningareas.png" alt="positioningareas" width="40%">
</div>
<div class="title">Figure 16. The areas of the page are addressed with area="&#8230;&#8203;". Some layout functions allow you to specify an area.</div>
</div>
<div class="sect3">
<h4 id="ch-cursor">3.5.1. Cursor</h4>
<div class="paragraph">
<p>The cursor is a virtual marker that is moved in the grid after each output, unless it is explicitly prohibited (keepposition="yes" at &lt;PlaceObject&gt;). The selection is controlled separately for each area. I.e. an output in one area does not result in a change of the cursor in another area. If an object is output that extends to the right margin, the cursor automatically jumps to the next free line. The cursor can be moved line by line with &lt;NextRow&gt;. If you specify rows="n", the cursor is placed n rows lower. If you specify row="n", the cursor is placed in row n.</p>
</div>
<div class="paragraph">
<p>The following example illustrates the behavior of the cursor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Trace grid="yes"/&gt;

  &lt;Record element="data"&gt;
    <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;PlaceObject&gt;
      &lt;Box width="{sd:number-of-columns()}" height="1"/&gt;
    &lt;/PlaceObject&gt;
    &lt;NextRow rows="1" /&gt;
    &lt;PlaceObject&gt;
      &lt;Box width="{sd:number-of-columns()}" height="1"/&gt;
    &lt;/PlaceObject&gt;

    &lt;NextRow rows="2" /&gt;

    &lt;PlaceObject&gt;
      &lt;Box width="4" height="1"/&gt;
    &lt;/PlaceObject&gt;
    <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;NextRow rows="1" /&gt;
    &lt;PlaceObject&gt;
      &lt;Box width="4" height="1"/&gt;
    &lt;/PlaceObject&gt;

  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The two objects cover the entire width. The cursor automatically jumps to the next line as soon as it is behind the right edge. The &lt;NextRow&gt; creates the free row.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The cursor is now in row 6 and column 5. The following row feed sets the cursor in row 7 and column 1.</td>
</tr>
</table>
</div>
<div id="abb-cursor" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/cursor.png" alt="cursor" width="100%">
</div>
<div class="title">Figure 17. The behavior of NextRow</div>
</div>
</div>
<div class="sect3">
<h4 id="_overflow_of_texts_into_the_next_frame">3.5.2. Overflow of texts into the next frame</h4>
<div class="paragraph">
<p>When outputting texts using the commands &lt;Output&gt;/&lt;Text&gt;, page breaks can occur in texts, as described in the section Texts with Page Break. This works not only for page boundaries, but also for areas on the pages, provided that they have the same name.</p>
</div>
<div class="paragraph">
<p>This page definition serves as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="page" test="true()"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;PositioningArea name="text"&gt;
    &lt;PositioningFrame width="4" height="17" row="2" column="1"/&gt;
    &lt;PositioningFrame width="4" height="10" row="3" column="6"/&gt;
    &lt;PositioningFrame width="4" height="24" row="1" column="11"/&gt;
  &lt;/PositioningArea&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output is generated via &lt;Output&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Output area="text"&gt;
  &lt;Text&gt;
    &lt;Paragraph&gt;
      &lt;Value select="sd:dummytext(3)"/&gt;
    &lt;/Paragraph&gt;
  &lt;/Text&gt;
&lt;/Output&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/textoverflow.png" alt="textoverflow" width="100%">
</div>
<div class="title">Figure 18. The text automatically flows into the next free area. If necessary, a page break is inserted.</div>
</div>
<div class="paragraph">
<p>You can also force a frame to change. With &lt;NextFrame&gt; and the specification of an area (area="&#8230;&#8203;") the cursor is placed in the top left corner of the next frame, if necessary a page break is inserted.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-organisationdaten">3.6. File organization</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>This section describes how the necessary files (layout, data, images and font files) must be organized, where they are stored, what they must be called, and so on.</p>
</div>
<div class="paragraph">
<p>When the Publisher starts, it reads the current (working) directory and all child directories and saves the file names in a list. As soon as a resource is loaded, this list is used to check whether a corresponding file exists. No distinction is made as to which directory the file is located in.</p>
</div>
<div class="paragraph">
<p>It follows from this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If something changes in the file system during the run, the Publisher will not notice this.</p>
</li>
<li>
<p>It does not matter what the directories are called. The images can, but do not have to be stored in the directory with the name "images".</p>
</li>
<li>
<p>If the working directory is too large, the startup process is slow. A few thousand files in the working directory are usually no problem.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>There are exceptions to the rule:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You can use <code>sp --no-local</code> to instruct the publisher not to search the working directory recursively.</p>
</li>
<li>
<p>With <code>--extra-dir</code> you can add a directory to be searched recursively.</p>
</li>
<li>
<p>With <code>sp --systemfonts</code>, font files are also searched in directories that are predefined by the system.</p>
</li>
<li>
<p>With <code>sp --wd DIR</code> the publisher changes to this directory before starting.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For a description of the parameters see the appendix Starting the Publisher from the Command Line.</p>
</div>
<div class="sect3">
<h4 id="_what_names_must_the_data_file_and_the_layout_file_have">3.6.1. What names must the data file and the layout file have?</h4>
<div class="paragraph">
<p>The speedata Publisher looks for the layout with the name layout.xml and the data file with the name data.xml. Both can be adjusted on the command line (--layout=XYZ and --data=XYZ) and in the configuration file (layout=XYZ and data=XYZ). See the appendices Starting the Publisher from the Command Line and Configuring the Publisher.</p>
</div>
<div id="abb-19-dateisystem" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/18-dateisystem.png" alt="18 dateisystem" width="100%">
</div>
<div class="title">Figure 19. Possible file organization in a directory. The name of the subdirectories (folders) is arbitrary.</div>
</div>
</div>
<div class="sect3">
<h4 id="_splitting_layout_sets_of_rules_into_individual_files">3.6.2. Splitting layout sets of rules into individual files</h4>
<div class="paragraph">
<p>You can split the layout ruleset into several files. There are two ways to merge the files. On the command line, you can use --extra-xml to specify one or more layout rulesets, which are also read in. Alternatively, you can use the mechanism via XInclude, here in the case of a font definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"&gt;

  &lt;LoadFontfile name="DejaVuSerif" filename="DejaVuSerif.ttf" /&gt;
  ...

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file can then be included with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  &gt;

  &lt;xi:include href="dejavu.xml"/&gt;
  ...

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The namespace for XInclude must be declared as above, otherwise there will be a syntax error in the XML file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_splitting_data_into_individual_files">3.6.3. Splitting data into individual files</h4>
<div class="paragraph">
<p>The data file can also be split into several files. XInclude is used for this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;catalog xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
  &lt;xi:include href="globalsettings.xml"/&gt;
  &lt;xi:include href="article0001.xml"/&gt;
  &lt;xi:include href="article0002.xml"/&gt;
  ...
&lt;/catalog&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The namespace for XInclude must be declared in the root node (in the above example, 'catalog').</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hyphenation_language_settings">3.7. Hyphenation / language settings</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Hyphenation is necessary in most Western languages to have an acceptable appearance for narrow texts. Hyphenation is an integral part of the pagination algorithm, for example to avoid multiple hyphenations in consecutive lines.</p>
</div>
<div class="paragraph">
<p>Hyphenation is controlled by language in the Publisher and is pattern-based. The language can be set globally via &lt;Options mainlanguage="&#8230;&#8203;"&gt; or paragraphwise.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Options mainlanguage="German" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>switches the entire document to German hyphenation patterns, while</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Paragraph language="German"&gt;
    &lt;Value&gt;Autobahn&lt;/Value&gt;
&lt;/Paragraph&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>changes the language for only one paragraph. The available languages are described in the command reference under &lt;Options&gt;.</p>
</div>
<div class="paragraph">
<p>If you want to test if the words are hyphenated correctly, you can create small marks with &lt;Trace hyphenation="yes" /&gt;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Options mainlanguage="German" /&gt;
  &lt;Trace hyphenation="yes" /&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock width="3"&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Autobahn&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in the following:</p>
</div>
<div id="abb-trennstellenimtext" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/13-autobahn.png" alt="13 autobahn" width="50%">
</div>
<div class="title">Figure 20. Show hyphenation points in text</div>
</div>
<div class="paragraph">
<p>Via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Hyphenation&gt;er-go-no-mic&lt;/Hyphenation&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can define hyphenation suggestions or exceptions for individual words. In this way, the words are then only hyphenated at the positions indicated by a hyphen.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
With optical margin alignment, which is described in the section Optical Margin Adjustment, you can reduce the number of hyphenations in the document somewhat.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="ch-trennung-ausschalten">3.7.1. Turn off paragraph hyphenations</h4>
<div class="paragraph">
<p>For single paragraphs you can switch off the automatic hyphenation by defining a text format with hyphenate="no".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineTextformat name="nohyphen" hyphenate="no"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No words are hyphenated in paragraphs marked in this way. The use of text formats is described in a separate section.</p>
</div>
<div class="paragraph">
<p>The hyphenation character can also be changed using a text format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineTextformat name="dothyphen" hyphenchar=""/&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/13-dothyphen.png" alt="13 dothyphen" width="50%">
</div>
<div class="title">Figure 21. Other character for word hyphenations</div>
</div>
</div>
<div class="sect3">
<h4 id="_allow_hyphenations_only_on_certain_characters">3.7.2. Allow hyphenations only on certain characters</h4>
<div class="paragraph">
<p>A property of &lt;Paragraph&gt; allows to limit the characters where a line break may be inserted. This is often important for technical data where, for example, type designations in the form 12-345/AB occur and should not be hyphenated. In the following example, a line break may only be inserted after a slash:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Paragraph allowbreak="/"&gt;
  &lt;Value&gt;https://download.speedata.de/publisher/development/&lt;/Value&gt;
&lt;/Paragraph&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default setting for allowbreak is " -", i.e. a break at a space or hyphen.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This is an experimental feature in the Publisher. It is likely to be associated with a text format in a future version.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-fonts">3.8. Using fonts</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Embedding fonts in the common formats is very easy. The formats Type1 (files .pfb and .afm) as well as TrueType and OpenType (files .ttf and .otf) are supported.</p>
</div>
<div class="paragraph">
<p>To make fonts known and used by the publisher, two steps are necessary. The first step is to load a font file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="MinionRegular" filename="MinionPro-Regular.otf" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This assigns the file name MinionPro-Regular.otf the internal name MinionRegular. In the second step, these internal names are then used to define families:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="textfont" fontsize="9" leading="11"&gt;
  &lt;Regular fontface="MinionRegular"/&gt;
  &lt;Bold fontface="MinionBold"/&gt;
  &lt;Italic fontface="MinionItalic"/&gt;
  &lt;BoldItalic fontface="MinionBoldItalic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The last three cuts (bold, italic and bold italic) do not have to be specified if they are not used in the layout. fontsize is the font height in points, leading is the distance between two baselines.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/14-fontsize-leading.png" alt="14 fontsize leading" width="100%">
</div>
<div class="title">Figure 22. Font size and line spacing</div>
</div>
<div class="paragraph">
<p>The font is used in different ways: in the commands &lt;Text Block&gt;, &lt;Text&gt;, &lt;Paragraph&gt;, &lt;Table&gt;, &lt;NoBreak&gt; and &lt;Barcode&gt;, a font can be specified with the attribute fontface, e.g. &lt;Paragraph fontface="text font"&gt;. Temporarily you can switch to another family with the command &lt;Fontface fontfamily="&#8230;&#8203;"&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Paragraph&gt;
  &lt;Fontface fontfamily="title"&gt;
    &lt;Value&gt;Preface&lt;/Value&gt;
  &lt;/Fontface&gt;
  &lt;Value&gt; more text&lt;/Value&gt;
&lt;/Paragraph&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_text_labeling_in_the_layout_rules">3.8.1. Text labeling in the layout rules</h4>
<div class="paragraph">
<p>There are several ways to switch to the cuts fat, italic and fat-italic. The most direct one is to switch with the commands B and I, these can also be nested within each other:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock fontface="textfont"&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;A wonderful &lt;/Value&gt;
      &lt;B&gt;&lt;Value&gt;serenity&lt;/Value&gt;&lt;/B&gt;
      &lt;Value&gt; has taken possession &lt;/Value&gt;
      &lt;I&gt;&lt;Value&gt;of my&lt;/Value&gt;
        &lt;Value&gt; &lt;/Value&gt;
        &lt;B&gt;&lt;Value&gt;entire soul,&lt;/Value&gt;&lt;/B&gt;
      &lt;/I&gt;
      &lt;Value&gt; like these sweet mornings.&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/14-fonts.png" alt="14 fonts" width="100%">
</div>
<div class="title">Figure 23. Text markup in layout. Underline (not shown) is possible with the command &lt;U&gt;.</div>
</div>
</div>
<div class="sect3">
<h4 id="_text_markup_in_the_data">3.8.2. Text markup in the data</h4>
<div class="paragraph">
<p>If there are markups in the data (e.g. as HTML tags), then this works in principle in exactly the same way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock fontface="textschrift"&gt;
    &lt;Paragraph&gt;
      &lt;Value select="."/&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with the corresponding data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;A wonderful &lt;b&gt;serenity&lt;/b&gt; has taken possession
  &lt;i&gt;of my &lt;b&gt;entire soul,&lt;/b&gt;&lt;/i&gt; like these sweet
  mornings.&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result is the same as above. The tags can also be written in capital letters in the data: &lt;B&gt; instead of &lt;b&gt;. Nesting is also allowed and again &lt;u&gt; is underlined.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the data is not in well-formed XML but in HTML format for example, you can use the layout function sd:decode-html() to interpret it.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_opentype_features">3.8.3. OpenType Features</h4>
<div class="paragraph">
<p>The OpenType format knows so-called OpenType features, such as old style figures or small caps. Some of these features can be activated at &lt;LoadFontfile&gt;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;!-- Oldstyle figures / text figures --&gt;
  &lt;LoadFontfile
    name="MinionRegular-osf"
    filename="MinionPro-Regular.otf"
    oldstylefigures="yes" /&gt;

  &lt;!-- Small caps --&gt;
  &lt;LoadFontfile
    name="MinionRegular-smcp"
    filename="MinionPro-Regular.otf"
    smallcaps="yes" /&gt;

  &lt;DefineFontfamily name="osftext" fontsize="10" leading="12"&gt;
    &lt;Regular fontface="MinionRegular-osf"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;DefineFontfamily name="smcptext" fontsize="10" leading="12"&gt;
    &lt;Regular fontface="MinionRegular-smcp"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph fontface="osftext"&gt;
          &lt;Value&gt;Text with oldstyle figures 1234567890&lt;/Value&gt;
        &lt;/Paragraph&gt;
        &lt;Paragraph fontface="smcptext"&gt;
          &lt;Value&gt;Text with small caps 1234567890&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/osfsmcp.png" alt="osfsmcp" width="100%">
</div>
<div class="title">Figure 24. Text figures (above) often make reading the numbers more pleasant. Real small caps (below) differ significantly from mathematically reduced capital letters. The line width and proportions must be adjusted. Depending on the font used, smallcaps also switches to "old style figures".</div>
</div>
</div>
<div class="sect3">
<h4 id="_optical_margin_alignment">3.8.4. Optical margin alignment</h4>
<div class="paragraph">
<p>With the parameter marginprotrusion (percentage) at the command &lt;LoadFontfile&gt; you can determine how far certain characters (comma, dot and hyphen) protrude into the right margin. This can be used to achieve an optically smoother margin in justified text:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Options mainlanguage="German" /&gt;
  &lt;LoadFontfile name="main"
                filename="MinionPro-Regular.otf"
                marginprotrusion="100" /&gt;

  &lt;DefineFontfamily name="text" fontsize="10" leading="12"&gt;
    &lt;Regular fontface="main"/&gt;
  &lt;/DefineFontfamily&gt;


  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock width="4"&gt;
        &lt;Paragraph&gt;
          &lt;Value select="."/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The associated data file (<code>data.xml</code>) is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;A wonderful serenity has taken possession of my entire
  soul, like these sweet mornings of spring which I enjoy
  with my whole heart. I am alone, and feel the charm of
  existence in this spot, which was created for the bliss of
  souls like mine. I am so happy, my dear friend, so
  absorbed in the exquisite sense of mere tranquil
  existence, that I neglect my talents.&lt;/data&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/marginprotrusion.png" alt="marginprotrusion" width="100%">
</div>
<div class="title">Figure 25. Left: Comma, period and hyphen protrude into the right margin. Right: without optical margin alignment.</div>
</div>
</div>
<div class="sect3">
<h4 id="_in_which_directory_must_the_font_files_be_located">3.8.5. In which directory must the font files be located?</h4>
<div class="paragraph">
<p>The organization of the files, and thus the fonts, is described in the directory File Organization. With <code>sp --systemfonts</code> when calling the publisher, you can access the system-wide font files.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tips_and_tricks">3.8.6. Tips and tricks</h4>
<div class="paragraph">
<p>In order to save yourself work in defining fonts, you can use the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sp list-fonts --xml</pre>
</div>
</div>
<div class="paragraph">
<p>use. This will then list all font files found, together with a line that can be used directly in the layout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sp list-fonts --xml
&lt;LoadFontfile name="DejaVuSans-Bold"
              filename="DejaVuSans-Bold.ttf" /&gt;
&lt;LoadFontfile name="DejaVuSans-BoldOblique"
              filename="DejaVuSans-BoldOblique.ttf" /&gt;
&lt;LoadFontfile name="DejaVuSans-ExtraLight"
              filename="DejaVuSans-ExtraLight.ttf" /&gt;
...</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If no font is specified for a paragraph or text block (etc.), the system uses the text font family, which is also predefined in the Publisher and can be overwritten. See the Preferences in the Publisher appendix.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_missing_characters_and_replacement_fonts">3.8.7. Missing characters and replacement fonts</h4>
<div class="paragraph">
<p>The character sets in the font files are usually very limited. For example, the speedata Publisher is delivered with the free font "TeXGyreHeros" (a very good Helvetica clone). However, the font file only contains characters that cover western languages, but not, for example, Greek, Arabic, Chinese etc. Also the whole Unicode special characters like U+2685 DIE FACE-6 () are not included. If a character is requested that is not contained in the font, an error message is displayed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Error: Glyph f1c7 (hex) is missing from the font "TeXGyreHeros-Regular"</pre>
</div>
</div>
<div class="paragraph">
<p>This error can be suppressed with the command &lt;Options&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;Options reportmissingglyphs="no"/&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can also specify a replacement font at &lt;LoadFontfile&gt;, which will be searched as soon as a character is not found:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="helvetica" filename="texgyreheros-regular.otf"&gt;
  &lt;Fallback filename="fontawesome-webfont.ttf" /&gt;
  &lt;Fallback filename="line-awesome.ttf" /&gt;
&lt;/LoadFontfile&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>First the font texgyreheros-regular.otf is searched, then fontawesome-webfont.ttf and finally line-awesome.ttf.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aliases">3.8.8. Aliases</h4>
<div class="paragraph">
<p>There is a command to add an alternate name for an existing font name to the list of known font names:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontalias existing="..." alias="..."/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The commands</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="DejaVuSerif"
        filename="DejaVuSerif.ttf" /&gt;
&lt;LoadFontfile name="DejaVuSerif-Bold"
        filename="DejaVuSerif-Bold.ttf" /&gt;
&lt;LoadFontfile name="DejaVuSerif-BoldItalic"
        filename="DejaVuSerif-BoldItalic.ttf" /&gt;
&lt;LoadFontfile name="DejaVuSerif-Italic"
        filename="DejaVuSerif-Italic.ttf" /&gt;

&lt;DefineFontalias existing="DejaVuSerif" alias="serif"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-Bold" alias="serif-bold"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-Italic" alias="serif-italic"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-BoldItalic"
         alias="serif-bolditalic"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>now allow to define font families in general as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="title" fontsize="15" leading="17"&gt;
  &lt;Regular fontface="serif"/&gt;
  &lt;Bold fontface="serif-bold"/&gt;
  &lt;BoldItalic fontface="serif-bolditalic"/&gt;
  &lt;Italic fontface="serif-italic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>i.e. independent of the font actually used. With the options described in the section Splitting Layout Rules into Separate Files, you can now swap the font definition into a separate file and, if necessary, quickly choose between different fonts by including the desired files.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-textformate">3.9. Text formats</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Text formats are used to control the paragraphs. You can use them to control various things like text indents, text alignment, whore children and cobbler boys, pagination and more.</p>
</div>
<div class="paragraph">
<p>The individual parameters are described in the reference under &lt;DefineTextformat&gt;.</p>
</div>
<div class="paragraph">
<p>The text format called text is predefined in the Publisher and is used in all places where no other text format is specified. It is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineTextformat name="text" alignment="justified"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will output all texts in justified text and with hyphenation, without indentation and without spaces at the top and bottom, as long as</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the format text is not redefined or</p>
</li>
<li>
<p>another text format is specified at <code>&lt;Paragraph&gt;</code> or <code>&lt;Textblock&gt;</code> (the attribute for this is called text format).</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_page_breaks_between_texts">3.9.1. Page breaks between texts</h4>
<div class="paragraph">
<p>Page breaks, for example after a heading, are undesirable. To prevent page breaks at these points, the text format property break-below can be switched off:</p>
</div>
<div class="listingblock">
<div class="title">To prevent a page break from being inserted between the heading and the text, you need to adjust the text format of the heading.</div>
<div class="content">
<pre>&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
  &lt;Pageformat width="100mm" height="70mm"/&gt;
  &lt;Trace textformat="yes"/&gt;

  &lt;DefineTextformat name="keeptogether" break-below="no"/&gt;

  &lt;DefineFontfamily name="h1" fontsize="18" leading="20"&gt;
    &lt;Regular fontface="sans-bold"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;Record element="data"&gt;
    &lt;Output&gt;
      &lt;Text&gt;
        &lt;Paragraph fontface="h1" textformat="keeptogether"&gt;
          &lt;Value&gt;A Title&lt;/Value&gt;
        &lt;/Paragraph&gt;
        &lt;Paragraph&gt;
          &lt;Value select="sd:dummytext()"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Text&gt;
    &lt;/Output&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/textmitueberschrift.png" alt="textmitueberschrift" width="50%">
</div>
<div class="title">Figure 26. Output of a heading. The text format with the break-below property prevents wrapping under the heading.</div>
</div>
<div class="paragraph">
<p>However, the break-below="no" property is only taken into account within a text output (&lt;Output&gt;). You can insert a page break between two text outputs, but this cannot be prevented. In order to output a text in one piece nevertheless, which first has to be assembled from the data, one stores the individual contents in variables and then outputs them in one piece.</p>
</div>
<div class="listingblock">
<div class="title">With variables and <code>&lt;Copy-of&gt;</code> you can compose texts and output them in one piece.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="mytitle"&gt;
    &lt;Paragraph fontface="h1" textformat="keeptogether"&gt;
      &lt;Value&gt;A Title&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/SetVariable&gt;

  &lt;SetVariable variable="mytext"&gt;
    &lt;Paragraph&gt;
      &lt;Value select="sd:dummytext()"/&gt;
    &lt;/Paragraph&gt;
  &lt;/SetVariable&gt;

  &lt;Output&gt;
    &lt;Text&gt;
      &lt;Copy-of select="$mytitle"/&gt;
      &lt;Copy-of select="$mytext"/&gt;
    &lt;/Text&gt;
  &lt;/Output&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tracing">3.9.2. Tracing</h4>
<div class="paragraph">
<p>The command <code>&lt;Trace textformat="yes"/&gt;</code> activates "tooltips" in the PDF above the texts that output the text format used there.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/tracetextformat.png" alt="tracetextformat" width="100%">
</div>
<div class="title">Figure 27. Tooltip with the text format</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-textformatierung">3.10. Text formatting</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>&lt;Text Block&gt; and &lt;Text&gt; contain one or more paragraphs (command &lt;Paragraph&gt;). The actual texts are encapsulated there within &lt;Value&gt;. There are numerous possibilities to influence the formatting of the texts. The switches for the font styles were introduced in Include Fonts. With a similar functionality there are the following commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&lt;Sub&gt; and &lt;Sup&gt;</dt>
<dd>
<p>Subscript and superscript text.</p>
</dd>
<dt class="hdlist1">&lt;Fontface&gt;</dt>
<dd>
<p>Temporarily switches to a different font.</p>
</dd>
<dt class="hdlist1">&lt;Color&gt;</dt>
<dd>
<p>Outputs the enclosed text in a different color.</p>
</dd>
<dt class="hdlist1">&lt;A&gt;</dt>
<dd>
<p>Creates a hyperlink.</p>
</dd>
<dt class="hdlist1">&lt;HSpace&gt;</dt>
<dd>
<p>Inserts an expandable blank space (with or without dots).</p>
</dd>
<dt class="hdlist1">&lt;U&gt;</dt>
<dd>
<p>Underline.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock width="11"&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;Text&lt;/Value&gt;
      &lt;Sub&gt;&lt;Value&gt;sub&lt;/Value&gt;&lt;/Sub&gt;
      &lt;Value&gt; &lt;/Value&gt;
      &lt;Sup&gt;&lt;Value&gt;sup&lt;/Value&gt;&lt;/Sup&gt;
      &lt;Value&gt; &lt;/Value&gt;
      &lt;U&gt;&lt;Value&gt;underline&lt;/Value&gt;&lt;/U&gt;
      &lt;Value&gt; &lt;/Value&gt;
      &lt;Color name="green"&gt;&lt;Value&gt;green&lt;/Value&gt;&lt;/Color&gt;
      &lt;Value&gt; &lt;/Value&gt;
      &lt;A href="https://www.speedata.de"&gt;
        &lt;Value&gt;link to the homepage&lt;/Value&gt;
      &lt;/A&gt;
      &lt;HSpace leader=" . "/&gt;
      &lt;Value&gt;right margin.&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/textauszeichnungen.png" alt="textauszeichnungen" width="100%">
</div>
<div class="title">Figure 28. Various text markups</div>
</div>
<div class="sect3">
<h4 id="_enumeration_lists">3.10.1. Enumeration lists</h4>
<div class="paragraph">
<p>Instead of a paragraph, an enumeration list can also appear. This is specified with &lt;Ol&gt; or &lt;Ul&gt; for an ordered list and an unordered list. The individual points must be marked with &lt;Li&gt;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Ol&gt;
      &lt;Li&gt;&lt;Value&gt;One&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Two&lt;/Value&gt;&lt;/Li&gt;
    &lt;/Ol&gt;
    &lt;Ul&gt;
      &lt;Li&gt;&lt;Value&gt;One&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Two&lt;/Value&gt;&lt;/Li&gt;
    &lt;/Ul&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/olul.png" alt="olul" width="20%">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This feature is not really robust yet. The lists cannot (currently) be nested. It is recommended to check if the lists are output correctly.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_prevent_text_wrapping">3.10.2. Prevent text wrapping</h4>
<div class="paragraph">
<p>Some headings and proper names should not be broken. There is a command &lt;NoBreak&gt; for this purpose, which suppresses wrapping in various ways. A somewhat exaggerated example is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock width="10cm"&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;A wonderful serenity has taken possession &lt;/Value&gt;
      &lt;NoBreak&gt;&lt;Value&gt;of my entire soul, like these sweet mornings...&lt;/Value&gt;&lt;/NoBreak&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/nobreak1.png" alt="nobreak1" width="100%">
</div>
<div class="title">Figure 29. The default setting for NoBreak is that the part must be connected.</div>
</div>
<div class="paragraph">
<p>Alternatively, you can reduce the font size by specifying the maximum width or shorten the text with omission points.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock width="10cm"&gt;
  &lt;Paragraph&gt;
    &lt;NoBreak maxwidth="10" reduce="cut" text="..."&gt;
      &lt;Value&gt;A wonderful serenity has taken possession of my entire soul, like these sweet mornings...&lt;/Value&gt;
    &lt;/NoBreak&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/nobreak2.png" alt="nobreak2" width="100%">
</div>
<div class="title">Figure 30. Here the text is cut off and filled with the specified text.</div>
</div>
</div>
<div class="sect3">
<h4 id="_break_urls">3.10.3. Break URLs</h4>
<div class="paragraph">
<p>The command &lt;URL&gt; is used to make it easier to break URLs. You may wrap mainly at slashes (/), in addition no hyphens are inserted. No hyperlink is created, the command &lt;A&gt; is responsible for this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid nx="40" ny="10"/&gt;
  &lt;Trace grid="yes"/&gt;
  &lt;Pageformat width="90mm" height="5cm"/&gt;
  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock width="35"&gt;
        &lt;Paragraph&gt;
          &lt;URL&gt;&lt;Value&gt;https://github.com/speedata/publisher/issues&lt;/Value&gt;&lt;/URL&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/url.png" alt="url" width="70%">
</div>
</div>
<div class="paragraph">
<p>(See also <a href="https://github.com/speedata/publisher/issues/173" class="bare">https://github.com/speedata/publisher/issues/173</a>)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-colors">3.11. Colors</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The output of colors in speedata Publisher is very simple. Usually one specification for the object to be output is sufficient:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject column="4" row="4"&gt;
  &lt;Circle
     radiusx="2"
     backgroundcolor="deeppink"
     framecolor="mediumaquamarine"
     rulewidth="8pt"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/kreismitfarbe.png" alt="kreismitfarbe" width="20%">
</div>
<div class="title">Figure 31. Not every colour combination is beautiful</div>
</div>
<div class="paragraph">
<p>The colors can also be specified as hexadecimal values, as with HTML. The three or six digit value must be preceded by a double cross, for example: &#8230;&#8203;color="#FF1393".</p>
</div>
<div class="paragraph">
<p>If you want to output colors in a different color space (CMYK, gray, spot colors), they must be defined first:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColor name="logocolor" model="spotcolor"
             colorname="PANTONE 116 C" /&gt;

&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Box width="5" height="2" backgroundcolor="logocolor"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/box116c.png" alt="box116c">
</div>
<div class="title">Figure 32. Various spot colors are predefined in the Publisher, such as the Pantone 116 color.</div>
</div>
<div class="paragraph">
<p>If a separate spot color is defined that is not yet included in the Publisher, CMYK values must be specified so that a replacement can be displayed in the PDF. Spot colors are unknown in the PDF and are only available as instructions for the printer. Therefore, the PDF must also contain instructions on how to output this color on screen or on printers that do not contain this spot color.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColor
    name="mycolor"
    model="spotcolor"
    colorname="speedatagreen"
    c="56" m="7" y="98" k="21" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here a color is defined which is addressed in the Publisher with the output commands under the name mycolor. In the PDF this colour is called speedatagreen and in the output it appears in a dark green.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/speedatagruen.png" alt="speedatagruen" width="90%">
</div>
<div class="title">Figure 33. The new color appears in the PDF as a separate color channel</div>
</div>
<div class="paragraph">
<p>Todo: document overprint</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-programmierung">4. Programming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Certainly the most important feature of the Publisher is the ability to implement very flexible layout requirements. This is mainly achieved by the built-in programming language in connection with the query options of the Publisher.</p>
</div>
<div class="paragraph">
<p>The program execution runs simultaneously with the creation of the PDF. Therefore, the speedata Publisher can react very flexibly to the input data. Queries such as "Is there still enough space for this object?" are thus possible. This distinguishes the Publisher from other software for creating PDF files.
Basic programming knowledge is required to use the full functionality of the Publisher. The programming language has been kept as simple as possible to maintain the readability of the layout.</p>
</div>
<div class="sect2">
<h3 id="_variables">4.1. Variables</h3>
<div class="paragraph">
<p>All variables are globally visible. This means that a variable never becomes invalid. Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="title">Data file (<code>data.xml</code>)</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;article number="1" /&gt;
  &lt;article number="2" /&gt;
  &lt;article number="3" /&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">And the corresponding layout file (layout.xml). The output of the command &lt;Message&gt; is 3. If the variable nr was declared with local visibility, it could not be read in the data element.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;ProcessNode select="article"/&gt;
    &lt;Message select="$nr"/&gt;
  &lt;/Record&gt;

  &lt;Record element="article"&gt;
    &lt;SetVariable variable="nr" select="@number"/&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The global visibility is necessary because the program execution in the layout sometimes "jumps back and forth". At the end of the page the content of &lt;AtPageShipout&gt; is executed in the current page type. It must also be possible to access the variables there.</p>
</div>
<div class="paragraph">
<p>In variables not only simple values can be stored, but also complex XML sections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="foo"&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;Hello world!&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/SetVariable&gt;

  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Copy-of select="$foo"/&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Results in the expected issue of "Hello world!". A use case is to store table width declarations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="tablecolumns"&gt;
  &lt;Columns&gt;
    &lt;Column width="1cm"/&gt;
    &lt;Column width="4mm"/&gt;
    &lt;Column width="1cm"/&gt;
  &lt;/Columns&gt;
&lt;/SetVariable&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and then use them in several tables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table&gt;
    &lt;Copy-of select="$tablecolumns"/&gt;
    &lt;Tr&gt;
      ..
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The one-time definition and reuse saves typing work and reduces the sources of error.</p>
</div>
</div>
<div class="sect2">
<h3 id="_copy_of">4.2. Copy of</h3>
<div class="paragraph">
<p>&lt;Copy-of&gt; was already used upstairs. This copies the contents of the variable to the current position. The contents of the variables remain unchanged during copying.</p>
</div>
<div class="listingblock">
<div class="title">Pseudo code. With Copy-of you insert the content of the variable at this position. The content can also be complex XML structures like paragraphs.</div>
<div class="content">
<pre>variable =
   Copy-of variable
   new value</pre>
</div>
</div>
<div class="paragraph">
<p>This appends the new value to the previous ones.</p>
</div>
<div class="listingblock">
<div class="title">An example of copy of in practice is the assembly of XML structures with which information can be stored. This example is described in detail in the cookbook (chapter 8), there in the section Creating directories (XML structure).</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="chapter"&gt;
  &lt;Copy-of select="$chapter"/&gt;
  &lt;Element name="entry"&gt;
    &lt;Attribute name="chaptername" select="@name"/&gt;
    &lt;Attribute name="page" select="sd:current-page()"/&gt;
  &lt;/Element&gt;
&lt;/SetVariable&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_if_then_else">4.3. If-then-else</h3>
<div class="paragraph">
<p>In XPath you can perform simple if-then queries. The syntax for this is if (condition) then &#8230;&#8203; else &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">In XPath simple if-then queries can be used.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;
      &lt;Value select="if (sd:odd(sd:current-page())) then 'recto' else 'verso'"/&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_case_distinctions">4.4. Case distinctions</h3>
<div class="paragraph">
<p>Case distinctions correspond to the construction switch/case from C-like programming languages. They are applied in the Publisher as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Switch&gt;
  &lt;Case test="$i = 1"&gt;
    ...
  &lt;/Case&gt;
  &lt;Case test="$i = 2"&gt;
    ...
  &lt;/Case&gt;
   ...
  &lt;Otherwise&gt;
    ...
  &lt;/Otherwise&gt;
&lt;/Switch&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All commands within the first possible &lt;Case&gt; case are processed if the condition in test applies there. In test, an XPath expression is expected that returns true() or false(), like $i = 1, and if no case occurs, the contents of the optional &lt;Otherwise&gt; section will be executed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_loops">4.5. Loops</h3>
<div class="paragraph">
<p>There are various loops in the speedata Publisher. The simple variant is &lt;Loop&gt;:</p>
</div>
<div class="listingblock">
<div class="title">This loop is run through 10 times.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Loop select="10"&gt;
  ...
&lt;/Loop&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command executes the enclosed commands as many times as the expression in select results in. The loop counter is stored in the variable _loopcounter, unless otherwise set by variable="&#8230;&#8203;".</p>
</div>
<div class="paragraph">
<p>Besides the simple loop there are also loops with conditions:</p>
</div>
<div class="listingblock">
<div class="title">The while loop executes the enclosed commands as long as the condition is "true". The numbers 1 to 4 are output.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="i" select="1"/&gt;
  &lt;While test="$i &amp;lt;= 4"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="$i"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
    &lt;SetVariable variable="i" select="$i + 1"/&gt;
  &lt;/While&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The expression <code>$i &amp;lt;= 4</code> must be read as <code>$i &lt;= 4</code>, because the opening angle bracket at this point in the XML is a syntax error. The loop above is executed as often as the content of the variable i is less than or equal to 4. Don&#8217;t forget to increase the variable as well, otherwise an endless loop is created.</p>
</div>
<div class="paragraph">
<p>In addition to the while loop, there is also the until loop, which works in the same way:</p>
</div>
<div class="listingblock">
<div class="title">Since the until loop is executed until the condition is true, only the number 1 is output.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="i" select="1"/&gt;
  &lt;Until test="$i &amp;lt;= 4"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="$i"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
    &lt;SetVariable variable="i" select="$i + 1"/&gt;
  &lt;/Until&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_structures">4.6. Data Structures</h3>
<div class="paragraph">
<p>The speedata Publisher does not offer direct support for data structures such as arrays (fields) or dictionaries (hashes or dictionaries). These can be simulated using variables. The field a1, a2, &#8230;&#8203;, ai could be filled as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="{ concat('a',1) }" select="'Value for a1'"/&gt;
&lt;SetVariable variable="{ concat('a',2) }" select="'Value for a2'"/&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, a1 could also be specified directly as the variable name. In this example, both the prefix and the suffix could be created dynamically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="prefix" select="'a'" /&gt;
&lt;SetVariable variable="{ concat($prefix,1) }" select="'Value for a1'"/&gt;
&lt;SetVariable variable="{ concat($prefix,2) }" select="'Value for a2'"/&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The read access goes via sd:variable(&#8230;&#8203;):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="prefix" select="'a'" /&gt;
&lt;Message select="sd:variable($prefix,1)"/&gt;
&lt;Message select="sd:variable($prefix,2)"/&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function <code>sd:variable()</code> concatenates all arguments as a string and takes the result as variable name.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-bildereinbinden">5. Image inclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Inserting images into the PDF is very easy, a short command is enough:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Image file="_samplea.pdf" width="5cm"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The image <code>_samplea.pdf</code> is (like <code>_sampleb.pdf</code>) part of the Publisher and can be used for testing purposes. As image formats PDF, PNG and JPEG are possible. Other formats must be converted into one of these formats before processing. If the program inkscape is installed, it is used to automatically convert SVG files to PDF. The format that causes the least problems in practice is PDF. Here, color profiles can also be embedded.</p>
</div>
<div class="paragraph">
<p>The images are not changed during processing in the Publisher, i.e. they retain their original (file) size, among other things. With very large images, the processing speed is lower and the size of the resulting PDF file naturally increases. Therefore it may be worthwhile to have special versions with smaller file sizes available for processing.</p>
</div>
<div class="sect2">
<h3 id="_width_and_height_of_the_images">5.1. Width and height of the images</h3>
<div class="paragraph">
<p>If you include images, it is always useful to include a size specification. Otherwise the natural size of the image is taken. What the natural size is, is not always clear. Usually there is a DPI specification in the image file. This is often set arbitrarily by the image processing program. For example, if it says 72 DPI, a 720 pixel wide image is 10 inches wide; at 300 DPI, it is only 2.4 inches wide.</p>
</div>
<div class="paragraph">
<p>Since the specification cannot be relied upon, size specifications are required for the output. This can be either the desired height or width of the image, or both together. In the example above, the image has a width of five centimeters. The specification can also be made as a number of raster cells. Specifying width="100%" means that the entire available width should be used (currently other percentages are not supported). The specification auto is like omitting the specification and is only available for CSS compatibility.</p>
</div>
<div class="paragraph">
<p>If both proportions are specified (width and height), there are two modes: keep aspect ratio (clip="yes") or stretch or compress (clip="no") the output.</p>
</div>
<div class="listingblock">
<div class="title">The image is stretched horizontally.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="ocean.pdf" width="10" height="3" clip="no"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/18-clip-no.png" alt="18 clip no">
</div>
<div class="title">Figure 34. If clip is set to 'no', the image is distorted.</div>
</div>
<div class="paragraph">
<p>With clip="yes" the image is cropped so that the maximum dimensions are taken on one side</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="ocean.pdf" width="10" height="3" clip="yes"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/18-clip-yes.png" alt="18 clip yes">
</div>
<div class="title">Figure 35. If clip is set to 'yes', only a section is shown.</div>
</div>
<div class="paragraph">
<p>The size of images can be determined with the two XPath functions sd:imagewidth(&lt;filename&gt;) and sd:imageheight(&lt;filename&gt;). The result is in raster cells. Caution, here the natural size is taken, which may be without significance (see above).</p>
</div>
</div>
<div class="sect2">
<h3 id="_maximum_height_and_width_minimum_height_and_width">5.2. Maximum height and width, minimum height and width</h3>
<div class="paragraph">
<p>To use the natural size, but specify restrictions, there are four combinations of min/max and width/height. The image in the following example will be no wider than 10 raster cells and no higher than 3. The aspect ratio is preserved:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="forest.jpg" maxwidth="10" maxheight="3" /&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/18-maxheight.png" alt="18 maxheight" width="50%">
</div>
<div class="title">Figure 36. The image is limited to the height of three grid cells.</div>
</div>
</div>
<div class="sect2">
<h3 id="_rotating_images">5.3. Rotating images</h3>
<div class="paragraph">
<p>With the rotate attribute you can rotate images in 90 degree steps (positive values: clockwise). The following example rotates an image 90 degrees counterclockwise if it is a portrait image. With the XPath command sd:aspectratio(&lt;filename&gt;) you can determine the aspect ratio of an image. If it is greater than 1, then it is a landscape image.</p>
</div>
<div id="lst-samplea-sampleb-data" class="listingblock">
<div class="title">Data</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;img file="_samplea.pdf" /&gt;
  &lt;img file="_sampleb.pdf" /&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">The image is rotated 90 degrees if it is a portrait image.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns:sd="urn:speedata:2009/publisher/functions/en"
  xmlns="urn:speedata.de:2009/publisher/en"&gt;

  &lt;Record element="data"&gt;
    &lt;ForAll select="img"&gt;
      &lt;PlaceObject&gt;
        &lt;Image file="{@file}" width="5"
          rotate="{if ( sd:aspectratio(@file) &amp;lt; 1 ) then '-90' else '0'}"/&gt;
      &lt;/PlaceObject&gt;
    &lt;/ForAll&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/drehungaspectratio.png" alt="drehungaspectratio" width="50%">
</div>
<div class="title">Figure 37. The second image is rotated by 90 because it is in portrait format.</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The curly brackets at file and rotate mean that the system jumps to XPath mode to evaluate the XPath expressions (access to the file attribute and the if-then query). See the XPath and layout functions section for more information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Note: if the image in the argument of sd:aspectratio() is not available in the filesystem, the value is taken from the placeholder image (chapter Image not found?). To check if an image is available at all, you can use the command sd:file-exists(&lt;filename&gt;).</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_location_of_the_image_files">5.4. Location of the image files</h3>
<div class="paragraph">
<p>Usually the images are stored in the file system or in a DAM (digital asset management). In the file system they can be addressed either with an absolute path:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Image file="file:///path/to/the/image.pdf"  /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or as a file in one of the subdirectories of the search path, as in the examples above. For example, the images can be located in the subdirectory images. See the section on file organization.</p>
</div>
<div class="paragraph">
<p>The images can also be loaded from a web server using http(s) protocol. The syntax is analogous to the absolute path, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en" &gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Image file="http://placekitten.com/g/400/300" width="5"/&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<h3 id="_caching" class="discrete">Caching</h3>
<div class="paragraph">
<p>The images that are loaded via http and https are cached on the hard disk. With each request, the system checks whether the image is still current and, if necessary, does not download it. If the image is deleted on the server, it is also deleted in the local system.</p>
</div>
<div class="paragraph">
<p>With sp --cache=fast you can use the fast caching method, which downloads the image from the server only once and then does not check if it is still up-to-date.</p>
</div>
<div class="paragraph">
<p>The sp clearcache command deletes the cache.</p>
</div>
<div class="paragraph">
<p>The location of the image cache can be controlled either by tempdir (command line and configuration file) or by the imagecache key in the configuration file (not on the command line).</p>
</div>
</div>
<div class="sect2">
<h3 id="_image_not_found">5.5. Image not found?</h3>
<div class="paragraph">
<p>What happens if an image is not found? The normal behavior is to output an error message and a placeholder image indicating the missing image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="doesnotexist" width="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/18-fnf.png" alt="18 fnf" width="20%">
</div>
<div class="title">Figure 38. It should be immediately obvious that the image file was not found.</div>
</div>
<div class="paragraph">
<p>Another possibility is to use fallback to determine a placeholder image yourself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
    &lt;Image file="doesnotexist" fallback="......" width="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also set whether it is an error when a placeholder image is selected or only a warning.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Options imagenotfound="error"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or <code>warning</code> for a warning.</p>
</div>
</div>
<div class="sect2">
<h3 id="_special_features_for_pdf_files">5.6. Special features for PDF files</h3>
<div class="paragraph">
<p>PDF files have some peculiarities: they can contain several pages and the individual pages have different boxes that mark the visible area and other areas. Some of the boxes are important for printing, some for viewing in the PDF viewer. The box that is to be displayed with the specified sizes is determined with the visiblebox attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Image file="seite.pdf" visiblebox="artbox" width="210mm" height="297mm" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>means that the "artbox" is displayed in the size 210mm  297mm</p>
</div>
<div class="paragraph">
<p>The page attribute is also described in the section Including Multipage PDF Files. It is used to select the page when a PDF file is embedded. With sd:number-of-pages('filename') it can be determined how many pages a PDF file contains.</p>
</div>
</div>
<div class="sect2">
<h3 id="_external_conversion_tools">5.7. External Conversion Tools</h3>
<div class="paragraph">
<p>The Publisher usually only processes PDF, PNG and JPEG files. In order to use other formats, you have to convert them into one of the three formats. This can be done in advance, but also during the runtime of the Publisher.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;!-- tiff can only be used with an external converter --&gt;
      &lt;Image file="rhslogo.tiff"/&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use the conversion, you have to enter the program calls in the configuration file. Here the program convert from ImageMagick is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="ini" class="language-ini hljs">imagehandler="tiffimage:(convert %%input%% %%output%%.pdf)"
extensionhandler="tiff:tiffimage"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The file name extension <code>.tiff</code> is assigned to the handler tiffimage (line 2). In the first line, the handler tiffimage is assigned to the program convert %%input%% %%output%%%.pdf, whereby the file names are replaced at runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="_images_from_textual_descriptions">5.8. Images from textual descriptions</h3>
<div class="paragraph">
<p>There are countless picture description languages in which pictures are not drawn or painted with an external program, but are described textually. For example "draw a square with an edge length of 4cm" or "create a pie chart with the following values: &#8230;&#8203;". These graphics are then converted from the description language into various formats, usually as PNG or PDF. With the Publisher it is possible to embed such descriptions since version 3.9.1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
   xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

   &lt;Record element="data"&gt;
      &lt;PlaceObject&gt;
        &lt;!-- we need to specify the imagetype --&gt;
        &lt;Image width="7cm" imagetype="mermaid" &gt;
          &lt;Value&gt;sequenceDiagram
            participant Alice
            participant Bob
            Alice-&gt;&gt;John: Hello John, how are you?
            loop Healthcheck
                John-&gt;&gt;John: Fight against hypochondria
            end
            Note right of John: Rational thoughts &amp;lt;br/&gt;prevail!
            John--&gt;&gt;Alice: Great!
            John-&gt;&gt;Bob: How about you?
            Bob--&gt;&gt;John: Jolly good!
          &lt;/Value&gt;
        &lt;/Image&gt;
      &lt;/PlaceObject&gt;
    &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Necessary is of course the configuration how the external converter is called. This works similar to the TIFF example in the previous section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="ini" class="language-ini hljs">imagehandler="mermaid:(/usr/bin/mmdc -i %%input%% -o %%output%%.pdf)"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result is a sequence diagram, created by mermaid and converted to PDF.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/mermaid.png" alt="mermaid">
</div>
</div>
<div class="paragraph">
<p>Of course it is also possible to extract the image description from the data. For this purpose the image command must be structured as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Image width="7cm" imagetype="mermaid" &gt;
     &lt;Value select="imagedata" /&gt;
  &lt;/Image&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_other_parameters">5.9. Other parameters</h3>
<div class="ulist">
<ul>
<li>
<p>You can use the padding-* specifications to define how much distance the image should have from the corresponding border.</p>
</li>
<li>
<p>With dpiwarn you can issue a warning if the actual number of pixels per inch is less than the default.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-tables2">6. Tables</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The table model used in the Publisher is basically the same as that of HTML.</p>
</div>
<div class="sect2">
<h3 id="_basic_structure_of_a_table">6.1. Basic structure of a table</h3>
<div class="paragraph">
<p>The structure of a table looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table&gt;
    &lt;Tr&gt;
      &lt;Td&gt;...&lt;/Td&gt;
      &lt;Td&gt;...&lt;/Td&gt;
    &lt;/Tr&gt;
    &lt;Tr&gt;
      &lt;Td&gt;...&lt;/Td&gt;
      &lt;Td&gt;...&lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;Tr&gt; stands for tablerow and &lt;Td&gt; for tabledata. Tables are always structured line by line. Each row must contain the same number of columns, otherwise the Publisher issues an error message. The number of rows, however, is arbitrary.</p>
</div>
<div class="paragraph">
<p>The width of the table is determined by the contents. If stretch="no" (default) is specified for the &lt;Table&gt; command, the table will only take up the minimum width. If stretch="max" is specified, the full specified width (or the maximum available space) is used.</p>
</div>
<div class="listingblock">
<div class="title">A complete layout for a table.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
  &lt;Trace grid="no" objects="yes"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Table padding="2mm" stretch="no" &gt;
        &lt;Tr&gt;
          &lt;Td&gt;
            &lt;Paragraph&gt;&lt;Value&gt;Row 1 / Column 1&lt;/Value&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
          &lt;Td&gt;
            &lt;Paragraph&gt;&lt;Value&gt;Row 1 / Column 2&lt;/Value&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
        &lt;Tr&gt;
          &lt;Td&gt;
            &lt;Paragraph&gt;&lt;Value&gt;Row 2 / Column 1&lt;/Value&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
          &lt;Td&gt;
            &lt;Paragraph&gt;&lt;Value&gt;Row 2 / Column 2&lt;/Value&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/tablestretchmaxno.png" alt="tablestretchmaxno" width="100%">
</div>
<div class="title">Figure 39. If stretch="no" (or omit the stretch attribute), the table is only as wide as necessary (above). If you specify stretch="max" for the table, the entire width specified is used. The default setting for the width is the page width (bottom).</div>
</div>
<div class="paragraph">
<p>There are some settings that apply to the entire table, such as the font, inner spacing, line and column spacing. These are described in the appendix in the reference for the &lt;Table&gt; command.</p>
</div>
</div>
<div class="sect2">
<h3 id="_table_cells_and_table_rows_lines_in_tables">6.2. Table cells and table rows, lines in tables</h3>
<h4 id="_table_rows" class="discrete">Table rows</h4>
<div class="paragraph">
<p>Statements in table rows (&lt;Tr&gt;) determine properties for all cells in that row, provided they are not overwritten in the cell itself. For example, align and valign specify the horizontal and vertical alignment of cells. That is, in the line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tr align="left"&gt;
  &lt;Td&gt;...&lt;/Td&gt;
  &lt;Td&gt;...&lt;/Td&gt;
  &lt;Td align="right"&gt;...&lt;/Td&gt;
&lt;/Tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>all columns except the last have the alignment "left-aligned".</p>
</div>
<div class="paragraph">
<p>You can also specify the background color for the individual columns in the line (backgroundcolor). You can also specify the minimum height (minheight, specified in grid cells or a dimension) and the space above the cell, provided it does not follow a page break.</p>
</div>
<h4 id="_cells" class="discrete">Cells</h4>
<div class="paragraph">
<p>The table cells (&lt;Td&gt;) have extensive formatting options. For example, the padding for each of the four sides can be defined individually. The cell border on each page can also differ in thickness and color. The cell border always lies within a table, with the exception that the borders "overlap" with adjacent cells and the border-collapse option activated in &lt;Table&gt;. The alignment of the table contents can be defined using the parameters valign (vertical) and align (horizontal).</p>
</div>
<div class="paragraph">
<p>Cells can have different contents, even mixed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>paragraphs (paragraph, block element)</p>
</li>
<li>
<p>Tables (table, block element)</p>
</li>
<li>
<p>Images (Image, Inline Element)</p>
</li>
<li>
<p>Barcodes (barcode, inline element)</p>
</li>
<li>
<p>Box (box, block element)</p>
</li>
<li>
<p>Multiple objects (overlay, see below, inline element)</p>
</li>
<li>
<p>Vertical distances (Vspace, see below, block element)</p>
</li>
<li>
<p>Frame (frame, block element)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Table cells contain horizontal objects (inline elements) and vertical objects (block elements). This refers to the arrangement within the table cell:</p>
</div>
<div class="listingblock">
<div class="title">A table with inline and block elements.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table width="8" stretch="max"&gt;
    &lt;Tr align="center"&gt;
      &lt;Td&gt;
        &lt;Image file="ocean.pdf" width="2"/&gt;
        &lt;Paragraph textformat="justified"&gt;
          &lt;Value select="sd:dummytext()"/&gt;
        &lt;/Paragraph&gt;
        &lt;Box width="2" height="1" backgroundcolor="green"/&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/tab-inline-block.png" alt="tab inline block" width="50%">
</div>
<div class="title">Figure 40. Block elements in a table cell are displayed one below the other.</div>
</div>
<div class="paragraph">
<p>For example, if the row height is fixed by another cell or by specifying minheight at the beginning of the row, you can use VSpace to insert a vertical blank space. This will move the part above the empty space as far up as possible and the part below it as far down as possible. Specifying valign in this cell has no effect.</p>
</div>
<h4 id="_rules_can_be_drawn_between_individual_rows" class="discrete">Rules can be drawn between individual rows.</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table&gt;
  &lt;Tr&gt;
     ...
  &lt;/Tr&gt;
  &lt;Tablerule rulewidth="3pt" color="green" /&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to specify the start column.</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-tab-textformats">6.3. Text formats in tables</h3>
<div class="paragraph">
<p>Unlike the text formats in texts (see the section on text formats), the default text format (and thus the text alignment) depends on the alignment of the table cell.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Alignment for &lt;Td&gt;</th>
<th class="tableblock halign-left valign-top">Text</th>
<th class="tableblock halign-left valign-top">Format Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">left</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__leftaligned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left-aligned, flutter set right</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__rightaligned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right-aligned, flutter set left</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">center</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__centered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Centered, flutter set on both sides</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">justify</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">__justified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Justified justified justified right and left</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This means that the two examples are identical:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Td align="left"&gt;
  &lt;Paragraph&gt;
    &lt;Value&gt;....&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Td&gt;

&lt;Td align="left"&gt;
  &lt;Paragraph textformat="__leftaligned"&gt;
    &lt;Value&gt;....&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Td&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, by changing the text format __leftaligned, all table cells can be formatted with left alignment.</p>
</div>
</div>
<div class="sect2">
<h3 id="_colspan_and_rowspan">6.4. Colspan and Rowspan</h3>
<div class="paragraph">
<p>The natural property of a table is that all cells in a row are the same height and all cells in a column are the same width. However, cells can extend over several columns and rows. The number of overlapping columns is specified with colspan, the default here is 1. The number of rows is specified with rowspan, the default here is 1 as well. Here, you must ensure that the sum of the columns in a row equals the total number. In the following example, the second row contains only two cells, but it extends over two columns. The third row even has only one cell definition, the rest of the row is occupied by the two cell wide image from the row above (rowspan="2").</p>
</div>
<div class="listingblock">
<div class="title">A somewhat more complex example. The background color of the image is determined by the second line.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table width="10"
    columndistance="3mm"
    leading="2mm"&gt;
    &lt;Tr&gt;
      &lt;Td padding-bottom="2mm"&gt;
        &lt;Paragraph&gt;&lt;Value&gt;1/1&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Td&gt;
      &lt;Td padding-left="1mm"&gt;
        &lt;Paragraph&gt;&lt;Value&gt;1/2&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Td&gt;
      &lt;Td align="center"&gt;
        &lt;Paragraph&gt;&lt;Value&gt;1/3&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
    &lt;Tr backgroundcolor="yellow"&gt;
      &lt;Td&gt;
        &lt;Paragraph&gt;&lt;Value&gt;2/1&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Td&gt;
      &lt;Td rowspan="2" colspan="2" &gt;
        &lt;Image width="5" file="ocean.pdf"/&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
    &lt;Tr align="center"&gt;
      &lt;Td&gt;
        &lt;Paragraph&gt;&lt;Value&gt;3/1&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/tab-colspan-rowspan.png" alt="tab colspan rowspan" width="50%">
</div>
<div class="title">Figure 41. Effect of rowspan and colspan</div>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_the_column_widths">6.5. Specifying the column widths</h3>
<div class="paragraph">
<p>In the previous examples the widths of the cells are automatically determined by the content. You can also specify fixed column widths. The command for this is called Columns and is listed directly as the first command within Table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table stretch="max"&gt;
  &lt;Columns&gt;
    &lt;Column width="2mm"/&gt;
    &lt;Column width="1*"/&gt;
    &lt;Column width="3*"/&gt;
  &lt;/Columns&gt;
  &lt;Tr&gt;
    ...
  &lt;/Tr&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here it is specified that the table has three columns. The first column has a width of 2mm, the second and third columns divide the remaining width in a ratio of 1 to 3. In the Column command, you can also define further specifications for the column: the horizontal and vertical alignment and the background color can be specified. A specification for a cell overwrites the default.</p>
</div>
</div>
<div class="sect2">
<h3 id="_table_wraps">6.6. Table wraps</h3>
<div class="paragraph">
<p>If the table is too high for the page, it wraps and continues on the next page. The space still available on the current page and on the subsequent pages is taken into account. The break can be inserted after each line, as long as break-below is not set to yes in the line. Individual table cells are not separated.</p>
</div>
<div class="paragraph">
<p>You can insert your own headers and footers for the table break, which are repeated on each page. These are discussed in detail in the next three sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="_headers_and_footers_static">6.7. Headers and footers (static)</h3>
<div class="paragraph">
<p>There are two ways to define table headers in tables. The first variant is presented in this section. It is particularly suitable if the table header is known at the beginning (static). The second variant is suitable if certain table cells are to serve as header lines (sections in tables). You can also combine both variants.</p>
</div>
<div class="paragraph">
<p>The starting point is a simple table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Table&gt;
        &lt;Loop select="200"&gt;
          &lt;Tr&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;
                &lt;Value&gt;Tablecontents&lt;/Value&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Loop&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The header line is defined in the table as follows (as child element of the element &lt;Table&gt;):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tablehead&gt;
  &lt;Tr backgroundcolor="gray"&gt;
    &lt;Td&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;Head&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Td&gt;
  &lt;/Tr&gt;
&lt;/Tablehead&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define the header for the first page separately by specifying the page attribute (default is all):</p>
</div>
<div class="listingblock">
<div class="title">Schema for different table headers on the first or all other pages. The order of the declaration is not important.</div>
<div class="content">
<pre>&lt;Tablehead page="all"&gt;
  <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/Tablehead&gt;

&lt;Tablehead page="first"&gt;
  <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/Tablehead&gt;</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Table header for all pages</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If page="first" is defined as here, the above definition (1) applies to all pages, but not to the first page, because here (2) applies.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With this variant you can not only define the (repeating) table header, but also the table footer. This works in the same way as &lt;Tablehead&gt;, except that page selection is allowed instead of first last.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tablefoot page="last"&gt;
  &lt;Tr backgroundcolor="gray"&gt;
    &lt;Td&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;Table foot last page&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Td&gt;
  &lt;/Tr&gt;
&lt;/Tablefoot&gt;
&lt;Tablefoot page="all"&gt;
  &lt;Tr backgroundcolor="gray"&gt;
    &lt;Td&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;Table foot for all pages&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Td&gt;
  &lt;/Tr&gt;
&lt;/Tablefoot&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Table headers and footers do not have to consist of only one line. They can also contain lines and multiple lines.</p>
</div>
</div>
<div class="sect2">
<h3 id="_headers_and_footers_dynamic">6.8. Headers and footers (dynamic)</h3>
<div class="paragraph">
<p>In the previous section, the table header is created using &lt;Tablehead&gt; (and its counterpart &lt;Tablefoot&gt;). In contrast, this section shows how to create a dynamic table header. Both variants can be combined.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tr sethead="yes" backgroundcolor="lightgray"&gt;
  &lt;Td&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;New head&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Td&gt;
&lt;/Tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The "magic" is in sethead="yes" in the table row. This automatically repeats this line at the top of the next page, just below any static table header. This is very suitable for subheadings or sections in tables.</p>
</div>
<h3 id="_example" class="discrete">Example</h3>
<div class="paragraph">
<p>A somewhat constructed example. There are two sections in the table with two and eight lines. The file data.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;section name="section 1" rows="2"/&gt;
  &lt;section name="section 2" rows="8"/&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The layout outputs a table, for each section the heading is displayed as a line in which the attribute sethead is set to yes. The desired lines are output in a loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"&gt;
  &lt;Pageformat width="100mm" height="60mm"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Table padding="1mm" stretch="max"&gt;
        &lt;ForAll select="section"&gt;
          &lt;Tr sethead="yes" backgroundcolor="lightgray"&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;
                &lt;Value select="@name"/&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
          &lt;Loop select="@rows" variable="i"&gt;
            &lt;Tr&gt;
              &lt;Td&gt;
                &lt;Paragraph&gt;
                  &lt;Value select="concat('Row ', $i)"/&gt;
                &lt;/Paragraph&gt;
              &lt;/Td&gt;
            &lt;/Tr&gt;
          &lt;/Loop&gt;
        &lt;/ForAll&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/03-dyntabellenkopf.png" alt="03 dyntabellenkopf" width="80%">
</div>
<div class="title">Figure 42. The sections are marked with sethead="yes" and are repeated in the table header.</div>
</div>
</div>
<div class="sect2">
<h3 id="_headers_and_footers_with_running_sum">6.9. Headers and footers with running sum</h3>
<div class="paragraph">
<p>Sometimes you may want to display a subtotal or carryover in headers or footers of tables. The problem here is that this is dynamic information, which is determined by the space available. If the page is shorter, the sum is different. This means that you cannot define the number in advance as a header or footer.</p>
</div>
<div class="paragraph">
<p>Instead, there is the possibility to store data in a table row:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tr data="..." &gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This data can later be retrieved in headers and footers with the special variable $_last_tr_data. The variable is overwritten each time data="&#8230;&#8203;" is used. To illustrate this, there is a complete set of layout rules that uses this mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
  &lt;Pageformat width="80mm" height="80mm" /&gt;

  &lt;Record element="data"&gt;
    &lt;!-- Initialize value for the first header line --&gt;
    &lt;SetVariable variable="_last_tr_data" select="0"/&gt;
    &lt;SetVariable variable="sum" select="0"/&gt;

    &lt;PlaceObject&gt;
      &lt;Table stretch="max"&gt;
        &lt;Tablehead&gt;
          &lt;Tr backgroundcolor="#eee"&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;
                &lt;Value&gt;Value of $_last_tr_data: &lt;/Value&gt;
                &lt;Value select="$_last_tr_data"/&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Tablehead&gt;
        &lt;Loop select="100" variable="i"&gt;
          &lt;SetVariable variable="sum" select="$sum + $i"/&gt;
          &lt;Tr data="$sum"&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;
                &lt;Value select="concat('i = ',$i)"/&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Loop&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/22-runningsum.png" alt="22 runningsum" width="70%">
</div>
<div class="title">Figure 43. The calculated subtotals</div>
</div>
<div class="paragraph">
<p>Here first the header line is defined, then 100 lines are generated (&lt;Loop select="100"&gt;), the loop number is stored and then the calculated value is stored in each line with data="$sum", which is later output in the header line.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The width of the dynamic header and footer is calculated without $_last_tr_data. This can lead to problems if the newly calculated header or footer has a different format.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_assembling_tables">6.10. Assembling tables</h3>
<div class="paragraph">
<p>Sometimes tables are not created in one piece. A common pattern when creating tables is to test whether a table still fits in a certain place. This is done by appending a table line by line and placing it in a group (a virtual space), which is then measured. The procedure for this is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="newtablerows"&gt;
  &lt;Copy-of select="$tablerows"/&gt;
  &lt;Copy-of select="$thisrow"/&gt;
&lt;/SetVariable&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where $this line is a table line with start and end tag &lt;Tr&gt; . &lt;/Tr&gt; and $table lines are empty or contain several lines of the same form.</p>
</div>
<div class="paragraph">
<p>The check now takes place by creating the table in a group and then checking the height of the group, for example:</p>
</div>
<div class="listingblock">
<div class="title">With this pattern you can enlarge and measure a table line by line</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Group name="tbl"&gt;
  &lt;Contents&gt;
    &lt;PlaceObject&gt;
      &lt;Table width="..."&gt;
        &lt;Copy-of select="$tabellenzeilenneu"/&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Contents&gt;
&lt;/Group&gt;

&lt;Switch&gt;
  &lt;Case test="sd:group-height('tbl') &gt; ..."&gt;
    &lt;!-- too large, print table without the last row --&gt;
    &lt;PlaceObject&gt;
      &lt;Table width="..."&gt;
        &lt;Copy-of select="$tabellenzeilen"/&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
    &lt;!-- last line is now as carry forward for the next table --&gt;
    &lt;SetVariable variable="tabellenzeilen"&gt;
      &lt;Copy-of select="$diesezeile"/&gt;
    &lt;/SetVariable&gt;
  &lt;/Case&gt;
  &lt;Otherwise&gt;
    &lt;!-- fits, output table, set variable --&gt;
    &lt;PlaceObject groupname="tbl"/&gt;
    &lt;SetVariable variable="tabellenzeilen"&gt;
        &lt;Copy-of select="$tabellenzeilenneu"/&gt;
    &lt;/SetVariable&gt;
  &lt;/Otherwise&gt;
&lt;/Switch&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A more detailed description can be found in the section Layout Optimization Using Groups.</p>
</div>
</div>
<div class="sect2">
<h3 id="_alternating_line_colors">6.11. Alternating line colors</h3>
<div class="paragraph">
<p>Changing row colors are often used in tables with many columns to help the eye read the table. The row color can be specified by backgroundcolor="&#8230;&#8203;" at &lt;Tr&gt;.</p>
</div>
<div class="listingblock">
<div class="title">Changing line colors. The first argument of the function sd:alternating() is an identifier to distinguish different alternations in a document.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table&gt;
  &lt;Loop select="5" variable="i"&gt;
    &lt;Tr backgroundcolor="{sd:alternating('tab', 'white', 'gray')}"&gt;
      &lt;Td&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Zeile &lt;/Value&gt;
          &lt;Value select="$i"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Loop&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/tab-wechselnde-zeilenfarben.png" alt="tab wechselnde zeilenfarben" width="20%">
</div>
<div class="title">Figure 44. Alternating background colors</div>
</div>
<div class="paragraph">
<p>The trick here is to use the layout function sd:alternating(), which switches between arguments. Since the attribute backgroundcolor expects a fixed value, the curly brackets must be used to jump to "XPath mode".</p>
</div>
<div class="paragraph">
<p>After the table has been output, there is no guarantee that the next call to sd:alternating() with the identification tab will start with the first value again. This depends on which value was used last. To ensure that the table starts with the first value again, you can use the attribute eval="&#8230;&#8203;" for Table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table eval="sd:reset-alternating('tab')"&gt;
  ...
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This resets the counter for the specified identifier (tab).</p>
</div>
</div>
<div class="sect2">
<h3 id="_background_in_table_rows">6.12. Background in table rows</h3>
<div class="sect3">
<h4 id="_text_in_the_background">6.12.1. Text in the background</h4>
<div class="paragraph">
<p>With the attributes background-&#8230;&#8203; you can put text in the background.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table width="7"&gt;
  &lt;Tr&gt;
    &lt;Td background-text="Neu"
      background-size="contain"
      background-textcolor="gray"
      background-transform="rotate(-40deg)"&gt;
      &lt;Paragraph&gt;
        &lt;Value select="sd:loremipsum()"/&gt;
      &lt;/Paragraph&gt;
    &lt;/Td&gt;
  &lt;/Tr&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/21-bgtext.png" alt="21 bgtext" width="50%">
</div>
<div class="title">Figure 45. Text in the background of a cell</div>
</div>
</div>
<div class="sect3">
<h4 id="ch-imagebehindtext">6.12.2. Image behind the text</h4>
<div class="paragraph">
<p>With the command &lt;Overlay&gt; you can overlay elements. In table cells, this can be used to overlay text (like references to the author of an image) over an image. But you can also put whole texts on top of each other. Whether it makes sense or not, may be put there.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="mini" fontsize="6" leading="8"&gt;
  &lt;Regular fontface="TeXGyreHeros-Regular"/&gt;
&lt;/DefineFontfamily&gt;

&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Table width="7"&gt;
      &lt;Tr&gt;
        &lt;Td&gt;
          &lt;Overlay&gt;
            &lt;Image width="4.5cm" file="_samplea.pdf"/&gt;
            &lt;Position x="100" y="10"&gt;
              &lt;!-- Rotate 90 degrees --&gt;
                &lt;Transformation matrix="0 1 -1 0 0 0"
                  origin-x="0" origin-y="100"&gt;
                  &lt;Textblock width="4" fontface="mini"&gt;
                    &lt;Paragraph textformat="left"&gt;
                      &lt;Value&gt;Photo: Reinhard M.&lt;/Value&gt;
                    &lt;/Paragraph&gt;
                  &lt;/Textblock&gt;
                &lt;/Transformation&gt;
            &lt;/Position&gt;
          &lt;/Overlay&gt;
        &lt;/Td&gt;
      &lt;/Tr&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/21-overlay.png" alt="21 overlay" width="50%">
</div>
<div class="title">Figure 46. Table cell with text and an image in the background</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clearing_columns">6.13. Clearing columns</h3>
<div class="paragraph">
<p>Usually, a table uses first the first positioning frame of an area, then the next, and so on.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ch-tab-tables-notbalanced.png" alt="ch tab tables notbalanced" width="50%">
</div>
</div>
<div class="paragraph">
<p>If you now switch to &lt;Table balance="yes"&gt;, the table is output as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ch-tab-tables-balanced.png" alt="ch tab tables balanced" width="50%">
</div>
</div>
<div class="paragraph">
<p>For this to work, the table must be output in a placement area, not on a page. The number of columns to be balanced is determined by the number of placement frames the area contains. Here is a concrete example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
  &lt;Trace grid="yes"/&gt;
  &lt;SetGrid nx="2" dx="5mm" height="12pt"/&gt;
  &lt;Pageformat width="140mm" height="100mm"/&gt;
  &lt;Pagetype name="page" test="true()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
    &lt;PositioningArea name="twocolumns"&gt;
      &lt;PositioningFrame width="1" height="{sd:number-of-rows()}" row="1" column="1"/&gt;
      &lt;PositioningFrame width="1" height="{sd:number-of-rows()}" row="1" column="2"/&gt;
    &lt;/PositioningArea&gt;
  &lt;/Pagetype&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject area="twocolumns"&gt;
      &lt;Table balance="no"&gt;
        &lt;Loop select="20" variable="i"&gt;
          &lt;Tr&gt;
            &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Row &lt;/Value&gt;&lt;Value select="$i"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Loop&gt;
      &lt;/Table&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ch-tab-balanceno.png" alt="ch tab balanceno" width="50%">
</div>
<div class="title">Figure 47. With balance="no" as in the example there is a full first column:</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ch-tab-balanceyes.png" alt="ch tab balanceyes" width="50%">
</div>
<div class="title">Figure 48. If, on the other hand, you set balance="yes", the result is</div>
</div>
<div class="paragraph">
<p>The specification is always observed on the last page of a table, since the previous pages fill the space completely anyway.</p>
</div>
</div>
<div class="sect2">
<h3 id="_page_change_in_tables">6.14. Page change in tables</h3>
<div class="paragraph">
<p>If a table is larger than the available space on the page, the table is continued on the next page or in the next placement frame. The &lt;TableNewPage&gt; command is used to force such a page change.</p>
</div>
</div>
</div>
</div>
<div class="sect1 split">
<h2 id="ch-advancedtopics">7. Advanced topcis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section some of the features already mentioned will be discussed in more detail.</p>
</div>
<div class="sect2">
<h3 id="ch-bookmarks">7.1. Bookmarks</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>PDF Bookmarks can be used as an alternative table of contents for the PDF viewer (e.g. Adobe Reader). Almost all of these programs can display bookmarks. You can use them to jump directly to certain places in the document. A special feature of bookmarks is that they are arranged hierarchically (level). For each bookmark you can use the attribute open to determine whether it should be displayed "open" or "closed".</p>
</div>
<div class="paragraph">
<p>Bookmarks are displayed in texts or on the level of &lt;Record&gt;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Bookmark select="'Content'" level="1"/&gt;
  &lt;Textblock&gt;
    &lt;Bookmark select="'Introduction'" level="1" open="yes"/&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;...&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;
&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Bookmark select="'One'" level="2" open="yes"/&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;...&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/bookmarks.png" alt="bookmarks" width="80%">
</div>
<div class="title">Figure 49. Bookmarks are used for quick navigation in a PDF document. On the left is an excerpt from the PDF viewer Skim and on the right Adobe Acrobat Reader.</div>
</div>
<div class="paragraph">
<p>Important: The layers must be consecutive. A Level 1 bookmark may only be followed by another Level 1 bookmark (for the next section) or one on Level 2 (subsection).</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-elementattribute">7.2. Creation of XML structures</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The speedata Publisher can create, save and read in XML files.
This allows you to create tables of contents, cross-references and other applications.</p>
</div>
<div class="paragraph">
<p>The XML structure is not created directly, but indirectly via the two commands <code>&lt;Element&gt;</code> and <code>&lt;Attributes&gt;</code>.
So the following XML file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Root&gt;
   &lt;Greeting content="Hello, world!" /&gt;
&lt;/Root&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>are generated from this structure in the layout rules:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Element name="Root"&gt;
  &lt;Element name="Greeting"&gt;
    &lt;Attributes name="content" select="'Hello, world!'"/&gt;
  &lt;/element&gt;
&lt;/element&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>can be generated.
Text content outside of attributes, such as mixed content, cannot be output with the Publisher.</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-outputforprinter">7.3. Print output / crop marks</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>A printable PDF usually differs little or not at all from a PDF that is only read on screen. A few points that should be considered for output to a printer:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Format</dt>
<dd>
<p>While today&#8217;s screens tend to be in landscape format (16:10 or similar aspect ratios), the usual print page is in portrait format.
In the command <code>&lt;Pageformat&gt;</code> you should specify the desired size (final format).
Bleed marks and bleeding can be controlled separately (see below or the command <a href="#cmd-options"><code>&lt;Options&gt;</code></a>)</p>
</dd>
<dt class="hdlist1">Colours</dt>
<dd>
<p>Since printing inks are almost always applied to white paper, they must be indicated differently than on the screen, which makes LEDs light up on a dark background.
Care should be taken to define all colours either in CMYK colour space or in greyscale mode.
It is possible to convert RGB values into CMYK by calculation, but in practice this only works moderately well.</p>
</dd>
<dt class="hdlist1">Images</dt>
<dd>
<p>Again, one should take care to only include images in the CMYK color space.
The Publisher takes over the images without any changes or conversion into the PDF.
This means that the source material should already be suitable for printing.</p>
</dd>
<dt class="hdlist1">Quality (pixel number) of the images</dt>
<dd>
<p>Sometimes it is said that only images with at least 300 DPI (dots per inch) should be included.
The specification of the DPI number is often nonsensical, as it can be arbitrarily defined in the image.
It depends on the actual number of pixels per inch according to the scaling in the Publisher.
The Publisher can issue a warning if this is below a certain value (attribute 'dpiwarn', see &lt;&lt;cmd-image,<code>&lt;image&gt;</code>&gt;).</p>
</dd>
<dt class="hdlist1">Fonts</dt>
<dd>
<p>The Publisher automatically embeds all used fonts in the PDF (subsetting - only the actually used letters and characters are embedded).</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_crop_marks">7.3.1. Crop marks</h4>
<div class="paragraph">
<p>If no special setting is made, the speedata Publisher creates a PDF which has exactly the size of the specified pages.
To switch on bleed or crop marks, these must be activated in the element <a href="#cmd-options"><code>&lt;Options&gt;</code></a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Options
   cutmarks="yes"
   bleed="3mm"
  /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>These instructions create trim marks that are 1cm long and 3mm from the inner edge of the page (TrimBox).
The distance results from the specification at the attribute 'bleed'.</p>
</div>
<div class="paragraph">
<p>The created PDF file always contains the following boxes:
outside is the <strong>MediaBox</strong>, the bleed is marked by the <strong>BleedBox</strong> and the actual page is marked by the <strong>TrimBox</strong>.
If no bleed is specified, the <strong>BleedBox</strong> and the <strong>TrimBox</strong> fall on top of each other.
If no trim marks are created, the <strong>MediaBox</strong> coincides with the <strong>TrimBox</strong>, so that all three boxes have the same dimensions without specifying trim marks and bleed.</p>
</div>
<h4 id="_example_2" class="discrete">Example</h4>
<div class="paragraph">
<p>In the example
the crop marks go up to the blue line that marks the bleed.
The green line shows the final format of the page (screenshot from Adobe Acrobat).</p>
</div>
<div id="abb-cropmarks" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/schnittmarken.png" alt="schnittmarken" width="40%">
</div>
<div class="title">Figure 50. crop marks and bleed in Adobe Acrobat</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The command '`&lt;PDFOptions&gt;' offers the possibility to set preferences for the print dialog in the PDF viewer.
These are only supported by some programs (mainly Adobe Acrobat Reader) and are platform dependent.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-css">7.4. Using CSS with the speedata Publisher</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>CSS (Cascading Stylesheets) is a language mainly used on the web to determine the appearance of objects.
The idea is to separate formatting from content.
On the web - so the pure teaching - the content is described in HTML, while the appearance is determined by CSS.
With the speedata Publisher the separation is even clearer.
The data usually contains no information about the appearance, while the layout rules have no information about the data.</p>
</div>
<div class="paragraph">
<p>The speedata Publisher relies exclusively on the built-in language when formatting the objects.
Some elements can be designed using CSS.
In the Publisher this is only rudimentary:
Currently the commands <code>&lt;Box&gt;</code>, <code>&lt;Circle&gt;</code>, <code>&lt;Frame&gt;</code>, <code>&lt;Paragraph&gt;</code>, <code>&lt;Rule&gt;</code>, <code>&lt;Td&gt;</code>, <code>&lt;Tablerule&gt;</code> and <code>&lt;U&gt;</code> can be formatted via CSS.
<a href="#ch-command reference">The Command Reference</a> lists the commands with the associated attributes that can be accessed via CSS functionality.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The CSS implementation in the speedata Publisher has more the character of a "proof of concept" or prototype. The commands and properties that can be controlled via CSS are very limited.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A CSS stylesheet can be available and integrated as an external file.
Alternatively, one can write CSS instructions directly into the layout rules.
<code>&lt;Stylesheet&gt;</code> is the command for both variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Stylesheet filename="style.css"/&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Test&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with the following CSS file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="css" class="language-css hljs">p {
	color: red;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>results in the word "Test" in the PDF in the color red.</p>
</div>
<div class="paragraph">
<p>If the CSS statements are inserted directly, the syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Stylesheet&gt;
    p {
      color: red;
    }
  &lt;/Stylesheet&gt;</code></pre>
</div>
</div>
<h4 id="_selectors" class="discrete">Selectors</h4>
<div class="paragraph">
<p>As known from HTML, the CSS instructions are assigned to certain elements with so-called selectors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table&gt;
  &lt;Tr minheight="4"&gt;
    &lt;Td class="myclass" id="myid"&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;Hallo Welt&lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Td&gt;
  &lt;/Tr&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The table cell in the example above could be accessed via the following selectors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="css" class="language-css hljs">#myid {
  vertical-align: top ;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="css" class="language-css hljs">.myclass {
  vertical-align: top ;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="css" class="language-css hljs">td {
  vertical-align: top ;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first case is via the 'id' attribute, which must be unique in the layout rules.
The second case is addressed via the class <code>class="&#8230;&#8203;"</code>.
The class can be the same for several elements in the layout set of rules.
The third case refers to all elements 'Td' in the layout set of rules.
Here the usual specificity rules for CSS apply, but `!important' is not supported.</p>
</div>
<div class="sect3">
<h4 id="_css_and_and_elements_in_data">7.4.1. CSS and and elements in data</h4>
<div class="paragraph">
<p>Text markup in the data works as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;p&gt;Text, Text, Text &lt;b&gt;bold&lt;/b&gt;, Text Text&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Publisher will ensure that the text within the 'b' element appears in bold.</p>
</div>
<div class="paragraph">
<p>You can also add CSS styles to your own elements.
For example, if you have the following data</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;hello &lt;green&gt;green&lt;/green&gt; world&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can use CSS to color the element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Stylesheet&gt;
    green {
      color: green;
    }
  &lt;/Stylesheet&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="."/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/32-hellogreenworld.png" alt="32 hellogreenworld">
</div>
<div class="title">Figure 51. Elements in data can now be colored</div>
</div>
<div class="paragraph">
<p>Currently, only the attributes underline and color (text-decoration: underline; and color: &#8230;&#8203;) can be set via CSS.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-groups">7.5. Groups (virtual objects)</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>One of the most important features of the Publisher is the ability to place objects on a virtual surface (Group) in order to subsequently measure them or place them together.
This virtual surface initially has no width and no height.
The surface adapts to the dimensions of the content.
This allows you to answer questions such as "Does the article (with picture and description) still fit on the page?" or "How much do you need to
Reduce font size so that all the text fits on an A4 page?".</p>
</div>
<div class="paragraph">
<p>It is also possible to provide this virtual area with its own page grid.
This allows, for example, to position objects more finely than is possible with a coarser side grid of the main page.</p>
</div>
<div class="paragraph">
<p>There are a few things to consider when using the groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The width specifications for text blocks and tables are now mandatory, since there is no "natural maximum".</p>
</li>
<li>
<p>The group grid cannot be defined with 'nx' and 'ny' (division), but only with fixed values for height and width.</p>
</li>
<li>
<p>Areas cannot be combined with groups. This means that 'area' must not be specified for 'PlaceObject&gt;' and similar commands.</p>
</li>
<li>
<p>Placements in groups must not be absolute (e.g. <code>row="2mm"</code>).</p>
</li>
</ul>
</div>
<h4 id="_how_are_groups_used" class="discrete">How are groups used?</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Trace grid="yes" objects="yes"/&gt;

  &lt;Record element="data"&gt;
    &lt;Group name="test"&gt;
      &lt;Contents&gt;
        &lt;PlaceObject row="2" column="2"&gt;
          &lt;Image width="3" file="_sampleb.pdf"/&gt;
        &lt;/PlaceObject&gt;
      &lt;/Contents&gt;
    &lt;/Group&gt;

    &lt;Message select="sd:group-height('test')"/&gt;

    &lt;PlaceObject groupname="test"/&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The group takes up the minimum space.
image::24-einfachegruppe.png[width=50%,scaledwidth=80%]</p>
</div>
<div class="paragraph">
<p>If the group has been created but not yet placed, you can use various layout functions to measure the dimensions of the group: <code>sd:group-width('group name')</code> and <code>sd:group-height('group name')</code> output the width and height in whole grid cells.
The `&lt;Message&gt;' command in the example above prints the number 6, even though the group has only the height of about 5.2 cells.
The Publisher always calculates with whole grid cells.</p>
</div>
<div class="paragraph">
<p>This says it all about groups.
The applications are very diverse.
In principle, the question is always: how large are these objects?
Do they still fit on the page? Do I have to insert a pagination here? And so on.
It&#8217;s best to play a little with the virtual areas to get familiar with them.
Used correctly, they are a powerful tool.</p>
</div>
<div class="paragraph">
<p>See the chapter <a href="#ch-layoutoptimizationusinggroups">Layout optimization using groups</a> for an example how to optimize layout using groups.</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-savepages">7.6. Virtual pages</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>With the Virtual Pages you can create and discard pages, similar to the Virtual Areas (Groups).
For this purpose there are the commands <code>&lt;SavePages&gt;</code> and <code>&lt;InsertPages&gt;</code> and the layout function <code>sd:count-saved-pages()</code>.
The first command has the effect that the output within the command is not written to the PDF.
With the second command you can output these saved pages.
The layout function determines the number of saved pages.</p>
</div>
<h4 id="_example_3" class="discrete">Example</h4>
<div class="paragraph">
<p>Text and an image should be displayed on exactly one page, with the image displayed as large as possible and preferably in the text flow.
Now the text is to be set with different parameters until the text and image fit exactly on one page, i.e. the page number from <code>sd:count-saved-pages()</code> gives the value 1.</p>
</div>
<div class="paragraph">
<p>The data file <code>data.xml</code> is structured as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;journal&gt;
  &lt;article ueberschrift="Gummibrchen"&gt;
    &lt;text&gt;
      &lt;paragraph&gt;Freilebende Gummibrchen gibt es nicht.
        Man kauft sie in Packungen an der
        Kinokasse. Dieser Kauf ist der Beginn
        einer fast erotischen und sehr ambivalenten
        Beziehung Gummibrchen-Mensch. Zuerst geniet man.
        Dieser Genu umfat alle Sinne.
        Man whlt in den Gummibrchen, man fhlt sie.
      &lt;/paragraph&gt;
    &lt;/text&gt;
  &lt;/article&gt;
&lt;/journal&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The layout file is somewhat more extensive and is explained in several stages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Options ignoreeol="yes" mainlanguage="German"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>

  &lt;DefineFontfamily name="title" fontsize="16" leading="16"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;Regular fontface="sans-bold"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;SetGrid width="5mm" height="12pt"/&gt; <i class="conum" data-value="3"></i><b>(3)</b>

  &lt;Pagetype name="text" test="true()"&gt;
    &lt;Margin left="1.5cm" right="0.5cm" top="1cm" bottom="2cm"/&gt;

    &lt;PositioningArea name="heading"&gt; <i class="conum" data-value="4"></i><b>(4)</b>
      &lt;PositioningFrame width="27" height="8" row="1" column="1"/&gt;
    &lt;/PositioningArea&gt;

    &lt;PositioningArea name="text"&gt; <i class="conum" data-value="5"></i><b>(5)</b>
      &lt;PositioningFrame width="13" height="51" row="9" column="1"/&gt;
      &lt;PositioningFrame width="13" height="51" row="9" column="15"/&gt;
    &lt;/PositioningArea&gt;
  &lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The head is back to normal. The <code>ignoreeol</code>(ignoreeol option says that the line breaks in the data should be ignored.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then the font size for the header is set. The body text will use the default font size of 10/12 point.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If you set the grid height equal to the normal line spacing, you can easily achieve register-true typesetting. The page type defines two page areas (see section <a href="#ch-positioningarea">Areas on the page (PositioningArea)</a>)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The header area covers the first 8 lines and is independent of the text area.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The area for the text consists of two columns.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The actual data processing follows.
In the beginning the specifications for the image position and image size are defined.
The variable 'i' then selects the default 1, 2 or 3.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="Journal"&gt;

    &lt;!-- Variante 1: Das Bild geht ber die ganze Breite --&gt;
    &lt;SetVariable variable="imagewidth1" select="38"/&gt;
    &lt;SetVariable variable="imagecolumn1" select="1"/&gt;

    &lt;!-- Variante 2: Das Bild fngt in der zweiten Spalte an --&gt;
    &lt;SetVariable variable="imagewidth2" select="24"/&gt;
    &lt;SetVariable variable="imagecolumn2" select="15"/&gt;

    &lt;!-- Variante 3: Das Bild erscheint am rechten Rand --&gt;
    &lt;SetVariable variable="imagewidth3" select="10"/&gt;
    &lt;SetVariable variable="imagecolumn3" select="29"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now follows the decision about virtual pages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;SetVariable variable="i" select="0"/&gt;
    &lt;Until test="$i = 3"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
      &lt;SetVariable variable="i" select="$i + 1"/&gt;

      &lt;SavePages name="pagewithimage"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;PlaceObject column="{sd:variable('imagecolumn',$i)}" row="9"&gt;
          &lt;Image width="{sd:variable('imagewidth',$i)}" file="_sampleb.pdf"/&gt;
        &lt;/PlaceObject&gt;
        &lt;NextRow/&gt;

        &lt;PlaceObject column="{sd:variable('imagecolumn',$i)}"&gt; <i class="conum" data-value="4"></i><b>(4)</b>
          &lt;Table stretch="max" padding="3pt"&gt;
            &lt;Tr&gt;
              &lt;Td padding-left="10pt" align="left"&gt;
                &lt;Paragraph&gt;
                  &lt;I&gt;&lt;Value&gt;Figure caption&lt;/Value&gt;&lt;/I&gt;
                &lt;/Paragraph&gt;
              &lt;/Td&gt;
            &lt;/Tr&gt;
            &lt;Tablerule rulewidth="20pt" color="white"/&gt;
          &lt;/Table&gt;
        &lt;/PlaceObject&gt;

        &lt;ProcessNode select="article"/&gt; <i class="conum" data-value="5"></i><b>(5)</b>
      &lt;/SavePages&gt;

      &lt;Switch&gt; <i class="conum" data-value="6"></i><b>(6)</b>
        &lt;Case test="sd:count-saved-pages('pagewithimage') = 1 "&gt;
          &lt;SetVariable variable="i" select="3"/&gt;
        &lt;/Case&gt;
      &lt;/Switch&gt;

    &lt;/Until&gt;
    &lt;InsertPages name="pagewithimage"/&gt; <i class="conum" data-value="7"></i><b>(7)</b>
  &lt;/Record&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The loop is run through for the values i = 1, i = 2 and i = 3</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>From here on, the contents are stored temporarily.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here the image with the specifications is output.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Here the caption.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Now the text is output.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>If the desired page number (1) is reached, i is set to 3 to abort the loop prematurely.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Now the saved pages are output.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>What is still missing is the output of the text.
This is triggered in <code>&lt;ProcessNode select="Article"/&gt;</code> above.
Since this is an example, we create a paragraph in a loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="article"&gt;
    &lt;Output area="title"&gt;
      &lt;Text&gt;
        &lt;Paragraph textformat="title" fontface="title"&gt;
          &lt;Color name="green"&gt;
            &lt;Value select="@title"/&gt;
          &lt;/Color&gt;
        &lt;/Paragraph&gt;
      &lt;/Text&gt;
    &lt;/Output&gt;

    &lt;Loop select="7" variable="c"&gt;
      &lt;Output area="text" allocate="auto"&gt;
        &lt;Text&gt;
          &lt;Paragraph fontface="text"&gt;
            &lt;Value select="text/paragraph"/&gt;
          &lt;/Paragraph&gt;
        &lt;/Text&gt;
      &lt;/Output&gt;
    &lt;/Loop&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/07-savepages.png" alt="07 savepages" width="70%">
</div>
<div class="title">Figure 52. Side construction with 7 or 12 paragraphs. In the first case the default "2" is used, in the second case the default "3" is used.</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-rotation">7.7. Rotation of contents</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Objects that are output with <code>&lt;PlaceObject&gt;</code> can be rotated.
For this purpose, there is the attribute <code>rotate</code>, which expects an angle (in degrees), whereas positive values cause a clockwise rotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject rotate="10"&gt;
  &lt;Image file="_sampleb.pdf" width="3"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When an object is rotated, you need to specify the point around which it should rotate.
The default setting is the upper left corner.
With the attributes <code>origin-x</code> (<code>left</code>, <code>center</code> and <code>right</code>) and <code>origin-y</code> (<code>top</code>, <code>center</code>, <code>bottom</code>) you can define the axis of rotation.
In addition to these values, numbers from 0 to 100 are also possible, the upper left corner is 0.0 and the lower right corner is 100, 100.</p>
</div>
<div id="fig-rotateimages" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/rotieren.png" alt="rotieren" width="40%">
</div>
<div class="title">Figure 53. The image is rotated by 10 degrees. A negative value would make the rotation counterclockwise.</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In <a href="https://github.com/speedata/examples/">examples repository on github</a> there is a document in the <code>technical</code> directory which shows the effect of <code>origin-x</code> and <code>origin-y</code>.
</td>
</tr>
</table>
</div>
<h4 id="_rotate_images" class="discrete">Rotate images</h4>
<div class="paragraph">
<p>The attribute <code>rotate</code> is available for both <code>&lt;PlaceObject&gt;</code> and <code>&lt;Image&gt;</code>. The attribute at <code>&lt;Image&gt;</code> can only rotate images in 90 steps. Therefore, in practice the rotation is rather controlled by <code>&lt;PlaceObject&gt;</code>.</p>
</div>
<h4 id="_rotate_via_transformation" class="discrete">Rotate via transformation</h4>
<div class="paragraph">
<p>Using the command <code>&lt;transformation&gt;</code> (see section <a href="#ch-output-transformation">Transformation</a> and in the appendix the <a href="#cmd-transformation">command description</a>) you can also rotate contents.
The matrix has the form "cos  sin  -sin  cos  0 0", for a rotation of 90 degrees thus "0 1 -1 0 0 0".
This is shown in the section <a href="#ch-imagebehindtext">Image behind the text</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-sortingdata">7.8. Sorting data</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The speedata Publisher offers an easy way to sort data. If this method is not sufficient, the sorting must be performed by an external program such as XSLT.</p>
</div>
<div class="paragraph">
<p>Assuming that the data file (data.xml) looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;item value="one"/&gt;
  &lt;item value="two"/&gt;
  &lt;item value="three"/&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kann nun mit &lt;SortSequence&gt; sortiert werden. Die ursprnglichen Daten werden dabei nicht verndert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;SetVariable variable="unsorted" select="*"/&gt;
    &lt;SetVariable variable="sorted"&gt;
      &lt;SortSequence select="$unsorted" criterion="value"/&gt;
    &lt;/SetVariable&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;ForAll select="$sorted"&gt;
          &lt;Paragraph&gt;&lt;Value select="@value"/&gt;&lt;/Paragraph&gt;
        &lt;/ForAll&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to the command <code>&lt;SortSequence&gt;</code> there is also the possibility to sort and group by <code>&lt;MakeIndex&gt;</code>. This command is described in the chapter sorting keyword indexes.</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-wraparoundimages">7.9. Wrap around images</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Text that is output using the <code>&lt;Output allocate="auto"&gt;</code> command flows around previously placed objects. It is therefore useful to place objects that are to be flowed around on future pages first. This can be achieved with the page attribute in the command &lt;PlaceObject&gt;. In the attribute you must specify either a concrete page number or next for the next page. To avoid the cursor being changed during output, it is recommended to set the attribute keepposition to yes.</p>
</div>
<div class="paragraph">
<p>The complete example can be found at <a href="https://github.com/speedata/examples/tree/master/technical/wraparoundobjects" class="bare">https://github.com/speedata/examples/tree/master/technical/wraparoundobjects</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid height="12pt" nx="10"/&gt;

  &lt;Pageformat width="180mm" height="90mm"/&gt;
  &lt;DefineTextformat name="text" orphan="yes" widow="yes"/&gt;

  &lt;LoadFontfile name="RedactedScript"
                filename="redacted-script-regular.ttf"/&gt;
  &lt;DefineFontfamily name="text" fontsize="10" leading="12"&gt;
    &lt;Regular fontface="RedactedScript"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject column="8" row="1" keepposition="yes"&gt;
      &lt;Box width="3" height="6"
           backgroundcolor="thistle" padding-left="2mm"
           padding-bottom="2mm"/&gt;
    &lt;/PlaceObject&gt;

    &lt;PlaceObject column="1" row="12" keepposition="yes"&gt;
      &lt;Box width="3" height="6"
           backgroundcolor="lightgreen" padding-top="2mm"
           padding-right="2mm"/&gt;
    &lt;/PlaceObject&gt;

    &lt;Output allocate="auto" row="1"&gt;
      &lt;Text&gt;
        &lt;Loop select="3"&gt;
          &lt;Paragraph&gt;
            &lt;Value select="sd:dummytext()"/&gt;
          &lt;/Paragraph&gt;
        &lt;/Loop&gt;
      &lt;/Text&gt;
    &lt;/Output&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div id="abb-umfliessenvonbildern" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/umfliessenvonbildern.png" alt="umfliessenvonbildern" width="80%">
</div>
<div class="title">Figure 54. Automatic flow around objects that were previously output.</div>
</div>
<div class="sect3">
<h4 id="_complex_shapes">7.9.1. Complex shapes</h4>
<div class="paragraph">
<p>It is possible to create outlines of images with non-rectangular shapes. For this purpose, an image file is provided with an outline file formulated in XML.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;SetGrid height="12pt" width="4mm"/&gt;

  &lt;Pagetype name="page" test="true()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
    &lt;PositioningArea name="text"&gt;
      &lt;PositioningFrame width="20" height="20" row="1" column="1"/&gt;
    &lt;/PositioningArea&gt;
  &lt;/Pagetype&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject column="16" row="1" keepposition="yes"&gt;
      &lt;Image file="taschenuhr.pdf"/&gt;
    &lt;/PlaceObject&gt;

    &lt;Output allocate="auto" row="1" area="text"&gt;
      &lt;Text&gt;
        &lt;Loop select="3"&gt;
          &lt;Paragraph&gt;
            &lt;Value select="sd:dummytext()"/&gt;
          &lt;/Paragraph&gt;
        &lt;/Loop&gt;
      &lt;/Text&gt;
    &lt;/Output&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The pocketwatch.pdf file can have an outline file with the same name and the extension xml, which is structured as follows</p>
</div>
<div class="listingblock">
<div class="title">The segments determine the occupied area. The specifications refer to the (arbitrary) unit of 75x100 units.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;imageinfo&gt;
  &lt;cells_x&gt;75&lt;/cells_x&gt;
  &lt;cells_y&gt;100&lt;/cells_y&gt;
  &lt;segment x1="35" x2="40" y1="5" y2="5"/&gt;
  &lt;segment x1="33" x2="42" y1="6" y2="6"/&gt;
  &lt;segment x1="31" x2="44" y1="7" y2="7"/&gt;
  &lt;segment x1="30" x2="45" y1="8" y2="8"/&gt;
  ...
  &lt;segment x1="30" x2="46" y1="95" y2="95"/&gt;
  &lt;segment x1="33" x2="43" y1="96" y2="96"/&gt;
&lt;/imageinfo&gt;</code></pre>
</div>
</div>
<div id="abb-taschenuhr" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/taschenuhr.png" alt="taschenuhr" width="50%">
</div>
<div class="title">Figure 55. The shape of the watch must be determined in a preparatory step.</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This functionality is still experimental. The next versions of the Publisher will probably have improvements to this feature. The outline of an image can be created with the program imageshaper at <a href="https://github.com/speedata/imageshaper" class="bare">https://github.com/speedata/imageshaper</a>.
A complete example can be found at <a href="https://github.com/speedata/examples/tree/master/imageshape" class="bare">https://github.com/speedata/examples/tree/master/imageshape</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-pagetypes">7.10. Page types</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Page types (or master pages, page templates) are used to define margins for pages, create page frames and perform actions when a page is created or written to the PDF file.
Classically, there is a page template for left pages and for right pages.
In the simplest case, a template looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="page" test="sd:even(sd:current-page())"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The condition in the attribute 'test' can be arbitrarily complex. This attribute must always be specified.
A page is selected as soon as a test of a page type yields <em>true</em>.
Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>true()</code>: This page is always selected, since <code>true()</code> always results in <strong>true</strong>.</p>
</li>
<li>
<p><code>sd:current-page() &gt; 1</code>: Here the page template is selected for all pages following the first page.</p>
</li>
<li>
<p><code>sd:even(sd:current-page())</code>: If the page number is even, this page type is used. This is usually when the page is a left page.</p>
</li>
<li>
<p>It can also be more complex: <code>sd:even(sd:current-page()) and $part = 'main'</code>. As long as the condition can be evaluated to <em>true</em> or <em>false</em>, this is a valid expression.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>What happens if there are multiple conditions that are <em>true</em> at the same time?
Page types are evaluated from 'bottom to top'.
This means that special page templates must be defined later than the general ones.
The default template is defined first and has as condition 'true()`.
So it is evaluated last according to this logic and is always used if no other page type in the test returns <em>true</em> (fallback).</p>
</div>
<div class="listingblock">
<div class="title">Here, the page type for the first page after the page type for right pages must be defined, otherwise it would not be considered (sd:odd(1) returns true).</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="left pages" test="sd:even(sd:current-page())"&gt;
  ...
&lt;/Pagetype&gt;
&lt;Pagetype name="right pages" test="sd:odd(sd:current-page())"&gt;
  ...
&lt;/Pagetype&gt;
&lt;Pagetype name="first page" test="sd:current-page() = 1"&gt;
  ...
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_text_frame">7.10.1. Text frame</h4>
<div class="paragraph">
<p>Text frames can be created in the page type definition.
These are described in detail in the section <a href="#ch-positioningarea">"Areas on the page"</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_atpagecreation_atpageshipout">7.10.2. AtPageCreation, AtPageShipout</h4>
<div class="paragraph">
<p>The two commands <code>&lt;AtPageCreation&gt;</code> and <code>&lt;AtPageShipout&gt;</code> are responsible for executing code when a page is created and when a page is written to the PDF file.
They can be used for many purposes.
The most common is to create the page header in <code>&lt;AtPageCreation&gt;</code> and the page footer in <code>&lt;AtPageShipout&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The following is an example of a page footer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Pagetype name="page" test="true()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;

    &lt;AtPageShipout&gt;
      &lt;PlaceObject column="1" row="{sd:number-of-rows() - 1}"&gt;
        &lt;Table stretch="max"&gt;
          &lt;Tablerule/&gt;
          &lt;Tr&gt;
            &lt;Td align="left"&gt;
              &lt;Paragraph&gt;
                &lt;Value select="sd:current-page()"/&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
            &lt;Td align="right"&gt;
              &lt;Paragraph&gt;
                &lt;Value&gt;Name&lt;/Value&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Table&gt;
      &lt;/PlaceObject&gt;
    &lt;/AtPageShipout&gt;
  &lt;/Pagetype&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Content&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div id="fig-footerpagetype" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/fusszeileseitentyp.png" alt="fusszeileseitentyp" width="100%">
</div>
<div class="title">Figure 56. Page with footer</div>
</div>
</div>
<div class="sect3">
<h4 id="_newpage">7.10.3. NewPage</h4>
<div class="paragraph">
<p>With the command `&lt;NewPage&gt;' you can specify which page type should be selected for the next page, even if the condition (`test') for `&lt;Pagetype&gt;' does not return <em>true</em>.</p>
</div>
<div class="paragraph">
<p>The following example defines two page types, a template "Standard", which is always used and a template "Special", which is explicitly selected with <code>&lt;NewPage&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Pageformat width="210mm" height="50mm"/&gt;

  &lt;Pagetype name="Special" test="false()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;/Pagetype&gt;

  &lt;Pagetype name="Standard" test="true()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;/Pagetype&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Seite 1&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
    &lt;NewPage pagetype="Special" openon="right" /&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Seite 3&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the log file (`publisher.log') you can see which page types are selected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>...
Page of type "Standard" created (1)
Number of rows: 3, number of columns = 19
PlaceObject: Text block in row 1 and column 1, width=19, height=1 (page 1)
&gt; Shipout page 1
Page of type "Standard" created (2)
Number of rows: 3, number of columns = 19
&gt; Shipout page 2
Page of type "Special" created (3) - pagetype requested
...</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-hotfolder">7.11. Starting the Publisher via the Hotfolder</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The speedata Publisher can monitor a directory as a "watchdog" in order to start automatically when changes are made. Such a directory is also called hotfolder. You can specify rules about what happens when a certain file is written to this directory.</p>
</div>
<div class="paragraph">
<p>The Publisher deletes the XML file from the directory as soon as it is processed.
The hotfolder is configured in the same way as the Publisher using the publisher.cfg file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[hotfolder]
hotfolder = /Users/speedata/tmp/hotfolder
events = layout\.xml:run(runpublisher);data\.xml:run(runpublisher)</pre>
</div>
</div>
<div class="paragraph">
<p>The configuration consists of two parts: The hotfolder entry points to the (empty) directory where the files are written to. The entries under events follow the pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;Regular expression&gt;:run(&lt;programname&gt;)</pre>
</div>
</div>
<div class="paragraph">
<p>Several entries are separated by semicolon.</p>
</div>
<div class="paragraph">
<p>In the example, if one of the files layout.xml or data.xml is written to the /Users/speedata/tmp/hotfolder directory, the runpublisher program is triggered. The runpublisher program could be a shell script that calls the Publisher:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">#!/bin/sh

{
 echo "Running speedata Publisher ($1)"
 cd /Users/speedata/tmp/hotfolder
 sp
} &gt; /tmp/publisher.log 2&gt; /tmp/publisher.err</code></pre>
</div>
</div>
<div class="paragraph">
<p>Usually this is of course somewhat more extensive, for simple applications this is sufficient. The program configured in run() gets the full path to the file in the hotfolder as the only argument.</p>
</div>
<div class="paragraph">
<p>It doesn&#8217;t have to be just XML files to which the Publisher&#8217;s watchdog reacts. They can be any files specified using the regular expression.</p>
</div>
</div>
<div class="sect2">
<h3 id="luafilter">7.12. Lua-Filter / pre-processing</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Sometimes you may want to convert the data into another format or check for correctness before the actual PDF creation.
For this purpose there is the possibility (since version 3.1.9) to execute a Lua script before the actual publishing run.
Lua is a simple but powerful programming language that is intended to be built into other programs as a scripting language.</p>
</div>
<div class="paragraph">
<p>Three use cases can be found in <a href="https://github.com/speedata/examples/tree/master/technical">examples repository</a>.</p>
</div>
<div class="sect3">
<h4 id="_calling_the_lua_script">7.12.1. Calling the Lua script</h4>
<div class="paragraph">
<p>The filter is started either via the command line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sh" class="language-sh hljs">sp --filter myfile.lua</code></pre>
</div>
</div>
<div class="paragraph">
<p>or via the configuration file, which must contain the following entry</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sh" class="language-sh hljs">filter=myfile.lua</code></pre>
</div>
</div>
<div class="paragraph">
<p>The specified Lua script will be executed before the PDF file generation starts.
Therefore the main application of this pre-processing is the transformation of data into a format suitable for the speedata Publisher. This way CSV or Excel files can be converted to XML and then the PDF generation can be started. It is also possible to validate data.</p>
</div>
<div class="paragraph">
<p>The application options are described below, and at the very end there is another overview of the built-in functions and methods.</p>
</div>
</div>
<div class="sect3">
<h4 id="_validate_input_data">7.12.2. Validate input data</h4>
<div class="paragraph">
<p>There are several ways to validate RELAX NG files. Beside a variant to validate the schema directly in the XML editor (see the corresponding <a href="#ch-schema validation">section in the manual</a>) there is the possibility to use an external program for this.
One of these is Jing. It is delivered with the Publisher.</p>
</div>
<div class="paragraph">
<p>In the Lua preprocessing there is a function that does the validation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")
runtime.validate_relaxng(`xmlfile`, `schemafile`)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The function returns <code>false</code> and the error message in case of an error. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">-- adjust the paths, of course
runtime = require("runtime")
ok, msg = runtime.validate_relaxng("layout.xml","../schema/layoutschema-en.rng")
if not ok then
    print(msg)
    os.exit(-1)
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is saved in a file, e.g. <code>valididate.lua</code> and then the publisher is called with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sh" class="language-sh hljs">sp --filter validate.lua</code></pre>
</div>
</div>
<div class="paragraph">
<p>on. Before each run, the system checks whether the layout file corresponds to the schema and only then does processing continue.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can check not only the layout file for correctness, but also all other XML files.
But for this you have to create your own RELAX NG schema.
Instructions are available at <a href="https://speedata.github.io/relaxngtutorial-de/" class="bare">https://speedata.github.io/relaxngtutorial-de/</a>.
Depending on the data file this is also quite easy.
Especially if you get data from external sources again and again, you can be sure that the desired structure is kept.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_executing_a_transformation">7.12.3. Executing a transformation</h4>
<div class="paragraph">
<p>An XSLT transformation processes an XML file with an XSLT script and generates an output file.
XSLT is a programming language designed for processing XML data.
Often data from PIM systems or databases is not in the form that is optimal for the publisher.
With XSLT you can process and modify such output data.</p>
</div>
<div class="paragraph">
<p>The program <code>Saxon</code> (supplied with the speedata Publisher) can execute an XSLT script.
The call is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")
runtime.run_saxon(`XSL`, `source`, `outfile`, `parameter`)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The parameters have the form <code>keyword=value</code> and are separated by spaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")
ok, msg = runtime.run_saxon("transformation.xsl", "sourcefile.xml", "data.xml")

-- quit the publishing process if the trainsformation fails
if not ok then
    print(msg)
    os.exit(-1)
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, the call to Saxon can be done as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")
ok, msg = runtime.run_saxon({ key = value, key = value, ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Allowed key/value pairs are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">source file (XML)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stylesheet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stylesheet file (XSL)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>out</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initialtemplate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the template to be called</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")
ok, msg = runtime.run_saxon({stylesheet = `json2xml.xsl`,
                             out = `data.xml`,
                             initialtemplate = `main`})</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also the example in <a href="https://github.com/speedata/examples/tree/master/technical/jsonreader">examples repository</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_creating_xml_files">7.12.4. Creating XML files</h4>
<div class="paragraph">
<p>You can also create the data file to be processed with the Lua script.
For this purpose there is the function <code>encode_table()</code> in the module <code>xml</code>, which creates an XML file from a Lua table.</p>
</div>
<div class="paragraph">
<p>The script</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">xml = require("xml")
tbl = {
    ["_type"] = "element",
    ["_name"] = "data",
    {
       ["_type"] = "element",
       ["_name"] = "child",
       "Hello, world",
    }
}


ok, msg = xml.encode_table(tbl)
if not ok then
    print(msg)
    os.exit(-1)
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>generates the XML file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;&lt;child&gt;Hello, world&lt;/child&gt;&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>which is available for the next publisher run.
This is particularly useful if the data source is not in XML.</p>
</div>
</div>
<div class="sect3">
<h4 id="_processing_of_excel_files">7.12.5. Processing of Excel files</h4>
<div class="paragraph">
<p>A common use case is that the data is to be read from Excel files for processing.
For this purpose, the module <code>xlsx</code> contains the function <code>open()</code> which opens an existing file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">xlsx = require("xlsx")
spreadsheet, err = xlsx.open("myfile.xlsx")
if not spreadsheet then
    print(err)
    os.exit(-1)
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>The object <code>spreadsheet</code> contains the individual worksheets.
The number of worksheets can be determined using the length operator and the individual worksheets can be determined using the index (1 is the first worksheet).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">numWorksheets = #spreadsheet
ws = spreadsheet[1]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The object <code>ws</code> can be used to access the cell contents directly.
To do this, it is called as a function and returns a character string.
The first cell in the upper left corner has the coordinates 1,1, the first cell in the second row 1,2 and so on.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">cell1 = ws(1,1)
cell2 = ws(1,2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The name of the worksheet can be determined by the value <code>name</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">name = ws.name</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_read_csv_files">7.12.6. Read CSV files</h4>
<div class="paragraph">
<p>Similar to Excel files, CSV files can also be read in directly.
However, the structure is simpler because there is only one "worksheet".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">csv = require("csv")
csvtab, msg = csv.decode("myfile.csv",{columns = {1,2,3}})
if not csvtab then
    print(msg)
    os.exit(-1)
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second parameter at <code>csv.deocde()</code> is optional.
In this example only columns 1, 2 and 3 are output.
The result is a table of rows.
Each row is in turn a table containing the individual values of the row.</p>
</div>
<div class="paragraph">
<p>The example repository shows how to create an XML file from the CSV file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_function_reference">7.12.7. Function reference</h4>
<div class="sect4">
<h5 id="_runtime"><code>Runtime</code></h5>
<div class="paragraph">
<p>In this module all functions and settings are collected, which are of a more general nature.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>projectdir</code></dt>
<dd>
<p>A string containing the current project directory (the directory with the <code>layout.xml</code> or <code>publisher.cfg</code> file)</p>
</dd>
<dt class="hdlist1"><code>variables</code></dt>
<dd>
<p>A table with all variables specified by <code>-v</code> on the command line or in the configuration file with <code>vars=&#8230;&#8203;</code>.</p>
</dd>
<dt class="hdlist1"><code>finalizer</code></dt>
<dd>
<p>If a function is assigned to this variable, it will be called after PDF creation (callback). The function has no parameters and no return value.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">runtime = require("runtime")

function finished()
    print("PDF is finished now.")
end

runtime.finalizer = finished</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>validate_relaxng(`xml file</code>, <code>schema file</code>)`</dt>
<dd>
<p>This function validates the specified XML file with the RELAX NG (XML syntax) schema specified in the second parameter.
The return is a boolean value that is true if the command was executed without errors. Otherwise a second return value (string) is returned, which contains the error message.</p>
</dd>
<dt class="hdlist1"><code>run_saxon(`XSL</code>, <code>Source file</code>, <code>Output file</code>, <code>Parameters</code>)`</dt>
<dd>
<p>This function calls the <code>saxon</code> program supplied with the Publisher. It expects three string arguments (the stylesheet, the input file and the output file) and an optional argument that is passed as a parameter to saxon. The return is a boolean value which is true if the command was executed without errors. Otherwise a second return value (string) is returned, which contains the error message. The parameters have the form <code>keyword1=value1 keyword2=value2</code> (separated by spaces).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_xml"><code>xml</code></h5>
<div class="paragraph">
<p>The XML module is used to generate XML files.
First the XML structure must be created in a Lua table, then it is saved with <code>encode_table()</code> under the name <code>data.xml</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>xml.encode_table(table,[filename])</code></dt>
<dd>
<p>Creates an XML file (<code>data.xml</code> or the optionally given filename) of the passed table.
Return value 1 is a bool (success), value 2 is the error message if the first value is <code>false</code>.
The table has the following structure:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">element = {
    ["_type"] = "element",
    ["_name"] = "element name"
    attribute1 = "value1",
    attribute2 = "value2",
    child1,
    child2,
    child3,
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>child1</code>, <code>&#8230;&#8203;</code> are either strings, elements or comments. Comments have the following form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">comment = {
         _type = "comment",
         _value = " This is a comment! "
   }</code></pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_csv"><code>CSV</code></h5>
<div class="paragraph">
<p>CSV files</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>decode(filename, parameter)</code></dt>
<dd>
<p>Reads a CSV file. The return value is a table or, in case of an error, <code>false</code> and an error message.</p>
<div class="paragraph">
<p>The <code>parameters</code> are encoded in a table:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>charset</code></dt>
<dd>
<p>If the CSV file is Latin-1 encoded, this value must be ISO-8859-1. Other encodings on request.</p>
</dd>
<dt class="hdlist1"><code>separator</code></dt>
<dd>
<p>Either a comma (default), a semicolon or the appropriate separator.</p>
</dd>
<dt class="hdlist1"><code>columns</code></dt>
<dd>
<p>A table containing the desired columns in their order.
For example, <code>{3,2,1}</code> for the first three columns in reverse order.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_xlsx"><code>xlsx</code></h5>
<div class="paragraph">
<p>Reads an Excel file.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>open(filename)</code></dt>
<dd>
<p>Opens the specified file. The return value is a <code>spreadsheet</code> object or, in case of an error, <code>false</code> and an error message.</p>
<div class="paragraph">
<p>The <code>spreadsheet</code> object contains the individual worksheets. The number of worksheets can be determined with the <code>#</code> operator. The individual worksheets can be accessed with the index operator <code>[]</code>, where the first worksheet has index 1.</p>
</div>
<div class="paragraph">
<p>The individual worksheets can be used as functions with two parameters (see example above).
The parameters are the x and y coordinates of the cell to be read, the first cell in the upper left corner has the coordinate 1,1.
The dimensions of the content can be determined using the parameters <code>minrow</code>, <code>maxrow</code>, <code>mincol</code> and and <code>maxxcol</code>.
The name is contained in the parameter <code>name</code>.</p>
</div>
</dd>
<dt class="hdlist1"><code>string_to_date(string)</code></dt>
<dd>
<p>Converts a number (encoded as a string) into a date.
Returned is a table with the keys <code>day</code>, <code>month</code>, <code>year</code>, <code>hour</code>, <code>minute</code> and <code>second</code>. Example: <code>xlsx.string_to_date("43458")</code> results in</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="lua" class="language-lua hljs">{
  ["day"] = "24"
  ["month"] = "12"
  ["year"] = "2018"
  ["hour"] = "0"
  ["minute"] = "0"
  ["second"] = "0"
}</code></pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_http"><code>http</code></h5>
<div class="paragraph">
<p>The HTTP library is described at <a href="https://github.com/cjoudrey/gluahttp" class="bare">https://github.com/cjoudrey/gluahttp</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-schemavalidierung">7.13. Schema validation</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>A special feature of the speedata Publisher is that the input language is formulated in XML. Compared to other programming languages, XML is "chatty": You always have to write end tags for the start tags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
   ...
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compared to a C-like syntax like</p>
</div>
<div class="listingblock">
<div class="content">
<pre>placeObject(...)</pre>
</div>
</div>
<div class="paragraph">
<p>this is more typing. The solution to this "problem" is to use a text editor that is good with XML. For example, entering a start tag would immediately insert the end tag. Or, if the tag name was changed, both the start tag and the end tag would be changed at the same time. Good XML editors do much more than just make it easier to enter tags, for example, to validate code against a schema.</p>
</div>
<div class="sect3">
<h4 id="_what_is_a_schema">7.13.1. What is a schema?</h4>
<div class="paragraph">
<p>A schema (e.g. <a href="https://de.wikipedia.org/wiki/XML_Schema">XML-Schema</a> orhttps://de.wikipedia.org/wiki/RELAX_NG[RELAX NG]) contains information about the permitted structure of an XML file. For example, the schema that is supplied with the speedata Publisher contains the following</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The root element must be called <code>&lt;Layout&gt;</code></p>
</li>
<li>
<p>The child element of <code>&lt;PlaceObject&gt;</code> must be either <code>&lt;Barcode&gt;</code>, <code>&lt;Box&gt;</code>, <code>&lt;Circle&gt;</code>, <code>&lt;Frame&gt;</code>, <code>&lt;Image&gt;</code>, <code>&lt;Rule&gt;</code>, <code>&lt;Table&gt;</code>, <code>&lt;Textblock&gt;</code> or <code>&lt;Transformation&gt;</code>.</p>
</li>
<li>
<p>The attribute valign in the table row can be one of the values top, middle, or bottom</p>
</li>
<li>
<p>and many more</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The documentation of the individual commands and the selection options is also included in the supplied schematic. A good XML editor can import such a schema and make it <strong>much easier</strong> for the user to enter the source code. The input with a good schema is a lot of fun and has some advantages over the classic text editor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Syntax errors are displayed immediately</p>
</li>
<li>
<p>Commands (tags) do not have to be entered completely, because the editor offers an auto-complete function</p>
</li>
<li>
<p>The attributes are immediately checked for meaningful values</p>
</li>
<li>
<p>Documentation is available directly in the editor</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>... basically what you expect from an integrated development environment (IDE).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/29-autocomplete1.png" alt="29 autocomplete1" width="90%">
</div>
<div class="title">Figure 57. Selection of allowed child elements</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/29-autocomplete2.png" alt="29 autocomplete2" width="90%">
</div>
<div class="title">Figure 58. Allowed attributes for text block</div>
</div>
</div>
<div class="sect3">
<h4 id="_integration_of_the_relax_ng_schema">7.13.2. Integration of the RELAX NG schema</h4>
<div class="paragraph">
<p>How the schema is included depends on the editor. For oXygen XML, for example, you can create a new document type assignment in the settings. You have to define for which namespace the schema should be used.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/29-doczuordnung1.png" alt="29 doczuordnung1" width="80%">
</div>
<div class="title">Figure 59. Link rules in the oXygen XML configuration</div>
</div>
<div class="paragraph">
<p>Then you have to define which schema should be loaded for these link rules. This is defined in the second tab of the setting.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/29-doczuordnung2.png" alt="29 doczuordnung2" width="80%">
</div>
<div class="title">Figure 60. Set RELAX NG + Schematron as schema in the oXygen XML configuration</div>
</div>
<div class="paragraph">
<p>From now on, for every layout in the namespace</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">xmlns="urn:speedata.de:2009/publisher/en"</code></pre>
</div>
</div>
<div class="paragraph">
<p>the schema should be associated. This can be recognized by the fact that a selection of commands now appears when you enter an opening angle bracket (&lt;).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/29-liste.png" alt="29 liste" width="90%">
</div>
<div class="title">Figure 61. If the schema is correctly integrated, a selection list appears as soon as you enter a command.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-qa">7.14. Quality assurance and PDF comparison</h3>
<div class="paragraph">
<p>To assure that new versions of the speedata Publisher produce the exact the same results as before, it has a built in functionality to check for unwanted changes of behavior.</p>
</div>
<div class="paragraph">
<p>The idea is as follows: with a layout file and a good result (a reference PDF) the publisher can check whether the current version of the publisher gets the same result. For that one has to create a layout and data XML file, run the speedata Publisher and save the result under the name reference.pdf. When the publisher is invoked with sp compare &lt;directory&gt; it will re-create the document and compare, page by page, if the resulting PDF is visually the same as the previously created file reference.pdf.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites_for_the_comparison">7.14.1. Prerequisites for the comparison</h4>
<div class="paragraph">
<p>The speedata publisher searches recursively from the given directory for directories that contain the file layout.xml or publisher.cfg. In these directories a new publisher run will be started. The layout file must be named layout.xml, the data file must be named data.xml unless configured otherwise in the optional configuration file publisher.cfg.</p>
</div>
<div class="paragraph">
<p>The PDF comparison requires an installation of the free software ImageMagick, that is able to manipulate and compare images without user interaction. ImageMagick is available for Windows, Mac OS X, Linux and other platforms.</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_use_sp_compare">7.14.2. How to use sp compare</h4>
<div class="paragraph">
<p>Having a layout and a data file you create the PDF as usual. The easiest way is to create it directly with the name reference.pdf.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sp --jobname reference</pre>
</div>
</div>
<div class="paragraph">
<p>creates the correct PDF file. With</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sp --jobname reference clean</pre>
</div>
</div>
<div class="paragraph">
<p>the redundant and not needed temporary files are removed. The directory now looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>example/
 data.xml
 layout.xml
 reference.pdf

0 directories, 3 files</pre>
</div>
</div>
<div class="paragraph">
<p>When you run sp compare example, no error messages should be given in the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sp compare example/
Total run time: 1.62956s</pre>
</div>
</div>
<div class="paragraph">
<p>If a future version of the publisher introduces a visual change of the layout, the output would be something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sp compare example/
/path/to/example
Comparison failed. Bad pages are: [0]
Max delta is 2162.760009765625
Total run time: 862.898ms</pre>
</div>
</div>
<div class="paragraph">
<p>The differences are available as a PNG file in the directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>example/
 data.xml
 layout.xml
 pagediff.png
 publisher.pdf
 reference.pdf
 reference.png
 source.png</pre>
</div>
</div>
<div class="paragraph">
<p>The files source.png and reference.png (with documents that contain more than one page the file name looks like this: source-1.png) contain the current version and the reference as a bitmap graphic. The file pagediff.png (same numbering scheme as above) contains the highlighted differences between the two former files.</p>
</div>
</div>
<div class="sect3">
<h4 id="_quality_assurance">7.14.3. Quality assurance</h4>
<div class="paragraph">
<p>The facilities of the PDF comparison can be used to create a collection of sample documents, that are typical for production documents. The practice is now to install a directory structure as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>qa/
 example1
    data.xml
    layout.xml
    reference.pdf
 example2
    data.xml
    layout.xml
    reference.pdf
 example3
    data.xml
    layout.xml
    reference.pdf
 example4
    data.xml
    layout.xml
    reference.pdf
 example5
     data.xml
     layout.xml
     reference.pdf</pre>
</div>
</div>
<div class="paragraph">
<p>When you run sp compare qa all subdirectories are visited and checked. In the best case the output is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sp compare qa/
Total run time: 4.541458s</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-troubleshooting">7.15. Troubleshooting / Debugging</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The output does not always work as it should. Sometimes objects are too wide, sometimes the wrong text format is used and sometimes the table does not look as it should. In order to prevent troubleshooting from becoming too difficult, the speedata Publisher provides various aids. For this there is the command &lt;Trace&gt;, which offers different switches. These are (by default):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Trace
    assignments="no"
    objects="no"
    verbose="no"
    grid="no"
    gridallocation="no"
    hyphenation="no"
    textformat="no"
    /&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>assignments</code></dt>
<dd>
<p>Displays the value of the assignment (&lt;SetVariable&gt;) on the console.</p>
</dd>
<dt class="hdlist1"><code>objects</code></dt>
<dd>
<p>Draws a line around individual objects.</p>
</dd>
<dt class="hdlist1"><code>verbose</code></dt>
<dd>
<p>Increases the output on the console (log file).</p>
</dd>
<dt class="hdlist1"><code>grid</code></dt>
<dd>
<p>Draws the grid. See section <a href="#ch-grid">Grid</a>.</p>
</dd>
<dt class="hdlist1"><code>gridallocation</code></dt>
<dd>
<p>Draws the grid allocation. See section <a href="#ch-grid">Grid</a>.</p>
</dd>
<dt class="hdlist1"><code>hyphenation</code></dt>
<dd>
<p>Marks the places where the words may be hyphenated.</p>
</dd>
<dt class="hdlist1"><code>text format</code></dt>
<dd>
<p>Creates a tooltip above each line of text, showing the text format used. See the example in the Text Formats section.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_messages">7.15.1. Messages</h4>
<div class="paragraph">
<p>Besides the possibilities provided by the command <code>&lt;Trace&gt;</code>, there is also the possibility to output messages in the log file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Message select="'Hello, world!'"/&gt;
&lt;Message select="sd:current-page()"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output appears in the log file (<code>publisher.protocol</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Message: "Hello, world!"
Message: "1"</pre>
</div>
</div>
<div class="paragraph">
<p>The command <code>&lt;Message&gt;</code> can be instructed with <code>error="yes"</code> to output an error message (instead of a message). You can also specify the error code that will be returned when you exit the Publisher. See <a href="#cmd-message">the command <code>&lt;Message&gt;</code> in the reference</a> command in the reference.</p>
</div>
</div>
<div class="sect3">
<h4 id="_status_file_and_log_file">7.15.2. Status File and Log File</h4>
<div class="paragraph">
<p>At the end of the run, two files are written to the hard disk that can be helpful for troubleshooting. The publisher.status file is an XML file that contains the error messages and other messages (via the &lt;Message&gt; command). The example above with the two messages results in the following file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Status&gt;
  &lt;Errors&gt;0&lt;/Errors&gt;
  &lt;Message&gt;Hello, world!&lt;/Message&gt;
  &lt;Message&gt;1&lt;/Message&gt;
  &lt;DurationSeconds&gt;1&lt;/DurationSeconds&gt;
&lt;/Status&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A more detailed log file (publisher.protocol) is also written, which contains various information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Protocol file for speedata Publisher (2.9.2)
Time: Mon Feb 20 11:03:25 2017
---------------------------------------------
Start processing
Talking to server on port 56486
LuaTeX version 79.1
Loading hyphenation patterns "hyph-en-gb.pat.txt".
Language id: 0
Loading layout instructions "/tmp/layout.xml"
DefineFontfamily, family=2, name="berschrift"
Loading aux file "/tmp/publisher-aux.xml"
Loading data file "/tmp/data.xml"
Page of type "Default Page" created (1)
Number of rows: 28, number of columns = 19
PlaceObject: Textblock in row 1 and column 1, width=19, height=1 (page 1)
Message: "Hello, world!"
Message: "1"
Stop processing data
0 errors occurred
Duration: 0.223866 seconds</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-servermode">7.16. Server mode (REST API)</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The Publisher provides an interface that can be used to pass requests for document generation via HTTP. The server mode is started with</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sp server</pre>
</div>
</div>
<div class="paragraph">
<p>on the command line. The server mode offers the option</p>
</div>
<div class="ulist">
<ul>
<li>
<p>transfer data to the server and start a run</p>
</li>
<li>
<p>Determine status of the run (is the process still running?)</p>
</li>
<li>
<p>download finished PDF files</p>
</li>
<li>
<p>Other status files to read</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Server mode is intended for a non-public environment. There are no authentication methods and no mechanisms to protect documents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The server establishes the connection on the IP address '127.0.0.1' and port '5266'.
The address can be changed with the parameters 'address' and 'port' in the configuration file or on the command line, see <a href="#ch-configuration">the appendix about configuration</a>.</p>
</div>
<div class="paragraph">
<p>An overview of all API methods follows.
The current version number of the API is 0, so all methods are addressed via <code><a href="https://127.0.0.1:5266/v0/" class="bare">https://127.0.0.1:5266/v0/</a>..</code>.
If there will be incompatible changes in the future, these can be reached in the version number <code>/v1/&#8230;&#8203;</code>, the existing methods will still be accessible via <code>/v0</code>.</p>
</div>
<div class="sect3">
<h4 id="_available">7.16.1. <code>/available</code></h4>
<div class="paragraph">
<p>Without version number.
Returns the HTTP status 200.</p>
</div>
</div>
<div class="sect3">
<h4 id="_v0publish">7.16.2. <code>/v0/publish</code></h4>
<div class="paragraph">
<p>If the URL is called with a POST request, the speedata Publisher expects a JSON file in the following format</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{&lt;filename&gt;:&lt;base64 coded content&gt;,
 &lt;filename&gt;:&lt;base64 coded content&gt;,
 ...
 }</pre>
</div>
</div>
<div class="paragraph">
<p>such as</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"layout.xml": "PD94bWwgdmVyc2lv..."
 "data.xml": "PGRhdGE+CiAgICA8Y29udGVudHM+PCFbQ0RBVEFbPHV..." }</pre>
</div>
</div>
<div class="paragraph">
<p>These files are copied to an empty directory on the server and 'sp' is called there.
The return is in the form</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"id": "752869708"}</pre>
</div>
</div>
<div class="paragraph">
<p>with an HTTP status code 201 (Created).</p>
</div>
<div class="paragraph">
<p>If the JSON file is incorrect, an HTTP status code 400 (Bad
Request) is returned with the textual content of the error message, for example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>illegal base64 data at input byte 0</pre>
</div>
</div>
<div class="sect4">
<h5 id="_parameter">Parameter</h5>
<div class="paragraph">
<p>The following URL parameters can be specified in the POST request:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">`job name'</dt>
<dd>
<p>Sets the name of the output, which is specified when the PDF file is downloaded (HTTP header 'Content Scheduling').
Alternatively it is taken from the file 'publisher.cfg' or the default 'publisher'.</p>
</dd>
<dt class="hdlist1"><code>vars</code></dt>
<dd>
<p>Sets variables for the Publisher run. Specification in the form <code>var1=value1,var2=value2,var3=value3&#8230;&#8203;</code>, but URL-coded.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_v0publishid">7.16.3. <code>/v0/publish/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>A GET request to this URL with an id from the POST request described above returns a JSON file with the content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{"status": "ok"
 "path":"/path/to/publisher.pdf"
 "blob": "&lt;base64 encoded PDF&gt;"
 "finished": "2015-03-03T13:12:55+01:00"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or, in case of error, if the id is unknown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{"status": "error", "path":"", "blob": "id unknown"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the PDF file has not yet been written:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{"status": "error", "path":"", "blob": "in progress"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The directory containing the PDF file will be deleted after this request, unless the URL contains the 'delete' parameter with the value 'false'.</p>
</div>
</div>
<div class="sect3">
<h4 id="_v0pdfid">7.16.4. <code>/v0/pdf/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>A GET request with the id from the POST request of <code>/v0/publish</code>. If successful, the PDF file with status code 200 and the file name <code>publisher.pdf</code> is returned. The request is waiting for the publishing process to be completed. In case of an error only an error code is returned (return value and description):</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">200 OK</dt>
<dd>
<p>PDF was generated without errors</p>
</dd>
<dt class="hdlist1">404 Not Found</dt>
<dd>
<p>id invalid</p>
</dd>
<dt class="hdlist1">406 Not Acceptable</dt>
<dd>
<p>PDF was generated incorrectly</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_v0dataid">7.16.5. <code>/v0/data/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>Returns the data file that was previously copied to the server. The format can be specified using the URL parameter 'format', for example '\http://127.0.0.1:5266/v0/data/1347678770?format=base64':</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>json</code> or <code>JSON</code></dt>
<dd>
<p>Returns a JSON file in the format <code>{"contents":"&lt;XML Text&gt;"}</code></p>
</dd>
<dt class="hdlist1"><code>base64</code></dt>
<dd>
<p>Results in an XML file that is base64 encoded (<code>PGRhdGE+CiAgICA8&#8230;&#8203;hPgo=</code>)</p>
</dd>
<dt class="hdlist1">(not specified)</dt>
<dd>
<p>Writes an XML file (<code>&lt;data&gt;&#8230;&#8203;&lt;/data&gt;</code>)</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_v0layoutid">7.16.6. <code>/v0/layout/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>Returns the layout XML that was previously copied to the server. The format can be specified using the URL parameter 'format'. Example as above.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>json</code> or <code>JSON</code></dt>
<dd>
<p>Returns a JSON file in the format <code>{"contents":"&lt;XML Text&gt;"}</code></p>
</dd>
<dt class="hdlist1"><code>base64</code></dt>
<dd>
<p>Results in an XML file that is base64 encoded (<code>PGRhdGE+CiAgICA8&#8230;&#8203;hPgo=</code>)</p>
</dd>
<dt class="hdlist1">(not specified)</dt>
<dd>
<p>Writes an XML file (<code>&lt;Layout&gt;&#8230;&#8203;&lt;/Layout&gt;</code>)</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_v0statusfileid">7.16.7. <code>/v0/statusfile/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>Returns the 'publisher.status' file created by the run. The format can be specified using the URL parameter 'format', (example as in <code>/v0/data/&lt;id&gt;</code>).</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>json</code> or <code>JSON</code></dt>
<dd>
<p>Returns a JSON file in the format <code>{"contents":"&lt;XML Text&gt;"}</code>.</p>
</dd>
<dt class="hdlist1"><code>base64</code></dt>
<dd>
<p>Results in an XML file that is base64 encoded (<code>PGRhdGE+CiAgICA8&#8230;&#8203;hPgo=</code>)</p>
</dd>
<dt class="hdlist1">(not specified)</dt>
<dd>
<p>Writes an XML file (<code>&lt;Status&gt;&#8230;&#8203;&lt;/Status&gt;</code>)</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_v0status">7.16.8. <code>/v0/status</code></h4>
<div class="paragraph">
<p>Returns the status of all publishing runs started with `/v0/publish'.</p>
</div>
<div class="paragraph">
<p>The returned JSON file has the following format</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "1997009134": {
    "error status": "ok"
    "result": "finished",
    "message": "no errors found"
    "finished": "2016-05-23T11:14:14+02:00"
  },
  "1997329145": {
    "error status": "ok"
    "result": "finished",
    "message": "no errors found"
    "finished": "2016-05-23T11:14:14+02:00"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The individual fields have the same meaning as described under '/v0/status/&lt;id&gt;'.</p>
</div>
</div>
<div class="sect3">
<h4 id="_v0statusid">7.16.9. <code>/v0/status/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>Determines the status of the publisher run that was sent to '/v0/publish' via POST request.</p>
</div>
<div class="paragraph">
<p>The returned JSON file has the following keys:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>errorstatus</code></dt>
<dd>
<p>Is the request valid? Possible answers are <code>error</code> and <code>ok</code>. If <code>error</code>, then the <code>message</code> key contains the reason for the error, the <code>result</code> field is irrelevant in this case. If <code>ok</code>, then the field <code>result</code> contains the value <code>not finished</code> if the PDF file has not yet been created.</p>
</dd>
<dt class="hdlist1"><code>result</code></dt>
<dd>
<p>After the PDF file has been created, the <code>result</code> field contains the value <code>failed</code> if errors occurred during PDF creation, <code>not finished</code> if the publishing process is still going on, otherwise <code>ok</code>.</p>
</dd>
<dt class="hdlist1"><code>message</code></dt>
<dd>
<p>Contains an informal message about the result. For example, <code>no errors found</code> or <code>2 errors occurred during publishing run</code>.</p>
</dd>
<dt class="hdlist1"><code>finished</code></dt>
<dd>
<p>Contains the timestamp when the PDF was finished. Format corresponds to RFC3339, for example '2015-12-25T12:03:04+01:00'.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_v0deleteid">7.16.10. <code>/v0/delete/&lt;id&gt;</code></h4>
<div class="paragraph">
<p>GET: Deletes the directory with this id. Returns 200 if the id exists, 404 if not.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 split">
<h2 id="ch-cookbook">8. Cookbook</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>In this section concrete applications are shown, with designed data, but with requirements occurring in practice. The last three chapters (Table of Contents, Index, and Page X of Y) are implemented using the same mechanism with the XML element structure (chapter Creating XML Structures).</p>
</div>
<div class="sect2">
<h3 id="ch-thumbindex">8.1. Thumb index</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div id="abb-25-marke" class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/25-griffmarken.jpg" alt="25 griffmarken" width="100%">
</div>
<div class="title">Figure 62. Left: thumb indexes in the phone book (that still exists!). Right: Lines are less obtrusive, yet practical..</div>
</div>
<div class="paragraph">
<p>Thumb indexes are marks on the outer edge of a catalog or reference book that indicate the current chapter. A characteristic of the thumb index is that it extends beyond the right or left edge of the paper. This means that the cut edge of the paper is in the colored area, so that the color can be seen even when the paper is closed.</p>
</div>
<div class="paragraph">
<p>There is nothing special about thumb indexes at first, they are either created with boxes or lines in a certain colour. An example of chapter numbers in a square box follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Options bleed="3mm"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>

  &lt;DefineFontfamily name="thumbindex" fontsize="15" leading="15"&gt;
    &lt;Regular fontface="sans-bold"/&gt;
  &lt;/DefineFontfamily&gt;
  &lt;Record element="data"&gt;
    &lt;Loop select="4" variable="chapter"&gt;
      &lt;PlaceObject column="200mm"
          row="{20 + 20 * $chapter}mm"&gt; <i class="conum" data-value="2"></i><b>(2)</b>

        &lt;Box width="1cm" height="1cm" backgroundcolor="black"
             bleed="right"/&gt; <i class="conum" data-value="3"></i><b>(3)</b>
      &lt;/PlaceObject&gt;

      <i class="conum" data-value="4"></i><b>(4)</b>
      &lt;PlaceObject column="200mm" row="{20 + 20 * $chapter}mm"&gt;
        &lt;Table width="1cm" stretch="max"&gt;
          &lt;Tr valign="middle" minheight="1"&gt;
            &lt;Td align="center"&gt;
              &lt;Paragraph fontface="thumbindex" color="white"&gt;
                &lt;Value select="$chapter"/&gt;
              &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Table&gt;
      &lt;/PlaceObject&gt;
    &lt;/Loop&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The bleed is fixed at 3mm.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Vertical offset. The box is 10mm high, so the distance between each box is also 10mm.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The box is on the right edge and protrudes into the bleed. The parameter <code>bleed="right"</code> is set for this. With this the box extends to the right around the bleed.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The chapter number is then printed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the example, the chapter number is stored in the variable 'chapter no.' and output in a loop.
In practice, this would of course be inserted into the page type (`AtPageShipout') and only one handle marker would be output at a time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/25-publisher.png" alt="25 publisher" width="10%">
</div>
<div class="title">Figure 63. The green line shows the final format, the blue line the outer edge of the untrimmed paper.</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-multipagepdf">8.2. Embed multipage PDF files</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>Embedding multiple pages of a PDF file is easy. You can use the layout function <code>sd:number-of-pages()</code> to determine how many pages a PDF file has.
With the <code>&lt;Image&gt;</code> command to include an image, you can specify the desired number of pages. So the pattern for including all pages of a PDF file is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;SetVariable variable="myfile" select="'multipage.pdf'"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;Loop select="sd:number-of-pages($myfile)" variable="page"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
      &lt;PlaceObject column="0mm" row="0mm"&gt;
        &lt;Image file="{$myfile}" width="210mm" page="{$page}"/&gt;
      &lt;/PlaceObject&gt;
      &lt;NewPage/&gt;
    &lt;/Loop&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>First the file name is saved in the variable <code>myfile</code>. This is not absolutely necessary. Important are the single quotation marks within the double quotation marks of <code>select</code>, this will save the string <code>multipage.pdf</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The loop (<code>&lt;Loop&gt;</code>) is passed through exactly as often as the PDF file has pages, the number of the loop pass is saved in the variable <code>page</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To access the variables you need the curly brackets, because neither `file' nor `page' expects an XPath expression, but a fixed value.
In order to access the variables, you must temporarily switch to XPath mode.
This is how</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">file="{$myfile}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>becomes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">file="multipage.pdf"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The integrated pages can of course also be "overwritten" afterwards, i.e. with a page number or an image (watermark or similar).</p>
</div>
</div>
<div class="sect2">
<h3 id="ch-layoutoptimizationusinggroups">8.3. Layout optimization using groups</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>A typical case with database publishing is that you don&#8217;t know what data to expect. Text varies in length, images have different aspect ratios, the amount of data in the record varies, and so on. In order to still create a presentation that is appealing (i.e. follows certain rules), you can make queries. Besides static questions like "How many articles are in the article group?", dynamic questions can be answered.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How wide is the headline?</p>
</li>
<li>
<p>How high is the image?</p>
</li>
<li>
<p>Does the table still fit on the page?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>are typical questions that are necessary for a sophisticated layout.</p>
</div>
<div class="paragraph">
<p>The idea is as follows: You create a virtual area that is not output to the PDF. The elements that you want to measure are then placed there. Then you can ask how large (width and height) this virtual area is and react differently to it.</p>
</div>
<div class="paragraph">
<p>Virtual areas are bracketed in <code>&lt;Group&gt;&lt;Contents&gt;&#8230;&#8203;&lt;/Contents&gt;&lt;/Group&gt;</code> (see the section <a href="#ch-groups">Groups (virtual objects)</a>).</p>
</div>
<div class="paragraph">
<p>The framework is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;Group name="img"&gt;
    &lt;Contents&gt;
      <i class="conum" data-value="1"></i><b>(1)</b>
      &lt;PlaceObject&gt;
        &lt;Image file="_samplea.pdf" width="4"/&gt;
      &lt;/PlaceObject&gt;
    &lt;/Contents&gt;
  &lt;/Group&gt;
  <i class="conum" data-value="2"></i><b>(2)</b>
  &lt;Switch&gt;
    &lt;Case test="sd:group-height('img') &gt; 5"&gt;
      ...
    &lt;/Case&gt;
    &lt;Otherwise&gt;
      ...
    &lt;/Otherwise&gt;
  &lt;/Switch&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>At the beginning the group has a width and height of 0. All objects increase the area.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The group now has a width of 4 and an unknown height (depending on the image). Now the height can be queried with sd:group-height() and the width with sd:group-width(). What happens in the case distinction depends on the concrete layout, of course.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The principle is always the same: the content in question is placed on a virtual area and measured. On the basis of the determined height or width, you can, for example</p>
</div>
<div class="ulist">
<ul>
<li>
<p>simply output the group</p>
</li>
<li>
<p>insert a page break if the group no longer fits on the page</p>
</li>
<li>
<p>recreate the group in a loop with modified parameters until a condition is met (an example of this procedure is shown in the section on Virtual Pages, No. Virtual Pages)</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ch-directories-marker">8.4. Automatically generated directories</h3>
<div class="paragraph">
<p>This chapter is dedicated to the creation of directories.
There are basically two ways to create a directory.
Therefore, the next section is about the built-in mechanism of markers (<code>&lt;Mark&gt;</code>), the following sections are about the way via <code>&lt;Element&gt;</code> and <code>&lt;Attributes&gt;</code> and manually saving the data for another pass.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In order for the Publisher to run through several times, the <code>runs</code> parameter must be set on the command line or in the configuration file, for example with <code>sp --runs=2</code> (command line) or <code>runs = 2</code> (configuration file).
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_markers">8.4.1. Markers</h4>
<div class="paragraph">
<p>Markers are invisible characters that are inserted into the text.
A name is always assigned to these characters.
After the character is output on a page, you can ask the Publisher for the page number.
The structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Action&gt;
      &lt;Mark select="'textstart'"/&gt;
    &lt;/Action&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;
      Row
      Row
      Row
      Row
       &lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After outputting the page, the page number can now be determined with <code>sd:pagenumber('textstart')</code>.</p>
</div>
<div class="paragraph">
<p>The markers are automatically stored in an internal auxiliary file <code>publisher.aux' so that when the page numbers are scanned again with `sd:pagenumber()</code>, they are available before the page is placed.
A simple text structure is used as an example (it is the same example as in the next section):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;chapter titel="Foreword"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
  &lt;chapter titel="Introduction"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
  &lt;chapter titel="Conclusion"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is output with the following layout:</p>
</div>
<div class="listingblock">
<div class="title">The basic framework for the markers. The place for the table of contents will be extended later (see comment).</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;DefineFontfamily name="title" fontsize="18" leading="20"&gt;
    &lt;Regular fontface="sans"/&gt;
  &lt;/DefineFontfamily&gt;

  &lt;Record element="data"&gt;
    &lt;!-- This point will be completed further below --&gt;
    &lt;ProcessNode select="chapter"/&gt;
  &lt;/Record&gt;

  &lt;Record element="chapter"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Action&gt;
          &lt;Mark select="@title"/&gt;
        &lt;/Action&gt;
        &lt;Paragraph fontface="title"&gt;
          &lt;Value select="@title"/&gt;
        &lt;/Paragraph&gt;
        &lt;Paragraph&gt;
          &lt;Value select="text"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
    &lt;NewPage/&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Publisher now assigns the chapters to the page number. You can now output the directory in the next pass:</p>
</div>
<div class="listingblock">
<div class="title">This part is inserted into the layout above to output the table of contents.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;PlaceObject&gt;
    &lt;Table padding="5pt"&gt;
      &lt;ForAll select="chapter"&gt;
        &lt;Tr&gt;
          &lt;Td&gt;&lt;Paragraph&gt;&lt;Value select="@title"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td&gt;&lt;Paragraph&gt;
               &lt;Value select="sd:pagenumber(@title)"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
          &lt;/Paragraph&gt;&lt;/Td&gt;
        &lt;/Tr&gt;
      &lt;/ForAll&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
  &lt;NewPage/&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In a further pass, the page numbers are available before the actual chapters are written to the following pages.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="ch-directoriesxml">8.4.2. Create directories (XML structure)</h4>
<div class="paragraph">
<p>In the previous chapter, directories were created about the markers.
In this chapter a mechanism is used which means a bit more manual work, but is more flexible.</p>
</div>
<div class="paragraph">
<p>The speedata Publisher can create any directory type.
Whether table of contents, article list or keyword index - all lists work on the same principle:
the necessary data (e.g. page numbers, article numbers) are explicitly stored in a separate data structure, written to disk.
The next time the Publisher is run, this data is read in and is available.</p>
</div>
<div class="sect4">
<h5 id="_step_1_collecting_the_information">Step 1: Collecting the information</h5>
<div class="paragraph">
<p>The two commands <a href="#cmd-element"><code>&lt;element&gt;</code></a> and <a href="#cmd-attributes"><code>&lt;attributes&gt;</code></a> are used to structure data that is read during processing.
This has already been described in the chapter <a href="#ch-elementattribute">Creation of XML structures</a>.
These commands can be used to create new XML data set files.
The following structure could be useful for an article list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;articlelist&gt;
  &lt;article number="1" page="10"/&gt;
  &lt;article number="2" page="12"/&gt;
  &lt;article number="3" page="14"/&gt;
&lt;/articlelist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create this structure in the layout rules, it must be composed of the commands `&lt;Element&gt;' and `&lt;Attributes&gt;' as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Element name="articlelist"&gt;
  &lt;Element name="article"&gt;
    &lt;Attribute name="number" select="1"/&gt;
    &lt;Attribute name="page" select="10"/&gt;
  &lt;/Element&gt;
  &lt;Element name="article"&gt;
    &lt;Attribute name="number" select="2"/&gt;
    &lt;Attribute name="page" select="12"/&gt;
  &lt;/Element&gt;
  &lt;Element name="article"&gt;
    &lt;Attribute name="number" select="3"/&gt;
    &lt;Attribute name="page" select="14"/&gt;
  &lt;/Element&gt;
&lt;/Element&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_step_2_saving_and_loading_the_information">Step 2: Saving and loading the information</h5>
<div class="paragraph">
<p>With the command <a href="#cmd-savedataset"><code>&lt;SaveDataset&gt;</code></a> this structure is saved to disk and with <a href="#cmd-loaddataset"><code>&lt;LoadDataset&gt;</code></a> it is loaded again.
If the file does not exist when loading, no error is reported, because it could be the first pass where the file naturally does not yet exist.</p>
</div>
</div>
<div class="sect4">
<h5 id="_step_3_processing_the_information">Step 3: Processing the information</h5>
<div class="paragraph">
<p>Immediately after loading, XML processing is continued with the first element of the currently loaded structure. In the example above, the following command would be searched for in the layout ruleset</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="articlelist"&gt;
  ...
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that the actual data processing is temporarily interrupted and continued with the new data set from <a href="#cmd-loaddataset"><code>&lt;LoadDataset&gt;</code></a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_4">Example</h5>
<div class="paragraph">
<p>This is the same example as in the previous section (<a href="#ch-directories-marker">Automatically generated directories</a>). A simple data file is used as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;chapter title="Foreword"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
  &lt;chapter title="Introduction"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
  &lt;chapter title="Conclusion"&gt;
    &lt;text&gt;...&lt;/text&gt;
  &lt;/chapter&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is output with the following layout:</p>
</div>
<div class="listingblock">
<div class="title">Basic framework for the output of a table of contents via the XML structure. The code is added during the course of the section.</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;DefineFontfamily name="title" fontsize="18" leading="20"&gt;
    &lt;Regular fontface="sans"/&gt;
  &lt;/DefineFontfamily&gt;

  <i class="conum" data-value="1"></i><b>(1)</b>

  <i class="conum" data-value="2"></i><b>(2)</b>
  &lt;Record element="data"&gt;
    &lt;ProcessNode select="chapter"/&gt;
  &lt;/Record&gt;

  &lt;Record element="chapter"&gt;
    <i class="conum" data-value="3"></i><b>(3)</b>
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph fontface="title"&gt;
          &lt;Value select="@title"/&gt;
        &lt;/Paragraph&gt;
        &lt;Paragraph&gt;
          &lt;Value select="text"/&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
    &lt;NewPage/&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The output of the actual table of contents is inserted here.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The section 'data' is extended by loading and saving the XML data for the directory</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here code is inserted that assembles the XML structure (see below)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now a variable is defined (`entries'), which contains the information about the chapter beginnings.
The target structure should be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;tableofcontent&gt;
  &lt;entry chaptername="Foreword" page="2"/&gt;
  &lt;entry chaptername="Introduction" page="3"/&gt;
  &lt;entry chaptername="Conclusion" page="4"/&gt;
&lt;/tableofcontent&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the 'chapter' section (point 3 in the layout above) the code is inserted at the top to fill the variable 'entries' with the contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="chapter"&gt;
    &lt;SetVariable variable="entries"&gt;
      &lt;Copy-of select="$entries"/&gt;
      &lt;Element name="entry"&gt;
        &lt;Attribute name="chaptername" select="@title"/&gt;
        &lt;Attribute name="page" select="sd:current-page()"/&gt;
      &lt;/Element&gt;
    &lt;/SetVariable&gt;

    &lt;PlaceObject&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thus, something new is added to a variable using `&lt;Copy-of&gt;'.</p>
</div>
<div class="paragraph">
<p>The structure must be loaded at the beginning and saved at the end of the run to ensure that it is always up-to-date.
If the file 'toc' does not yet exist, the command is simply skipped.
The new section 'data' now looks like this and is inserted at position 2 in the layout above (instead of the record existing there)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="data"&gt;
    &lt;LoadDataset name="toc"/&gt;
    &lt;SetVariable variable="entries"/&gt;
    &lt;ProcessNode select="chapter"/&gt;
    &lt;SaveDataset filename="toc" elementname="tableofcontents"
                 select="$entries"/&gt;
  &lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On the next run, the command '`&lt;LoadDataset&gt;' takes effect and opens the previously saved XML file.
The layout ruleset searches for a section for the 'tableofcontents' element, which is the root element of the saved file.
This has to be added to the layout rules (position 1 in the layout above):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="tableofcontents"&gt;
  &lt;PlaceObject&gt;
    &lt;Table padding="5pt"&gt;
      &lt;ForAll select="entry"&gt;
        &lt;Tr&gt;
          &lt;Td&gt;&lt;Paragraph&gt;&lt;Value select="@chaptername"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td&gt;&lt;Paragraph&gt;&lt;Value select="@page"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
        &lt;/Tr&gt;
      &lt;/ForAll&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
  &lt;NewPage/&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A table is output with one line for each child element 'entry'.
The subsequent page break shifts the subsequent text backwards.
This means that you have to run through the document three times before the table of contents is correct:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the first pass, the data structure is compiled.</p>
</li>
<li>
<p>Afterwards the table of contents can be created, the page break shifts the content one page backwards, the data structure is updated accordingly.</p>
</li>
<li>
<p>Only in the third pass is the table of contents correct.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you know that the table of contents will only take up one page, you can insert the page break in the first pass.
This saves you one pass.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ch-indexcreation">8.4.3. Sorting of keyword indexes</h4>
<div class="paragraph">
<p>As a rule, keyword indexes can be found at the end of a document in order to quickly locate relevant pages in printed works.
These keywords can be words or even article numbers or other designations.</p>
</div>
<div class="paragraph">
<p>In contrast to the table of contents (which is usually at the front of a publication), the data only has to be compiled; there is usually no need to save the data temporarily for the next run.</p>
</div>
<h5 id="_example_5" class="discrete">Example</h5>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/stichwortverzeichnis.png" alt="stichwortverzeichnis" width="30%">
</div>
<div class="title">Figure 64. Keyword index from the example</div>
</div>
<div class="paragraph">
<p>Die Beispiele sind naturgem immer etwas konstruiert, das ist hier ganz besonders der Fall.
Der Index wird in der Praxis natrlich anders zusammengestellt.
Da hier nur die Sortierung gezeigt werden soll, wird das Stichwort und die Seitenzahl vorgegeben:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;keyword word="Giraffe" page="1"/&gt;
  &lt;keyword word="Garage" page="2"/&gt;
  &lt;keyword word="Greeting" page="3"/&gt;
  &lt;keyword word="Elevator" page="4"/&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The layout file consists of three sections, which are explained individually.</p>
</div>
<div id="lst-stichwort-geruest" class="listingblock">
<div class="title">The framework for sorting and output of the keyword index</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    ...
  &lt;/Record&gt;

  &lt;Record element="keyword"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    ...
  &lt;/Record&gt;

  &lt;Record element="index"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
    ...
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The frame that first assembles the entries, sorts and then outputs them.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here the entries are stored individually in the variable <code>indexeintrge</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The sorted entries are output in a table.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The section 'data' is the first part from the previous listing:.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="indexentries"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
  &lt;ProcessNode select="keyword"/&gt;

  &lt;SetVariable variable="index"&gt;  <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;Element name="index"&gt;
      &lt;Makeindex select="$indexentries" sortkey="name" section="section"
                 pagenumber="page" /&gt;
    &lt;/Element&gt;
  &lt;/SetVariable&gt;

  &lt;ProcessNode select="$index"/&gt;  <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An empty variable 'index entries' is declared. This is filled with the individual elements in the record 'keyword' (see below).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The now filled variable 'index entries' is supplemented by the parent element 'index', sorted and stored in '$index'.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here the content of the variable '$index' is interpreted and executed as a data structure (see the addition below).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The command <code>&lt;Makeindex&gt;</code> sorts and groups the data passed in the attribute <code>select</code>. Sorting is done using the attribute specified in 'sortkey'. The grouping is based on the first letter of the sort key. The element structure, which is created with the command `&lt;Makeindex&gt;', is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;index&gt;
  &lt;section name="E"&gt;
    &lt;indexentry name="Elevator" page="4"/&gt;
  &lt;/section&gt;
  &lt;section name="G"&gt;
    &lt;indexentry name="Garage" page="2"/&gt;
    &lt;indexentry name="Giraffe" page="1"/&gt;
    &lt;indexentry name="Greeting" page="3"/&gt;
  &lt;/section&gt;
&lt;/index&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The section on the 'keyword' element (insert at position 1 in the listing &lt;<a href="#lst-stichwort-geruest">The framework for sorting and output of the keyword index</a>) is kept simple, and corresponds to the "copy of" pattern (see &lt;<a href="#ch-copyof">[ch-copyof]</a>). Here the variable 'index entries' is supplemented by one entry each.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="keyword"&gt;
  &lt;SetVariable variable="indexentries"&gt;
    &lt;Copy-of select="$indexentries"/&gt;
    &lt;Element name="indexentry"&gt;
      &lt;Attribute name="name" select="@word"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
      &lt;Attribute name="page" select="@page"/&gt;
    &lt;/Element&gt;
  &lt;/SetVariable&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In the current publisher version, the entry that is sorted must be saved in an attribute called 'name'.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the last part the table is output (insert at position 3 in the listing &lt;<a href="#lst-stichwort-geruest">The framework for sorting and output of the keyword index</a>).
For each section (element <code>section</code> in <code>&lt;Makeindex&gt;</code>) a line in light grey is output with the sort key.
Then, for each entry within this section, a line is output with the name of the entry and the page number.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="index"&gt;
  &lt;PlaceObject column="1"&gt;
    &lt;Table width="3" stretch="max"&gt;
      &lt;ForAll select="section"&gt;
        &lt;Tr break-below="no" top-distance="10pt"&gt;
          &lt;Td colspan="2" backgroundcolor="lightgray"&gt;
            &lt;Paragraph&gt;&lt;Value select="@name"&gt;&lt;/Value&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
        &lt;ForAll select="indexentry"&gt;
          &lt;Tr&gt;
            &lt;Td&gt;
              &lt;Paragraph&gt;&lt;Value select="@name"/&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
            &lt;Td align="right"&gt;
              &lt;Paragraph&gt;&lt;Value select="@page"/&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/ForAll&gt;
      &lt;/ForAll&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-seitexvony">8.5. Page numbers: Page x of y</h3>
<div class="paragraph">
<p>To specify the length of the document in pages, a second pass of the Publisher is necessary: At the end of the first pass, the current (= last) page number is stored, which can then be used in subsequent passes.</p>
</div>
<div class="paragraph">
<p>The following example creates some pages with output in the form Page 1 of ??. This serves as a basis for the additions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Record element="data"&gt;
    &lt;!-- ?? is a placeholder that gets overridden --&gt;
    &lt;SetVariable variable="maxpages" select="'??'"/&gt;

    &lt;Loop select="10" variable="i"&gt;
      &lt;PlaceObject&gt;
        &lt;Textblock&gt;
          &lt;Paragraph&gt;
            &lt;Value
              select="concat('Page ', sd:current-page(), ' of ', $maxpages )"/&gt;
          &lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
      &lt;SetVariable variable="lastpage" select="sd:current-page()"/&gt;
      &lt;NewPage/&gt;
    &lt;/Loop&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the end of the last page the information can be cached for the next run using <code>&lt;SaveDataset&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="attrPagenumber"&gt;
  &lt;Attribute name="numberofpages" select="$lastpage"/&gt;
&lt;/SetVariable&gt;
&lt;SaveDataset
  name="pagecount"
  elementname="pageinfo"
  attributes="$attrPagenumber"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;SaveDataset&gt;</code> expects an XML structure at
attributes can be stored in the element `&lt;Attributes&gt;' and, elements in `&lt;Element&gt;', whereby this command can in turn have `&lt;Attributes&gt;' as child elements.
This structure is saved to disk as XML and has the following form in this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;pageinfo numberofpages="10" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the beginning of the run, the file can now be read in if it exists (i.e. no error is generated in the first run because the file has not yet been created):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="maxpages" select="'??'"/&gt;
  &lt;LoadDataset name="pagecount"/&gt;
  ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>and in addition</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="pageinfo"&gt;
  &lt;SetVariable variable="maxpages" select="@numberofpages"/&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The record 'pageinfo' is called when the XML file 'pagecount' is read.
Nothing else is done than overwriting the recently defined variable <code>maxpages</code> with the correct content.</p>
</div>
<div class="paragraph">
<p>The complete example now looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;!-- only evaluated if the file `pagecount` is found (second run) --&gt;
  &lt;Record element="pageinfo"&gt;
    &lt;SetVariable variable="maxpages" select="@numberofpages"/&gt;
  &lt;/Record&gt;

  &lt;!-- start of data processing --&gt;
  &lt;Record element="data"&gt;
    &lt;SetVariable variable="maxpages" select="'??'"/&gt;
    &lt;LoadDataset name="pagecount"/&gt;
    &lt;Loop select="10" variable="i"&gt;
      &lt;PlaceObject&gt;
        &lt;Textblock&gt;
          &lt;Paragraph&gt;
            &lt;Value
              select="concat('Page ', sd:current-page(), ' of ', $maxpages )"/&gt;
          &lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
      &lt;SetVariable variable="lastpage" select="sd:current-page()"/&gt;
      &lt;NewPage/&gt;
    &lt;/Loop&gt;
    &lt;!--  Now we know the total number of pages  --&gt;
    &lt;SetVariable variable="attrPagenumber"&gt;
      &lt;Attribute name="numberofpages" select="$lastpage"/&gt;
    &lt;/SetVariable&gt;
    &lt;SaveDataset
      name="pagecount"
      elementname="pageinfo"
      attributes="$attrPagenumber"/&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ch-fakelists">8.6. Imitate bulleted lists</h3>
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p>The Publisher does not (currently) have any special skills to create bulleted lists. This is also because they can be imitated quite easily via text formats.</p>
</div>
<div class="paragraph">
<p>To do this, you define a text format with a hanging indent and use the one with the bulleted text:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;DefineTextformat name="li" indentation="6pt" rows="-1"/&gt;
  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock textformat="li"&gt;
        &lt;Paragraph&gt;&lt;Value&gt; &lt;/Value&gt;&lt;Value select="sd:dummytext()"&gt;&lt;/Value&gt;&lt;/Paragraph&gt;
        &lt;Paragraph&gt;&lt;Value&gt; Two&lt;/Value&gt;&lt;/Paragraph&gt;
        &lt;Paragraph&gt;&lt;Value&gt; Three&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/olulwithtext.png" alt="olulwithtext" width="50%">
</div>
</div>
<div class="paragraph">
<p>This works very well in practice. The obvious disadvantage is that you have to measure how wide the left edge should be.</p>
</div>
<div class="paragraph">
<p>Nested lists can be realized by using tables, but you have to keep in mind that it is not possible to wrap within the table cells.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Table stretch="max"&gt;
      &lt;Columns&gt;
        &lt;Column width="5mm"/&gt;
        &lt;Column width="5mm"/&gt;
        &lt;Column width="1*"/&gt;
      &lt;/Columns&gt;
      &lt;Loop select="3" variable="i"&gt;
        &lt;Tr valign="top"&gt;
          &lt;Td&gt;
            &lt;Paragraph&gt;
              &lt;Value select="$i"/&gt;&lt;Value&gt;. &lt;/Value&gt;
            &lt;/Paragraph&gt;
          &lt;/Td&gt;
          &lt;Td colspan="2"&gt;
            &lt;Paragraph textformat="justified"&gt;
              &lt;Value select="sd:dummytext()"/&gt;
            &lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
        &lt;Loop select="3"&gt;
          &lt;Tr valign="top"&gt;
            &lt;Td&gt;&lt;/Td&gt;
            &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
            &lt;Td&gt;&lt;Paragraph textformat="justified"&gt;
                  &lt;Value select="sd:dummytext()"/&gt;
                &lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
        &lt;/Loop&gt;
      &lt;/Loop&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/olulwithtables.png" alt="olulwithtables" width="90%">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-installation">Appendix A: Installation instructions</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Den speedata Publisher kann man in zwei Versionen herunterladen: <code>stable</code> und <code>development</code>.
Beide Versionen sind problemlos zu benutzen.
Eine umfangreiche Qualittssicherung verhindert, dass sich unentdeckt Fehler einschleichen.
In der Entwicklungsversion kann die Dokumentation dem aktuellen Stand hinterher sein.
Zum Ausprobieren ldt man sich in der Regel die Development-Version herunter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are three ways to install speedata Publisher:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Binary packages (The recommended way)</strong>: Go to our download page and download the latest package for your operating system. You can unzip the file anywhere in the filesystem you want. You don&#8217;t need root/administrator rights to use the Publisher this way. There are extra installer packages for windows, if you don&#8217;t want to set the PATH variable yourself.</p>
<div class="paragraph">
<p>On macOS 10.15 (Catalina) the securitiy feature Gatekeeper asks for special permissions to run the speedata Publisher. This happens when you download the software from a browser. You can use curl to circumvent this (on the command line):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -O https://download.speedata.de/dl/speedata-publisher-darwin-amd64-latest.zip</pre>
</div>
</div>
<div class="paragraph">
<p>This loads the ZIP file into the current directory.</p>
</div>
</li>
<li>
<p><strong>APT repository</strong>: If you have root or sudo rights on Debian or Ubuntu GNU/Linux (or a similar system), you can install the .deb files we have prepared from our APT repository. (For now, only the 64 bit architecture is supported.) This is very easy, just follow a few steps:</p>
<div class="paragraph">
<p>Add the following file to /etc/apt/sources.list.d/speedata.list for the development version (unstable):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deb https://software.speedata.de/download/devel stable main</pre>
</div>
</div>
<div class="paragraph">
<p>or for the main (stable) releases:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deb https://software.speedata.de/download/public stable main</pre>
</div>
</div>
<div class="paragraph">
<p>Add our GPG key to the system to make sure you get the correct software:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -O http://de.speedata.s3.amazonaws.com/gpgkey-speedata.txt
sudo apt-key add gpgkey-speedata.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can run sudo apt update and apt get install speedata-publisher and have a working installation. You can find the documentation in /usr/share/doc/speedata-publisher/index.html which should open with sp doc on a desktop system.</p>
</div>
</li>
<li>
<p><strong>Build from source</strong>: For developers interested in contributing to speedata Publisher, the program and documentation can be built directly from source. You can choose between a prebuilt docker image on dockerhub or build the software from the git repository using rake. You need to have the Go language version 1.11 or later installed. For example, on Debian or Ubuntu GNU/Linux, where Go is packaged as 'golang', you can use the commands:</p>
<div class="literalblock">
<div class="content">
<pre>sudo apt install build-essential git rake golang
git clone https://github.com/speedata/publisher.git
cd publisher
rake build
rake doc</pre>
</div>
</div>
<div class="paragraph">
<p>If you are building speedata Publisher from source, you will also need to install LuaTeX manually. The recommended way is to download a binary from <a href="https://download.speedata.de/#extra" class="bare">https://download.speedata.de/#extra</a> and copy it into the bin/ directory of the Publisher. For example, to download and install LuajitTeX 1.10 on a Linux amd64 system, you could use the commands:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>wget https://download.speedata.de/files/extra/luatex_110-win-mac-linux.zip
unzip luatex_110-win-mac-linux.zip
cp luatex/linux/amd64/1_10/sdluatex bin</pre>
</div>
</div>
<div class="paragraph">
<p>After installation, you can run <code>bin/sdluatex --version</code> to confirm the program version.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>TODO document:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>docker hub</p>
</li>
<li>
<p>manual (asciidoctor)</p>
</li>
<li>
<p>bin/sdluatex or somewhere else?</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="app-defaults">Appendix B: speedata Publisher defaults</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The speedata Publisher defines some default settings that can be changed in the layout file. These defaults concern the colors, fonts and page size and margins.</p>
</div>
<div class="sect2">
<h3 id="_fonts">B.1. Fonts</h3>
<div class="paragraph">
<p>The distribution includes the free font family TeXGyreHeros, a high quality clone of Helvetica. It comes in the variants regular, bold, italic and bolditalic. It is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="TeXGyreHeros-Regular"
              filename="texgyreheros-regular.otf" /&gt;
&lt;LoadFontfile name="TeXGyreHeros-Bold"
              filename="texgyreheros-bold.otf" /&gt;
&lt;LoadFontfile name="TeXGyreHeros-Italic"
              filename="texgyreheros-italic.otf" /&gt;
&lt;LoadFontfile name="TeXGyreHeros-BoldItalic"
              filename="texgyreheros-bolditalic.otf" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding font family is defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="text" fontsize="10" leading="12"&gt;
  &lt;Regular    fontface="TeXGyreHeros-Regular"/&gt;
  &lt;Bold       fontface="TeXGyreHeros-Bold"/&gt;
  &lt;Italic     fontface="TeXGyreHeros-Italic"/&gt;
  &lt;BoldItalic fontface="TeXGyreHeros-BoldItalic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and since the font family named text is taken as the default for the paragraphs, without any change the text appears in Helvetica 10pt/12pt. With re-defining the font family text you can change the document font.</p>
</div>
<div class="paragraph">
<p>The font aliases are defined for the default font:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TeXGyreHeros-Regular</code> &#8594; <code>sans</code></p>
</li>
<li>
<p><code>TeXGyreHeros-Bold</code> &#8594; <code>sans-bold</code></p>
</li>
<li>
<p><code>TeXGyreHeros-Italic</code> &#8594; <code>sans-italic</code></p>
</li>
<li>
<p><code>TeXGyreHeros-BoldItalic</code> &#8594; <code>sans-bolditalic</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_textformats">B.2. Textformats</h3>
<div class="paragraph">
<p>The following text formats are predefined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineTextformat name="text" alignment="justified"/&gt;
&lt;DefineTextformat name="centered" alignment="centered" /&gt;
&lt;DefineTextformat name="left" alignment="leftaligned"/&gt;
&lt;DefineTextformat name="right" alignment="rightaligned"/&gt;

&lt;DefineTextformat name="__justified" alignment="justified"/&gt;
&lt;DefineTextformat name="__centered" alignment="centered" /&gt;
&lt;DefineTextformat name="__leftaligned" alignment="leftaligned"/&gt;
&lt;DefineTextformat name="__rightaligned" alignment="rightaligned"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The last four are used in tables. See <a href="#ch-tab-textformats">the section on text formats in tables</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_page_size_and_margin">B.3. Page size and margin</h3>
<div class="paragraph">
<p>The page size defaults to A4 (210mm  297mm).</p>
</div>
<div class="paragraph">
<p>The master page for all pages is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="Default Page" test="true()"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The page grid is set to 10mm  10mm.</p>
</div>
</div>
<div class="sect2">
<h3 id="_colors">B.4. Colors</h3>
<div class="paragraph">
<p>The known CSS colors are defined in the RGB color space. The colors 'black' and 'white' are defined in the grayscale color space. See also the command <a href="#cmd-definecolor"><code>DefineColor</code></a>, there the predefined colors are listed.</p>
</div>
<div class="paragraph">
<p>The special colors HKS 1-97 and many Pantone colors are already defined with their CMYK values.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-commandline">Appendix C: Running the speedata publisher on the command line</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The speedata Publisher is started via the command line (also: terminal, command window).
On the one hand there are <em>commands</em>, on the other hand the commands can be controlled via <em>parameters</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp &lt;Command&gt; &lt;Parameter&gt; &lt;Parameter&gt; ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default command is 'run'. So the call of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp</code></pre>
</div>
</div>
<div class="paragraph">
<p>the same as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Besides the command 'run' there are other commands (see below).</p>
</div>
<div class="paragraph">
<p>With</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">$ sp --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>you can display a list of the allowed commands and parameters.</p>
</div>
<div class="sect2">
<h3 id="ch-cmd-description">C.1. Description of the commands</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>clean</code></dt>
<dd>
<p>Deletes all generated intermediate files and keeps the PDF file.</p>
</dd>
<dt class="hdlist1"><code>clearcache</code></dt>
<dd>
<p>Removes files from the image cache.</p>
</dd>
<dt class="hdlist1"><code>compare</code></dt>
<dd>
<p>Recursively check a directory for layout changes. See the topic about <a href="#ch-qa">quality assurance</a>.</p>
</dd>
<dt class="hdlist1"><code>doc</code></dt>
<dd>
<p>Opens the reference manual in the browser (local HTML files).</p>
</dd>
<dt class="hdlist1"><code>list-fonts</code></dt>
<dd>
<p>Lists all font files found in the Publisher directories. Together with <code>--xml</code> this command allows to copy&amp;paste the output into the layout rules. See <a href="#ch-fonts">Using fonts</a>.</p>
</dd>
<dt class="hdlist1"><code>new [DIRECTORY]</code></dt>
<dd>
<p>Create simple layout and data file to start. Provide optional directory.</p>
</dd>
<dt class="hdlist1"><code>run</code></dt>
<dd>
<p>Start publishing (default).</p>
</dd>
<dt class="hdlist1"><code>server</code></dt>
<dd>
<p>Run as http-api server on localhost port 5266 (configure with <code>--address</code> and <code>--port</code>). See the chapter <a href="#ch-servermode">Server mode (REST API)</a>.</p>
</dd>
<dt class="hdlist1"><code>watch</code></dt>
<dd>
<p>Start watchdog / hotfolder. See <a href="#ch-hotfolder">Hotfolder</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="ch-cmd-description-parameter">C.2. Description of the commandline parameters</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-h</code>, <code>--help</code></dt>
<dd>
<p>Show this help</p>
</dd>
<dt class="hdlist1"><code>--address=IPADDRESS</code></dt>
<dd>
<p>Address to be used for the server mode. Defaults to 127.0.0.1.</p>
</dd>
<dt class="hdlist1"><code>--autoopen</code></dt>
<dd>
<p>Open the PDF file (MacOS X and Linux only). Can be set in the <a href="#ch-configuration">How to configure the speedata publisher</a>.</p>
</dd>
<dt class="hdlist1"><code>--cache=METHOD</code></dt>
<dd>
<p>Use cache method. One of 'none', 'fast' or 'optimal'. Default is 'optimal'.</p>
</dd>
<dt class="hdlist1"><code>-c</code>, <code>--config=NAME</code></dt>
<dd>
<p>Read the config file with the given NAME. Default: 'publisher.cfg'</p>
</dd>
<dt class="hdlist1"><code>--credits</code></dt>
<dd>
<p>Show credits and exit</p>
</dd>
<dt class="hdlist1"><code>--[no-]cutmarks</code></dt>
<dd>
<p>Display cutmarks in the document</p>
</dd>
<dt class="hdlist1"><code>--data=NAME</code></dt>
<dd>
<p>Name of the XML data file. Defaults to 'data.xml'. Use '-' for STDIN (only 1 run possible).</p>
</dd>
<dt class="hdlist1"><code>--dummy</code></dt>
<dd>
<p>Don&#8217;t read a data file, use '&lt;data /&gt;' as input</p>
</dd>
<dt class="hdlist1"><code>-x</code>, <code>--extra-dir=DIR</code></dt>
<dd>
<p>Additional directory for file search.</p>
</dd>
<dt class="hdlist1"><code>--extra-xml=NAME</code></dt>
<dd>
<p>Add this file to the layout file</p>
</dd>
<dt class="hdlist1"><code>--filter=FILTER</code></dt>
<dd>
<p>Run Lua filter before publishing starts</p>
</dd>
<dt class="hdlist1"><code>--grid</code></dt>
<dd>
<p>Display background grid. Disable with `--no-grid</p>
</dd>
<dt class="hdlist1"><code>--ignore-case</code></dt>
<dd>
<p>Ignore case when accessing files (on a case-insensitive file system)</p>
</dd>
<dt class="hdlist1"><code>--imagecache=PATH</code></dt>
<dd>
<p>Set the image cache</p>
</dd>
<dt class="hdlist1"><code>--inkscape=PATH</code></dt>
<dd>
<p>Set the path to the inkscape program</p>
</dd>
<dt class="hdlist1"><code>--jobname=NAME</code></dt>
<dd>
<p>The name of the resulting PDF file (without extension), default is 'publisher'</p>
</dd>
<dt class="hdlist1"><code>--[no-]local</code></dt>
<dd>
<p>Add local directory to the search path. Default is true</p>
</dd>
<dt class="hdlist1"><code>--layout=NAME</code></dt>
<dd>
<p>Name of the layout file. Defaults to 'layout.xml'</p>
</dd>
<dt class="hdlist1"><code>--logfile=NAME</code></dt>
<dd>
<p>Logfile for server mode. Default 'publisher.protocol'. Use STDOUT for standard output and STDERR for standard error.</p>
</dd>
<dt class="hdlist1"><code>--mainlanguage=NAME</code></dt>
<dd>
<p>The document&#8217;s main language in locale format, for example 'en' or 'en_US'.</p>
</dd>
<dt class="hdlist1"><code>--mode=NAME</code></dt>
<dd>
<p>Set mode. Multiple modes given in a comma separated list.</p>
</dd>
<dt class="hdlist1"><code>--outputdir=DIR</code></dt>
<dd>
<p>Copy PDF and protocol to this directory</p>
</dd>
<dt class="hdlist1"><code>--prepend-xml=NAME</code></dt>
<dd>
<p>Add this file in front of the layout file</p>
</dd>
<dt class="hdlist1"><code>--port=PORT</code></dt>
<dd>
<p>Port to be used for the server mode. Defaults to 5266</p>
</dd>
<dt class="hdlist1"><code>--quiet</code></dt>
<dd>
<p>Run publisher in silent mode</p>
</dd>
<dt class="hdlist1"><code>--runs=NUM</code></dt>
<dd>
<p>Number of publishing runs</p>
</dd>
<dt class="hdlist1"><code>--startpage=NUM</code></dt>
<dd>
<p>The first page number</p>
</dd>
<dt class="hdlist1"><code>--show-gridallocation</code></dt>
<dd>
<p>Show the allocated grid cells</p>
</dd>
<dt class="hdlist1"><code>-s</code>, <code>--suppressinfo</code></dt>
<dd>
<p>Suppress optional information (timestamp) and use a fixed document ID</p>
</dd>
<dt class="hdlist1"><code>--systemfonts</code></dt>
<dd>
<p>Use system fonts (not Win XP)</p>
</dd>
<dt class="hdlist1"><code>--tempdir=DIR</code></dt>
<dd>
<p>Use this directory instead of the system temporary directory</p>
</dd>
<dt class="hdlist1"><code>--trace</code></dt>
<dd>
<p>Show debug messages and some tracing PDF output</p>
</dd>
<dt class="hdlist1"><code>--timeout=SEC</code></dt>
<dd>
<p>Exit after SEC seconds</p>
</dd>
<dt class="hdlist1"><code>-v</code>, <code>--var=VAR=VALUE</code></dt>
<dd>
<p>Set a variable for the publishing run</p>
</dd>
<dt class="hdlist1"><code>--varsfile=NAME</code></dt>
<dd>
<p>Set variables for the publishing run from key=value&#8230;&#8203; file</p>
</dd>
<dt class="hdlist1"><code>--verbose</code></dt>
<dd>
<p>Print a bit of debugging output</p>
</dd>
<dt class="hdlist1"><code>--version</code></dt>
<dd>
<p>Show version information</p>
</dd>
<dt class="hdlist1"><code>--wd=DIR</code></dt>
<dd>
<p>Change working directory</p>
</dd>
<dt class="hdlist1"><code>--xml</code></dt>
<dd>
<p>Output as (pseudo-)XML (for list-fonts)</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-configuration">Appendix D: How to configure the speedata publisher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The speedata publisher can be configured in several ways:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The file publisher.cfg in /etc/speedata/, in the home directory (with a leading dot) and in the current working directory (Linux, Mac)</p>
</li>
<li>
<p>The file %APPDATA%\speedata\publisher.cfg on Windows.</p>
</li>
<li>
<p>Parameters given on the command line</p>
</li>
<li>
<p>Options given in the layout file</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_the_file_publisher_cfg">D.1. The file <code>publisher.cfg</code></h3>
<div class="paragraph">
<p>The file publisher.cfg (/etc/speedata/publisher.cfg, $HOME/.publisher.cfg and in the current working directory) is a text file, that is read at the beginning of the publisher run. The default file looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># This is a comment
data      = data.xml
layout    = layout.xml
autoopen  = false</pre>
</div>
</div>
<div class="paragraph">
<p>The format of the file is important, otherwise it wont be recognized. The following options are supported:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">autoopen</dt>
<dd>
<p>if true, the publisher opens the PDF file. Default: false. The same effect can be achieved if you run sp --autoopen.</p>
</dd>
<dt class="hdlist1">cache</dt>
<dd>
<p>Caching-strategy for http* image requests. Use fast for file system lookup only or optimal for http checking on each request. https requests are currently always checked with the optimal strategy.</p>
</dd>
<dt class="hdlist1">data</dt>
<dd>
<p>Name of the data file (XML). If not given, the system uses data.xml.</p>
</dd>
<dt class="hdlist1">dummy</dt>
<dd>
<p>If true, the system wont read the data file, instead it uses the single element &lt;data /&gt; as its input.</p>
</dd>
<dt class="hdlist1">extra-dir</dt>
<dd>
<p>A list of directories in the file system separated by ; (Windows) or : (Mac, Linux). These directories contain the images, fonts, source files and other assets that are used during the publisher run. Example for windows: extra-dir=c:\myfonts.</p>
</dd>
<dt class="hdlist1">extraxml</dt>
<dd>
<p>Add this XML file to the layout instructions. List of comma separated file names (extraxml=file1.xml,file2.xml).</p>
</dd>
<dt class="hdlist1">prependxml</dt>
<dd>
<p>Add this XML file in front of the layout instructions. List of comma separated file names (prependxml=file1.xml,file2.xml).</p>
</dd>
<dt class="hdlist1">filter</dt>
<dd>
<p>Run the given file as an Lua-Filter.</p>
</dd>
<dt class="hdlist1">fontpath</dt>
<dd>
<p>Set the path for system fonts. On Windows this is %WINDIR%\Fonts, on Mac OS X it defaults to /Library/Fonts:/System/Library/Fonts. Currently dysfunctional on Windows XP.</p>
</dd>
<dt class="hdlist1">grid</dt>
<dd>
<p>If true, the underlying grid is shown in the PDF file. For debugging purpose only.</p>
</dd>
<dt class="hdlist1">imagecache</dt>
<dd>
<p>Folder for cached images (href="http://&#8230;&#8203;" only). Defaults to $TMPDIR/sp/images.</p>
</dd>
<dt class="hdlist1">ignore-case</dt>
<dd>
<p>Ignore case when accessing files (on a case-insensitive file system).</p>
</dd>
<dt class="hdlist1">inkscape</dt>
<dd>
<p>The path to the program inkscape when you need on the fly SVG to PDF conversion.</p>
</dd>
<dt class="hdlist1">jobname</dt>
<dd>
<p>Name of the output file. Default is publisher.</p>
</dd>
<dt class="hdlist1">layout</dt>
<dd>
<p>Name of the layout rule set (XML). The default name is layout.xml.</p>
</dd>
<dt class="hdlist1">luatex</dt>
<dd>
<p>Path to the Lua(jit)TeX binary. Experimental! This is provided for your experiments, not for production use.</p>
</dd>
<dt class="hdlist1">opencommand</dt>
<dd>
<p>Command that will be run to open the documentation and the PDF file. For MacOS X this should be open, for Linux xdg-open or exo-open (xfce).</p>
</dd>
<dt class="hdlist1">pathrewrite</dt>
<dd>
<p>Comma separated list of entries of the form A=B which replace parts in <code><a href="file:///media/XYZ" class="bare">file:///media/XYZ</a></code> to <code><a href="file:///path/to/project/myfiles/XYZ" class="bare">file:///path/to/project/myfiles/XYZ</a></code>. Useful when you have absolute paths in the data which must be changed during the publishing process.</p>
</dd>
<dt class="hdlist1">runs</dt>
<dd>
<p>Set the number of runs.</p>
</dd>
<dt class="hdlist1">startpage</dt>
<dd>
<p>Number of the first page.</p>
</dd>
<dt class="hdlist1">systemfonts</dt>
<dd>
<p>If set to 'true', then the publisher searches for fonts in the system directory.</p>
</dd>
<dt class="hdlist1">tempdir</dt>
<dd>
<p>Name of the temporary directory. Default is the system&#8217;s temp.</p>
</dd>
<dt class="hdlist1">timeout</dt>
<dd>
<p>Maximum time of the publishing run. If time is exceeded, the publisher exits with status 1.</p>
</dd>
<dt class="hdlist1">vars</dt>
<dd>
<p>   Comma separated list of variables and values in the form var=value to set additional variables.
You can access the base directory of the project with %(projectdir)s. This is the directory with the file publisher.cfg.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>All entries in the configuration file are optional. The configuration files are read in the following order: /etc/speedata/publisher.cfg, ~/.publisher.cfg and in the current directory publisher.cfg. The current directory can be changed on the command line with the switch --wd=&#8230;&#8203;..</p>
</div>
</div>
<div class="sect2">
<h3 id="_command_line_parameters">D.2. Command line parameters</h3>
<div class="paragraph">
<p>The valid command line parameters are written on a separate page.</p>
</div>
</div>
<div class="sect2">
<h3 id="_options_given_in_the_layout_file">D.3. Options given in the layout file</h3>
<div class="paragraph">
<p>The XML layout file has a command called Options that allows to set some parameters (tracing, default language, )</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="app-lengthsunits">Appendix E: Lenghts and units</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The lengths can be given in one of these units: <code>pp</code>, <code>pc</code>, <code>in</code>, <code>pt</code>, <code>cm</code>, <code>mm</code>, <code>dd</code>, <code>cc</code>. Without the unit, lengths will be in grid cells.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Unit</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pica Point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pica (12 pp)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">inch (72.27 pp)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Big point (72 bp = 1 in) PostScript point, DTP-point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Centimeter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Millimeter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Didot point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cicero (12 dd)</p></td>
</tr>
</tbody>
</table>
<h3 id="_conversion" class="discrete">Conversion</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Unit</th>
<th class="tableblock halign-left valign-top">Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,35147 mm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1/72,27 inch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.013837 inch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,93457 Didot-point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4,2176 mm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1/6 inch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  Pica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 Pica point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  PostScript Point (Adobe, DTP-point)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1,00375001 Pica Point = 1pt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1  mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0,237 Pica = 2,845 Pica-point</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="ch-xpathfunctions">Appendix F: XPath- and Layoutfunctions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_xpath_expressions">F.1. XPath expressions</h3>
<div class="paragraph">
<p>The speedata Publisher accepts XPath expressions in some attributes. These attributes are called test or select or documented as such. In all other attributes XPath expressions can be used via curly braces (<code>{</code> and <code>}</code>). In the following example XPath expressions are used in the attribute width and in the element Value. The width of the textblock is taken from the variable <code>$width</code>, the contents of the paragraph is the string value of the current node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock width="{$width}"&gt;
  &lt;Paragraph&gt;
    &lt;Value select="."/&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_following_xpath_expressions_are_handled_by_the_software">F.2. The following XPath expressions are handled by the software:</h3>
<div class="ulist">
<ul>
<li>
<p>Number: Return the value without change: <code>"5"</code></p>
</li>
<li>
<p>Text: Return the text without change: <code>'hello world'</code></p>
</li>
<li>
<p>Arithmetic operation (<code>*</code>, <code>div</code>, <code>idiv</code>, <code>+</code>, <code>-</code>, <code>mod</code>). Example:   <code>( 6 + 4.5 ) * 2</code></p>
</li>
<li>
<p>Variables. Example: <code>$column + 2</code></p>
</li>
<li>
<p>Access to the current node (dot operator). Example: <code>. + 2</code></p>
</li>
<li>
<p>Access to subelements. Examples: <code>productdata</code>, <code>node()</code>, <code>*</code>, <code>foo/bar</code></p>
</li>
<li>
<p>Attribute access in the current node. Example <code>@a</code></p>
</li>
<li>
<p>Attribute access in subnodes, for example <code>foo/@bar</code></p>
</li>
<li>
<p>Boolean expressions:  <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>=</code>, <code>!=</code>. Attention, the less than symbol <code>&lt;</code> must be written in XML as <code>&amp;lt;</code>, the symbol <code>&gt;</code>  may be written as <code>&gt;</code>. Example: <code>$number &gt; 6</code>. Can be used in tests.</p>
</li>
<li>
<p>Simple if/then/else expressions: if (&#8230;&#8203;) then &#8230;&#8203; else &#8230;&#8203;.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_the_following_xpath_functions_are_known_to_the_system">F.3. The following XPath functions are known to the system:</h3>
<div class="paragraph">
<p>There are two classes of XPath functions: standard XPath functions and speedata Publisher specific ones. The specific functions are in the namespace <code>urn:speedata:2009/publisher/functions/en</code> (denoted by <code>sd:</code> below). The standard functions should behave like documented by the XPath 2.0 standard.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sd:allocated(x,y,&lt;areaname&gt;,&lt;framenumber&gt;)</code></dt>
<dd>
<p>Return true if the grid cell is allocated, false otherwise (since 2.3.71).</p>
</dd>
<dt class="hdlist1"><code>sd:current-page()</code></dt>
<dd>
<p>Return the current page number.</p>
</dd>
<dt class="hdlist1"><code>sd:current-row(&lt;name&gt;)</code></dt>
<dd>
<p>Return the current row. If name is given, return the row of the given frame.</p>
</dd>
<dt class="hdlist1"><code>sd:current-column(&lt;name&gt;)</code></dt>
<dd>
<p>Return the current column. If name is given, return the column of the given frame.</p>
</dd>
<dt class="hdlist1"><code>sd:current-framenumber(&lt;name&gt;)</code></dt>
<dd>
<p>Return the current frame number of given positioning area.</p>
</dd>
<dt class="hdlist1"><code>sd:count-saved-pages(&lt;name&gt;)</code></dt>
<dd>
<p>Return the number of saved pages from &lt;SavePages&gt;.</p>
</dd>
<dt class="hdlist1"><code>sd:dimexpr(&lt;string&gt;)</code></dt>
<dd>
<p>Evaluate the string as a dimension with a unit. Handy if you want to add / multiply two lengths.</p>
</dd>
<dt class="hdlist1"><code>sd:alternating(&lt;type&gt;, &lt;text&gt;,&lt;text&gt;,.. )</code></dt>
<dd>
<p>On each call the next element will be returned. You can define more alternating sequences by using distinct type values. Example: sd:alternating("tbl", "White","Gray") can be used for alternating color of table rules. To reset the state, use sd:reset-alternating(&lt;type&gt;).</p>
</dd>
<dt class="hdlist1"><code>sd:filecontents(&lt;binarycontent&gt;)</code></dt>
<dd>
<p>Save the given contents into a file and return the file name.</p>
</dd>
<dt class="hdlist1"><code>sd:first-free-row()</code></dt>
<dd>
<p>Return the first free row of this area (experimental).</p>
</dd>
<dt class="hdlist1"><code>sd:reset-alternating(&lt;type&gt;)</code></dt>
<dd>
<p>Reset alternating so the next sd:alternating() starts again from the first element.</p>
</dd>
<dt class="hdlist1"><code>sd:keep-alternating(&lt;type&gt;)</code></dt>
<dd>
<p>Use the current value of sd:alternating(&lt;type&gt;) without changing the value.</p>
</dd>
<dt class="hdlist1"><code>sd:aspectratio(&lt;imagename&gt;)</code></dt>
<dd>
<p>Return the result of the division width by height of the given image. (&lt; 1 for portrait images, &gt; 1 for landscape).</p>
</dd>
<dt class="hdlist1"><code>sd:attr(&lt;name&gt;, &#8230;&#8203;)</code></dt>
<dd>
<p>Is the same as @name, but can be used to dynamically construct the attribute name. See example at sd:variable().</p>
</dd>
<dt class="hdlist1"><code>sd:decode-base64(&lt;contents&gt;)</code></dt>
<dd>
<p>Expect a string encoded in base64 and return the binary contents.</p>
</dd>
<dt class="hdlist1"><code>sd:decode-html(&lt;node&gt;)</code></dt>
<dd>
<p>Change text such as &lt;i&gt;italic&lt;/i&gt; into HTML markup.</p>
</dd>
<dt class="hdlist1"><code>sd:merge-pagenumbers(&lt;pagenumbers&gt;,&lt;separator for range&gt;,&lt;separator for space&gt;)</code></dt>
<dd>
<p>Merge page numbers. For example the numbers "1, 3, 4, 5" are merged into 1, 35. Defaults for the separator for the range is an en-dash (), default for the spacing separator is ', ' (comma, space). This function sorts the page numbers and removes duplicates. When the separator for range is empty, the page numbers are separated each with the separator for the space.</p>
</dd>
<dt class="hdlist1"><code>sd:number-of-datasets(&lt;Sequence&gt;)</code></dt>
<dd>
<p>Return the number of records of the sequence.</p>
</dd>
<dt class="hdlist1"><code>sd:number-of-pages(&lt;filename or URI schema&gt;)</code></dt>
<dd>
<p>Determines the number of pages of a (PDF-)file.</p>
</dd>
<dt class="hdlist1"><code>sd:number-of-columns()</code></dt>
<dd>
<p>Number of columns in the current grid.</p>
</dd>
<dt class="hdlist1"><code>sd:number-of-rows()</code></dt>
<dd>
<p>Number of rows in the current grid.</p>
</dd>
<dt class="hdlist1"><code>sd:imageheight(&lt;filename or URI schema&gt;)</code></dt>
<dd>
<p>Natural height of the image in grid cells. Attention: if the image is not found, the height of the file-not-found placeholder will be returned. Therefore you need to check in advance if the image exists.</p>
</dd>
<dt class="hdlist1"><code>sd:imagewidth(&lt;filename or URI schema&gt;)</code></dt>
<dd>
<p>Natural width of the image in grid cells. Attention: if the image is not found, the width of the file-not-found placeholder will be returned. Therefore you need to check in advance if the image exists.</p>
</dd>
<dt class="hdlist1"><code>sd:file-exists(&lt;filename or URI schema&gt;)</code></dt>
<dd>
<p>True if file exists in the current search path. Otherwise it returns false.</p>
</dd>
<dt class="hdlist1"><code>sd:format-number(Number or string, thousands separator, comma separator)</code></dt>
<dd>
<p>Format the number and insert thousands separators and change comma separator. Example: sd:format-number(12345.67, ',','.') returns the string 12,345.67.</p>
</dd>
<dt class="hdlist1"><code>sd:format-string(object, object, &#8230;&#8203; ,formatting instructions)</code></dt>
<dd>
<p>Return a text string with the objects formatted as given by the formatting instructions. These instructions are the same as the instructions by the C function printf().</p>
</dd>
<dt class="hdlist1"><code>sd:even(&lt;number&gt;)</code></dt>
<dd>
<p>True if number is even. Example: sd:even(sd:current-page())</p>
</dd>
<dt class="hdlist1"><code>sd:odd(&lt;number&gt;)</code></dt>
<dd>
<p>True if number is odd.</p>
</dd>
<dt class="hdlist1"><code>sd:group-width(&lt;string&gt;[, &lt;unit&gt;])</code></dt>
<dd>
<p>Return the number of gridcells of the given groups width. The argument must be the name of an existing group. Example: sd:group-width('My group'). See sd:group-height() for description of the second parameter.</p>
</dd>
<dt class="hdlist1"><code>sd:group-height(&lt;string&gt;[, &lt;unit&gt;])</code></dt>
<dd>
<p>Return the given groups height (in gridcells). See sd:group-width(&#8230;&#8203;) If provided with an optional second argument, it returns the height of the group in multiples of this unit. For example sd:group-height('mygroup', 'in') returns the group height in inches.</p>
</dd>
<dt class="hdlist1"><code>sd:group(&lt;string&gt;[,&lt;string&gt;&#8230;&#8203;])</code></dt>
<dd>
<p>Evaluates to true() if one of the modes is given on the command line or set in the options.</p>
</dd>
<dt class="hdlist1"><code>sd:pagenumber(&lt;string&gt;)</code></dt>
<dd>
<p>Get the number of the page where the given mark is placed on. See the command Mark.</p>
</dd>
<dt class="hdlist1"><code>sd:randomitem(&lt;Value&gt;,&lt;Value&gt;, )</code></dt>
<dd>
<p>Return one of the values.</p>
</dd>
<dt class="hdlist1"><code>sd:variable(&lt;name&gt;, &#8230;&#8203;)</code></dt>
<dd>
<p>The same as $name. This function allows variable names to be constructed dynamically. Example: sd:variable('myvar',$num)  if $num contains the number 3, the resulting variable name is myvar3.</p>
</dd>
<dt class="hdlist1"><code>sd:variable-exists(&lt;name&gt;)</code></dt>
<dd>
<p>True if variable name exists.</p>
</dd>
<dt class="hdlist1"><code>sd:sha1(&lt;value&gt;,&lt;value&gt;, )</code></dt>
<dd>
<p>Return the SHA-1 sum of the concatenation of each value as a hex string. Example: sd:sha1('hello ', 'world') gives the string 2aae6c35c94fcfb415dbe95f408b9ce91ee846ed.</p>
</dd>
<dt class="hdlist1"><code>sd:dummytext(&lt;count&gt;)</code></dt>
<dd>
<p>Returns the dummy text "Lorem ipsum&#8230;&#8203;" (more than 50 words, enough for a paragraph). Repeated count times if provided.</p>
</dd>
<dt class="hdlist1"><code>sd:loremipsum()</code></dt>
<dd>
<p>Same as sd:dummytext()</p>
</dd>
</dl>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>abs()</code></dt>
<dt class="hdlist1"><code>ceiling()</code></dt>
<dt class="hdlist1"><code>concat( &lt;value&gt;,&lt;value&gt;,  )</code></dt>
<dd>
<p>Create a new text value by concatenating the arguments.</p>
</dd>
<dt class="hdlist1"><code>contains(&lt;haystack&gt;,&lt;needle&gt;)</code></dt>
<dd>
<p>True if haystack contains needle.</p>
</dd>
<dt class="hdlist1"><code>count(&lt;text&gt;)</code></dt>
<dd>
<p>Counts all child elements with the given name. Example: count(article) counts, how many child elements with the name article exists.</p>
</dd>
<dt class="hdlist1"><code>ceiling()</code></dt>
<dd>
<p>Returns the smallest number with no fractional part that is not less than the value of the given argument.</p>
</dd>
<dt class="hdlist1"><code>empty(&lt;attribute&gt;)</code></dt>
<dd>
<p>Checks, if an attribute is (not) available.</p>
</dd>
<dt class="hdlist1"><code>false()</code></dt>
<dd>
<p>Return false.</p>
</dd>
<dt class="hdlist1"><code>floor()</code></dt>
<dd>
<p>Returns the largest number with no fractional part that is not greater than the value of the argument.</p>
</dd>
<dt class="hdlist1"><code>last()</code></dt>
<dd>
<p>Return the number of elements of the same named sibling elements. Not yet XPath conform.</p>
</dd>
<dt class="hdlist1"><code>local-name()</code></dt>
<dd>
<p>Return the local name (without namespace) of the current element.</p>
</dd>
<dt class="hdlist1"><code>lower-case(&lt;text&gt;)</code></dt>
<dd>
<p>Return the text in lowercase letters.</p>
</dd>
<dt class="hdlist1"><code>max()</code></dt>
<dt class="hdlist1"><code>min()</code></dt>
<dt class="hdlist1"><code>node()</code></dt>
<dt class="hdlist1"><code>not()</code></dt>
<dd>
<p>Negates the value of the argument. Example: not(true()) returns false().</p>
</dd>
<dt class="hdlist1"><code>normalize-space(&lt;text&gt;)</code></dt>
<dd>
<p>Return the text without leading and trailing spaces. All newlines will be changed to spaces. Multiple spaces/newlines will be changed to a single space.</p>
</dd>
<dt class="hdlist1"><code>position()</code></dt>
<dd>
<p>Return the position of the current node.</p>
</dd>
<dt class="hdlist1"><code>replace(&lt;input&gt;,&lt;regexp&gt;, &lt;replacement&gt;)</code></dt>
<dd>
<p>Replace the input using the regular expression with the given replacement text. Example: replace("banana", "a", "o") yields bonono.</p>
</dd>
<dt class="hdlist1"><code>string(&lt;sequence&gt;)</code></dt>
<dd>
<p>Return the text value of the sequence e.g. the contents of the elements.</p>
</dd>
<dt class="hdlist1"><code>string-join(&lt;sequence&gt;,separator)</code></dt>
<dd>
<p>Return the string value of the sequence, where each element is separated by the separator.</p>
</dd>
<dt class="hdlist1"><code>substring(&lt;input&gt;,&lt;start&gt;,&lt;length&gt;)</code></dt>
<dd>
<p>Return the part of the string input that starts at start and optionally has the given length. start can be (in contrast to the XPath specification) negative which counts from the end of the input.</p>
</dd>
<dt class="hdlist1"><code>tokenize(&lt;input&gt;,&lt;regexp&gt;)</code></dt>
<dd>
<p>This function returns a sequence of strings. The input text is read from left to right. When the regular expression matches the current position, the text read so far from the last match is returned. Example (from the great XPath / XSLT book by M. Key): tokenize("Go home, Jack!", "\W+") returns the sequence "Go", "home", "Jack", "".</p>
</dd>
<dt class="hdlist1"><code>string-length(&lt;string&gt;)</code></dt>
<dd>
<p>Return the length of the string in characters. Multi-byte UTF-8 sequences are counted as 1.</p>
</dd>
<dt class="hdlist1"><code>true()</code></dt>
<dd>
<p>Return true.</p>
</dd>
<dt class="hdlist1"><code>upper-case()</code></dt>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-internalvariables">Appendix G: Internal variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Publisher sets internal variables that can be used in the layout rules.
These variables always begin with an underscore, so your own variables should not have the underscore as the first character.
Otherwise there could be collisions when assigning names.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>_bleed</code></dt>
<dd>
<p>The value of the bleed.</p>
</dd>
<dt class="hdlist1"><code>_jobname</code></dt>
<dd>
<p>The value specified on the command line.</p>
</dd>
<dt class="hdlist1"><code>_last_tr_data</code></dt>
<dd>
<p>The last value (<code>data="&#8230;&#8203;"</code>) in a table line.  See section <a href="#ch-tab-runningsum">Headers and footers with running sum</a>.</p>
</dd>
<dt class="hdlist1"><code>_loopcounter</code></dt>
<dd>
<p>The pass in a `&lt;Loop&gt;' loop.</p>
</dd>
<dt class="hdlist1"><code>_mode</code></dt>
<dd>
<p>The mode for the pass. Separated by commas.</p>
</dd>
<dt class="hdlist1"><code>_pagewidth</code> und <code>_pageheight</code></dt>
<dd>
<p>The width and height of the page. Default is 210mm and 297mm.</p>
</dd>
<dt class="hdlist1"><code>_page</code></dt>
<dd>
<p>The name of the text area of the whole page.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Also worth mentioning:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>_samplea.pdf</code> und <code>_sampleb.pdf</code></dt>
<dd>
<p>Image files included in the Publisher. Can be used for testing purposes.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ch-changelog">9. Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This file gets replaced by the real list of changes from <code>changelog.xml</code> in <code>newdoc.go</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="app-glossary">Appendix H: Glossary</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>This page was automatically translated. Stay tuned for a manual translation&#8230;&#8203;</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Area</dt>
<dd>
<p>See Placement Area.</p>
</dd>
<dt class="hdlist1">Database Publishing</dt>
<dd>
<p>General term that describes a set of techniques for bringing (XML) data into an output format (such as PDF), often using Adobe InDesign.</p>
</dd>
<dt class="hdlist1">Group</dt>
<dd>
<p>Virtual areas that start with a size of (0.0) and grow as the content grows.</p>
</dd>
<dt class="hdlist1">Layout function</dt>
<dd>
<p>Functions that are structured like XPath functions and are related to layout issues. For example, these functions can be used to determine the width of groups or output the current page number.</p>
</dd>
<dt class="hdlist1">Layout set of rules</dt>
<dd>
<p>An XML file with the root element `&lt;Layout&gt;' that contains layout instructions. Set of rules because this is where the rules are defined according to which the data is arranged in the PDF.</p>
</dd>
<dt class="hdlist1">Placement area</dt>
<dd>
<p>Also <code>&lt;PositioningArea&gt;</code>. Contains one or more rectangular areas (text frames) that are addressed under the same name. Will be redefined for each page. The whole page has the name <code>_page</code>.</p>
</dd>
<dt class="hdlist1">Text frame</dt>
<dd>
<p>Also called positioning frame or <code>&lt;PositioningFrame&gt;</code>. Parts of a placement area.</p>
</dd>
<dt class="hdlist1">Well-formed</dt>
<dd>
<p>An XML file is well-formed if at least the following conditions are met (from <a href="https://de.wikipedia.org/wiki/Extensible_Markup_Language#Wohlgeformtheit">Wikipedia</a>):</p>
<div class="ulist">
<ul>
<li>
<p>The document contains only properly encoded legal Unicode characters.</p>
</li>
<li>
<p>None of the special syntax characters such as &lt; and &amp; appear except when performing their markup-delineation roles.</p>
</li>
<li>
<p>The start-tag, end-tag, and empty-element tag that delimit elements are correctly nested, with none missing and none overlapping.</p>
</li>
<li>
<p>Tag names are case-sensitive; the start-tag and end-tag must match exactly.</p>
</li>
<li>
<p>Tag names cannot contain any of the characters <code>!"#$%&amp;'()*+,/;&lt;&#8658;?@[\]^{|}~</code>, nor a space character, and cannot begin with &#8220;-&#8221;, &#8220;.&#8221;, or a numeric digit.</p>
</li>
<li>
<p>A single root element contains all the other elements.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">XPath</dt>
<dd>
<p>Computer language that is specialized for data queries in XML trees. Typical questions are "What is the content of the 'name' attribute?" or "Is there a child element named 'chapter'? The language is often used together with XSLT (XSL Transformation). A subset of the XPath language is built into the Publisher.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1 split">
<h2 id="ch-commandreference">Appendix I: Command reference</h2>
<div class="sectionbody">
<div class="paragraph multicol">
<p><a href="#cmd-a">A</a> <br>
<a href="#cmd-action">Action</a> <br>
<a href="#cmd-addsearchpath">Addsearchpath</a> <br>
<a href="#cmd-atpagecreation">AtPageCreation</a> <br>
<a href="#cmd-atpageshipout">AtPageShipout</a> <br>
<a href="#cmd-attachfile">AttachFile</a> <br>
<a href="#cmd-attribute">Attribute</a> <br>
<a href="#cmd-b">B</a> <br>
<a href="#cmd-barcode">Barcode</a> <br>
<a href="#cmd-bold">Bold</a> <br>
<a href="#cmd-bolditalic">BoldItalic</a> <br>
<a href="#cmd-bookmark">Bookmark</a> <br>
<a href="#cmd-box">Box</a> <br>
<a href="#cmd-br">Br</a> <br>
<a href="#cmd-case">Case</a> <br>
<a href="#cmd-circle">Circle</a> <br>
<a href="#cmd-color">Color</a> <br>
<a href="#cmd-column">Column</a> <br>
<a href="#cmd-columns">Columns</a> <br>
<a href="#cmd-compatibility">Compatibility</a> <br>
<a href="#cmd-contents">Contents</a> <br>
<a href="#cmd-copy_of">Copy-of</a> <br>
<a href="#cmd-definecolor">DefineColor</a> <br>
<a href="#cmd-definecolorprofile">DefineColorprofile</a> <br>
<a href="#cmd-definefontalias">DefineFontalias</a> <br>
<a href="#cmd-definefontfamily">DefineFontfamily</a> <br>
<a href="#cmd-definetextformat">DefineTextformat</a> <br>
<a href="#cmd-element">Element</a> <br>
<a href="#cmd-fallback">Fallback</a> <br>
<a href="#cmd-fontface">Fontface</a> <br>
<a href="#cmd-forall">ForAll</a> <br>
<a href="#cmd-frame">Frame</a> <br>
<a href="#cmd-grid">Grid</a> <br>
<a href="#cmd-group">Group</a> <br>
<a href="#cmd-groupcontents">Groupcontents</a> <br>
<a href="#cmd-hspace">HSpace</a> <br>
<a href="#cmd-html">HTML</a> <br>
<a href="#cmd-hyphenation">Hyphenation</a> <br>
<a href="#cmd-i">I</a> <br>
<a href="#cmd-image">Image</a> <br>
<a href="#cmd-include">Include</a> <br>
<a href="#cmd-initial">Initial</a> <br>
<a href="#cmd-insertpages">InsertPages</a> <br>
<a href="#cmd-italic">Italic</a> <br>
<a href="#cmd-layout">Layout</a> <br>
<a href="#cmd-li">Li</a> <br>
<a href="#cmd-loaddataset">LoadDataset</a> <br>
<a href="#cmd-loadfontfile">LoadFontfile</a> <br>
<a href="#cmd-loop">Loop</a> <br>
<a href="#cmd-makeindex">Makeindex</a> <br>
<a href="#cmd-margin">Margin</a> <br>
<a href="#cmd-mark">Mark</a> <br>
<a href="#cmd-message">Message</a> <br>
<a href="#cmd-newpage">NewPage</a> <br>
<a href="#cmd-nextframe">NextFrame</a> <br>
<a href="#cmd-nextrow">NextRow</a> <br>
<a href="#cmd-nobreak">NoBreak</a> <br>
<a href="#cmd-ol">Ol</a> <br>
<a href="#cmd-options">Options</a> <br>
<a href="#cmd-otherwise">Otherwise</a> <br>
<a href="#cmd-output">Output</a> <br>
<a href="#cmd-overlay">Overlay</a> <br>
<a href="#cmd-pageformat">Pageformat</a> <br>
<a href="#cmd-pagetype">Pagetype</a> <br>
<a href="#cmd-paragraph">Paragraph</a> <br>
<a href="#cmd-pdfoptions">PDFOptions</a> <br>
<a href="#cmd-placeobject">PlaceObject</a> <br>
<a href="#cmd-position">Position</a> <br>
<a href="#cmd-positioningarea">PositioningArea</a> <br>
<a href="#cmd-positioningframe">PositioningFrame</a> <br>
<a href="#cmd-processnode">ProcessNode</a> <br>
<a href="#cmd-record">Record</a> <br>
<a href="#cmd-regular">Regular</a> <br>
<a href="#cmd-rule">Rule</a> <br>
<a href="#cmd-savedataset">SaveDataset</a> <br>
<a href="#cmd-savepages">SavePages</a> <br>
<a href="#cmd-setgrid">SetGrid</a> <br>
<a href="#cmd-setvariable">SetVariable</a> <br>
<a href="#cmd-sortsequence">SortSequence</a> <br>
<a href="#cmd-stylesheet">Stylesheet</a> <br>
<a href="#cmd-span">Span</a> <br>
<a href="#cmd-sub">Sub</a> <br>
<a href="#cmd-sup">Sup</a> <br>
<a href="#cmd-switch">Switch</a> <br>
<a href="#cmd-table">Table</a> <br>
<a href="#cmd-tablefoot">Tablefoot</a> <br>
<a href="#cmd-tablenewpage">TableNewPage</a> <br>
<a href="#cmd-tablehead">Tablehead</a> <br>
<a href="#cmd-tablerule">Tablerule</a> <br>
<a href="#cmd-td">Td</a> <br>
<a href="#cmd-text">Text</a> <br>
<a href="#cmd-textblock">Textblock</a> <br>
<a href="#cmd-tr">Tr</a> <br>
<a href="#cmd-trace">Trace</a> <br>
<a href="#cmd-transformation">Transformation</a> <br>
<a href="#cmd-u">U</a> <br>
<a href="#cmd-ul">Ul</a> <br>
<a href="#cmd-until">Until</a> <br>
<a href="#cmd-url">URL</a> <br>
<a href="#cmd-value">Value</a> <br>
<a href="#cmd-vspace">VSpace</a> <br>
<a href="#cmd-while">While</a> <br></p>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-a">I.1. A</h3>
<div class="paragraph">
<p>Insert hyperlink to a URL.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements">I.1.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements">I.1.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes">I.1.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-a-href"></a><code>href</code> (text, optional)</dt>
<dd>
<p>The target of the hyperlink (URI). Example: <code><a href="https://www.speedata.de" class="bare">https://www.speedata.de</a></code></p>
</dd>
<dt class="hdlist1"><a id="cmd-a-link"></a><code>link</code> (text, optional)</dt>
<dd>
<p>The target of the document link (a Mark). Example: <code>article123</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example">I.1.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;&lt;Value&gt;See the &lt;/Value&gt;
      &lt;A href="https://www.speedata.de"&gt;
        &lt;Value&gt;homepage&lt;/Value&gt;
      &lt;/A&gt;
      &lt;Value&gt; for more information.&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also">I.1.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-action">I.2. Action</h3>
<div class="paragraph">
<p>Associates an action with a text. Once the text is placed on the page, the associated action will be executed. The action can be compared to an invisible character. When the publisher outputs the character, the corresponding instructions will be run.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_2">I.2.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-mark"><code>Mark</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_2">I.2.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_2">I.2.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_2">I.2.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pageformat width="210mm" height="4cm"/&gt;

&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;
          Row
          Row
          Row
          Row
        &lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
    &lt;Textblock&gt;
      &lt;Action&gt;
        &lt;Mark select="'textstart'"/&gt;
      &lt;/Action&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;
          Row
          Row
          Row
        &lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
  &lt;NewPage/&gt;
  &lt;Message select="sd:pagenumber('textstart')"&gt;&lt;/Message&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_2">I.2.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-addsearchpath">I.3. AddSearchpath</h3>
<div class="paragraph">
<p>Add a directory on the hard-drive to be added to the publisher&#8217;s search path.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_3">I.3.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_3">I.3.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_3">I.3.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-addsearchpath-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The path to be added. System dependent.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_3">I.3.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Switch&gt;
  &lt;Case test="sd:variable-exists('searchpath')"&gt;
    &lt;AddSearchpath select="$searchpath" /&gt;
  &lt;/Case&gt;
&lt;/Switch&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_3">I.3.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-atpagecreation">I.4. AtPageCreation</h3>
<div class="paragraph">
<p>The contents of the element <a href="#cmd-atpagecreation">AtPageCreation</a> is executed the first time the page is accessed. This is used in <a href="#cmd-pagetype">Pagetype</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_4">I.4.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_4">I.4.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-pagetype"><code>Pagetype</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_4">I.4.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_4">I.4.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;AtPageCreation&gt;
  &lt;PlaceObject column="1" row="1"&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value select="$pageheader"/&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/AtPageCreation&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_4">I.4.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-atpageshipout">I.5. AtPageShipout</h3>
<div class="paragraph">
<p>The enclosed instructions will be executed when the page is placed into the PDF file. Used in <a href="#cmd-pagetype">Pagetype</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_5">I.5.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_5">I.5.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-pagetype"><code>Pagetype</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_5">I.5.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_5">I.5.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;AtPageShipout&gt;
  &lt;PlaceObject column="1" row="20"&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value select="sd:current-page()"/&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/AtPageShipout&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_5">I.5.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-attachfile">I.6. AttachFile</h3>
<div class="paragraph">
<p>Attach a ZUGFeRD file.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_6">I.6.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_6">I.6.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_6">I.6.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-attachfile-description"></a><code>description</code> (text)</dt>
<dd>
<p>Textual description of the attached file (for the PDF viewer).</p>
</dd>
<dt class="hdlist1"><a id="cmd-attachfile-filename"></a><code>filename</code> (text, optional)</dt>
<dd>
<p>The name of the local file to be attached to the PDF.</p>
</dd>
<dt class="hdlist1"><a id="cmd-attachfile-name"></a><code>name</code> (text, optional)</dt>
<dd>
<p>Set the (PDF) name of the included file. Defaults to <code>ZUGFeRD-invoice.xml</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-attachfile-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>The contents of the ZUGFeRD file. Alternative to reading a file from the hard-drive.</p>
</dd>
<dt class="hdlist1"><a id="cmd-attachfile-type"></a><code>type</code> ()</dt>
<dd>
<p>The type of the included file. Currently only ZUGFeRD is supported.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ZUGFeRD invoice</code></dt>
<dd>
<p>The attached file is an XML file containing a ZUGFeRD invoice</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_6">I.6.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;AttachFile filename="invoice.xml" description="A ZUGFeRD invoice." type="ZUGFeRD invoice"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_6">I.6.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-attribute">I.7. Attribute</h3>
<div class="paragraph">
<p>Create an attribute for the <a href="#cmd-element">Element</a> data structure that can be saved to the hard drive with <a href="#cmd-savedataset">SaveDataset</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_7">I.7.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_7">I.7.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_7">I.7.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-attribute-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the attribute that is created.</p>
</dd>
<dt class="hdlist1"><a id="cmd-attribute-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The contents of the attribute</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_7">I.7.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Element name="Entry"&gt;
  &lt;Attribute name="chapter" select="@name"/&gt;
  &lt;Attribute name="page" select="sd:current-page()"/&gt;
&lt;/Element&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>creates the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Entry chapter="(contents of @name)" page="(the current page number)" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_7">I.7.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-b">I.8. B</h3>
<div class="paragraph">
<p>Switch to font weight bold</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_8">I.8.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_8">I.8.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_8">I.8.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_8">I.8.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock&gt;
  &lt;Paragraph&gt;
    &lt;B&gt;&lt;Value&gt;Bold text&lt;/Value&gt;&lt;/B&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_8">I.8.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-barcode">I.9. Barcode</h3>
<div class="paragraph">
<p>Print a 1d or 2d barcode. To be used in <a href="#cmd-placeobject">PlaceObject</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_9">I.9.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_9">I.9.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_9">I.9.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-barcode-eclevel"></a><code>eclevel</code> (optional)</dt>
<dd>
<p>Set the error correction level for QR-codes. If not provided, the system uses the maximum level for minimum size. The higher the level, the more error correction is in the QR-code.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>L</code></dt>
<dd>
<p>Set the lowest level (1) with approx. 7% recovery.</p>
</dd>
<dt class="hdlist1"><code>M</code></dt>
<dd>
<p>Set the second lowest level (2) with approx. 15% recovery.</p>
</dd>
<dt class="hdlist1"><code>Q</code></dt>
<dd>
<p>Set the second highest level (3) with approx. 25% recovery.</p>
</dd>
<dt class="hdlist1"><code>H</code></dt>
<dd>
<p>Set the highest level (4) with approx. 35% recovery.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-fontface"></a><code>fontface</code> (text, optional)</dt>
<dd>
<p>Name of the font of the text that can be placed beneath the barcode. Not used in all codes.</p>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-height"></a><code>height</code> (number or length, optional)</dt>
<dd>
<p>Height of the barcode.</p>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-overshoot"></a><code>overshoot</code> (number, optional)</dt>
<dd>
<p>The factor denoting the extra length of the outer and middle bar. Only useful with EAN13.</p>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The data to be encoded in the barcode.</p>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-showtext"></a><code>showtext</code> (optional)</dt>
<dd>
<p>Should the text be written under the barcode?</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Write text beneath the barcode.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t display text.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-type"></a><code>type</code> ()</dt>
<dd>
<p>Type of the barcode. One of <code>EAN13</code>, <code>Code128</code> or <code>QRCode</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>QRCode</code></dt>
<dd>
<p>Create an optimal QR code in terms of error correction and size.</p>
</dd>
<dt class="hdlist1"><code>Code128</code></dt>
<dd>
<p>Generate a code 128 barcode for numbers and text.</p>
</dd>
<dt class="hdlist1"><code>EAN13</code></dt>
<dd>
<p>Create an EAN13 barcode for 13 digits.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-barcode-width"></a><code>width</code> (number or length, optional)</dt>
<dd>
<p>Width of the barcode</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_9">I.9.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Barcode select="'speedata Publisher'" type="Code128" showtext="yes"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>gives</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-code128-speedata-publisher.png" alt="ref code128 speedata publisher" width="auto">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Barcode select="4242002518169" type="EAN13"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>becomes</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-ean13-supertex.png" alt="ref ean13 supertex" width="300">
</div>
</div>
<div class="paragraph">
<p>And finally the QR code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Barcode select="'http://www.speedata.de'" type="QRCode" height="5"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>looks like (surprise!)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-speedata-publisher-qrcode.png" alt="ref speedata publisher qrcode" width="300">
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_9">I.9.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-bold">I.10. Bold</h3>
<div class="paragraph">
<p>Name of the font face that should be used when switching to bold.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_10">I.10.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_10">I.10.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_10">I.10.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-bold-fontface"></a><code>fontface</code> (text)</dt>
<dd>
<p>Name of the font for bold.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_10">I.10.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="Times" filename="timesregular.otf"/&gt;
&lt;LoadFontfile name="Times bold" filename="timesbold.otf"/&gt;
&lt;LoadFontfile name="Times italic" filename="timesitalic.otf"/&gt;
&lt;LoadFontfile name="Times bold italic" filename="timesbolditalic.otf"/&gt;

&lt;DefineFontfamily name="text" fontsize="12" leading="14"&gt;
  &lt;Regular fontface="Times"/&gt;
  &lt;Bold    fontface="Times bold"/&gt;
  &lt;Italic  fontface="Times italic"/&gt;
  &lt;BoldItalic fontface="Times bold italic" /&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_10">I.10.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-bolditalic">I.11. BoldItalic</h3>
<div class="paragraph">
<p>Name of the font face that should be used when switching to bold italic.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_11">I.11.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_11">I.11.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_11">I.11.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-bolditalic-fontface"></a><code>fontface</code> (text)</dt>
<dd>
<p>Name of the font for bold italic.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_11">I.11.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="Times" filename="timesregular.otf"/&gt;
&lt;LoadFontfile name="Times bold" filename="timesbold.otf"/&gt;
&lt;LoadFontfile name="Times italic" filename="timesitalic.otf"/&gt;
&lt;LoadFontfile name="Times bold italic" filename="timesbolditalic.otf"/&gt;

&lt;DefineFontfamily name="text" fontsize="12" leading="14"&gt;
  &lt;Regular fontface="Times"/&gt;
  &lt;Bold fontface="Times bold"/&gt;
  &lt;Italic fontface="Times italic"/&gt;
  &lt;BoldItalic fontface="Times bold italic" /&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_11">I.11.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-bookmark">I.12. Bookmark</h3>
<div class="paragraph">
<p>Create a bookmark for the PDF viewer (e.g. Adobe Reader). When the user clicks on a bookmark, the PDF viewer jumps to that place in the document.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_12">I.12.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_12">I.12.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_12">I.12.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-bookmark-level"></a><code>level</code> (number)</dt>
<dd>
<p>1 is the top level, 2 is the next level, etc.</p>
</dd>
<dt class="hdlist1"><a id="cmd-bookmark-open"></a><code>open</code> (optional)</dt>
<dd>
<p>If yes, the child elements are shown. If no, the child elements are hidden.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show children.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Hide children.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-bookmark-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>Title of the bookmark</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_12">I.12.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Bookmark level="1" select="$title" open="no" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a bookmark on level 1 (top level) with the title stored in the variable <code>title</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_12">I.12.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-box">I.13. Box</h3>
<div class="paragraph">
<p>Create a rectangular colored area. The area must fit the grid cells.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_13">I.13.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_13">I.13.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_13">I.13.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-box-backgroundcolor"></a><code>backgroundcolor</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>Color of the box. If the color name is a dash (<code>-</code>), a transparent background is used.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-bleed"></a><code>bleed</code> (optional)</dt>
<dd>
<p>Lets the box increase its size by the amount of trim given in the options. Useful for thumb indexes. The contents of the attribute is either left, right, top or bottom or any combination such as top,right.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>Increase the size to the top.</p>
</dd>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>Increase the size to the left.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>Increase the size to the bottom.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>Increase the size to the right.</p>
</dd>
<dt class="hdlist1"><code>top,left</code></dt>
<dd>
<p>Increase the size to the top and left.</p>
</dd>
<dt class="hdlist1"><code>top,right</code></dt>
<dd>
<p>Increase the size to the top and right.</p>
</dd>
<dt class="hdlist1"><code>bottom,left</code></dt>
<dd>
<p>Increase the size to the bottom and left.</p>
</dd>
<dt class="hdlist1"><code>bottom,right</code></dt>
<dd>
<p>Increase the size to the bottom and right.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-box-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this box.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-height"></a><code>height</code> (number or length)</dt>
<dd>
<p>Height of the box in grid cells.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this box.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-padding-bottom"></a><code>padding-bottom</code> (length, optional, CSS property: padding-bottom)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the bottom edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-padding-left"></a><code>padding-left</code> (length, optional, CSS property: padding-left)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the left edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-padding-right"></a><code>padding-right</code> (length, optional, CSS property: padding-right)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the right edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-padding-top"></a><code>padding-top</code> (length, optional, CSS property: padding-top)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the top edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-box-width"></a><code>width</code> (number or length)</dt>
<dd>
<p>Width of the box in grid cells or in absolute values.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_13">I.13.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColor name="mygreen" model="cmyk" c="22" m="0" y="55" k="0"/&gt;
&lt;PlaceObject&gt;
  &lt;Box width="10" height="5" backgroundcolor="mygreen"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>looks like</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-greenbox.png" alt="ref greenbox" width="auto">
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_13">I.13.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-br">I.14. Br</h3>
<div class="paragraph">
<p>Insert a newline</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_14">I.14.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_14">I.14.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_14">I.14.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_14">I.14.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
   &lt;Textblock&gt;
     &lt;Paragraph&gt;
       &lt;Value&gt;Hello&lt;/Value&gt;&lt;Br/&gt;&lt;Value&gt;world&lt;/Value&gt;
     &lt;/Paragraph&gt;
   &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_14">I.14.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-case">I.15. Case</h3>
<div class="paragraph">
<p>Part of a <a href="#cmd-switch">Switch</a> construct. All cases up to the first case which evaluates to true will be executed. If no cases match and there is a <a href="#cmd-otherwise">Otherwise</a>, this will be executed instead.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_15">I.15.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_15">I.15.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-switch"><code>Switch</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_15">I.15.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-case-test"></a><code>test</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The test that gets evaluated.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_15">I.15.4. Example</h4>
<div class="paragraph">
<p>See the example at <a href="#cmd-switch">Switch</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_15">I.15.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-circle">I.16. Circle</h3>
<div class="paragraph">
<p>Create a circle or ellipse.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_16">I.16.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_16">I.16.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_16">I.16.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-circle-backgroundcolor"></a><code>backgroundcolor</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>Color of the circle.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for the circle.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-framecolor"></a><code>framecolor</code> (text, optional, CSS property: color)</dt>
<dd>
<p>Color of the circle line.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this circle.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-radiusx"></a><code>radiusx</code> (number or length)</dt>
<dd>
<p>Radius of the circle in grid cells (horizontal) or as an absolute length. Use with <code>radiusy</code> to create an ellipse.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-radiusy"></a><code>radiusy</code> (number or length, optional)</dt>
<dd>
<p>Radius of the ellipse in grid cells (vertical) or as an absolute length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-circle-rulewidth"></a><code>rulewidth</code> (length, optional)</dt>
<dd>
<p>The thickness of the border that is drawn around the object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_16">I.16.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColor name="mygreen" model="cmyk" c="22" m="0" y="55" k="0"/&gt;
&lt;PlaceObject row="5" column="5" &gt;
    &lt;Circle radiusx="10mm" backgroundcolor="blue" framecolor="mygreen" rulewidth="1mm"/&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>looks like</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-circlewithborder.png" alt="ref circlewithborder" width="auto">
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_16">I.16.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-color">I.17. Color</h3>
<div class="paragraph">
<p>Switch to another text color</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_17">I.17.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_17">I.17.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_17">I.17.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-color-name"></a><code>name</code> (text)</dt>
<dd>
<p>The name of the color. Must be pre-defined with <a href="#cmd-definecolor">DefineColor</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_17">I.17.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Layout
  xmlns="urn:speedata.de:2009/publisher/en"&gt;

  &lt;DefineColor name="red" value="#f00"/&gt;
  &lt;Record element="data"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value&gt;Hello &lt;/Value&gt;&lt;Color name="red"&gt;&lt;Value&gt;bar&lt;/Value&gt;&lt;/Color&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_17">I.17.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-column">I.18. Column</h3>
<div class="paragraph">
<p>Set the properties of a column in the table.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_18">I.18.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_18">I.18.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_18">I.18.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-column-align"></a><code>align</code> (optional)</dt>
<dd>
<p>The horizontal alignment of the table cells in this column. Can be overridden in a cell (<a href="#cmd-td">Td</a>).</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The table cells are left aligned.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>The table cells are horizontally centered.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The table cells are right aligned.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-column-backgroundcolor"></a><code>backgroundcolor</code> (text, optional)</dt>
<dd>
<p>All cells in this column have this background color.</p>
</dd>
<dt class="hdlist1"><a id="cmd-column-padding-left"></a><code>padding-left</code> (length, optional)</dt>
<dd>
<p>Set the left padding for the column</p>
</dd>
<dt class="hdlist1"><a id="cmd-column-padding-right"></a><code>padding-right</code> (length, optional)</dt>
<dd>
<p>Set the right padding for the column</p>
</dd>
<dt class="hdlist1"><a id="cmd-column-valign"></a><code>valign</code> (optional)</dt>
<dd>
<p>The vertical alignment of the cells in this column. Can be overridden in a cell (<a href="#cmd-td">Td</a>).</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>The table cells are top aligned.</p>
</dd>
<dt class="hdlist1"><code>middle</code></dt>
<dd>
<p>The table cells are vertically centered.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>The table cells are aligned at the bottom.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-column-width"></a><code>width</code> (Number, length or *-numbers, optional)</dt>
<dd>
<p>Width of the column. Argument can be a number (in grid cells) a length (e.g. 2cm) or a *-number (e.g. 4*).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_18">I.18.4. Example</h4>
<div class="paragraph">
<p>See the example at <a href="#cmd-columns">Columns</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_18">I.18.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-columns">I.19. Columns</h3>
<div class="paragraph">
<p>Set the widths and other properties of the columns in a table.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_19">I.19.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-switch"><code>Switch</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_19">I.19.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_19">I.19.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks">I.19.4. Remarks</h4>
<div class="paragraph">
<p>The <code>*</code> widths in the command Column allow dynamic cell widths. For that the total width of the table must be set and the attribute (on <a href="#cmd-table">Table</a>) <code>stretch</code> must be set to <code>max</code>.
        The widths of the columns are calculated as follows: first the absolute widths are taken into account. After that, the <code>*</code> columns are distributed across the remaining space. The
        numbers before the <code>*</code> denote the fraction of the space. In the example below the third column gets 1/6 of the remaining width, the fourth column get 5/6.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_19">I.19.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Table&gt;
  &lt;Columns&gt;
    &lt;Column width="14mm" /&gt;
    &lt;Column width="2" /&gt;
    &lt;Column width="1*" align="right" valign="top" /&gt;
    &lt;Column width="5*" /&gt;
    &lt;Column width="5mm" backgroundcolor="gray" /&gt;
    &lt;Tr&gt;
       ....
    &lt;/Tr&gt;
  &lt;/Columns&gt;
&lt;/Table&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_19">I.19.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-compatibility">I.20. Compatibility</h3>
<div class="paragraph">
<p>Set compatibility for older layouts</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_20">I.20.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_20">I.20.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-layout"><code>Layout</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_20">I.20.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-compatibility-movecursoronplaceobject"></a><code>movecursoronplaceobject</code> (optional)</dt>
<dd>
<p>Switch the behavior where objects at the right page margin used in PlaceObject puts the cursor in #columns + 1.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>New behavior (default): set cursor in column 1 when an object goes to the right margin.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Old behavior: set the cursor to the column + 1 past the right edge of the placed object.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_20">I.20.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Compatibility
    movecursoronplaceobject="no"
/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-contents">I.21. Contents</h3>
<div class="paragraph">
<p>Marks the contents of a <a href="#cmd-group">Group</a>, a virtual area.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_21">I.21.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_21">I.21.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-group"><code>Group</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_21">I.21.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_21">I.21.4. Example</h4>
<div class="paragraph">
<p>See the example at <a href="#cmd-group">Group</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_20">I.21.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-copy_of">I.22. Copy-of</h3>
<div class="paragraph">
<p>Replace this element by the copy of the selection as an element structure. You can use it to construct more complex data structures.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_22">I.22.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_22">I.22.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_22">I.22.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-copy_of-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The selection (most likely a variable) that is to be copied.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_22">I.22.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="myparagraph"&gt;
  &lt;Paragraph&gt;
    &lt;Value select="@name"/&gt;&lt;Value&gt;, Symbol=&lt;/Value&gt;&lt;Value select="@symbol"/&gt;
  &lt;/Paragraph&gt;
&lt;/SetVariable&gt;
&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Copy-of select="$myparagraph"/&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>is the same as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;
      &lt;Value select="@name"/&gt;&lt;Value&gt;, Symbol=&lt;/Value&gt;&lt;Value select="@symbol"/&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with the exception that the values of <code>@name</code> and <code>@symbol</code> can be evaluated before the text gets output.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_21">I.22.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-definecolor">I.23. DefineColor</h3>
<div class="paragraph">
<p>Colors defined with DefineColors can be referenced later by their name.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_23">I.23.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_23">I.23.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_23">I.23.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-definecolor-b"></a><code>b</code> (0 up to 100, optional)</dt>
<dd>
<p>Blue part with RGB</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-c"></a><code>c</code> (0 up to 100, optional)</dt>
<dd>
<p>Cyan part with CMYK</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-colorname"></a><code>colorname</code> (text, optional)</dt>
<dd>
<p>The name of the spot color if model is spotcolor. The name must match the required color name, such as PANTONE 116 C.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-g"></a><code>g</code> (0 up to 100, optional)</dt>
<dd>
<p>Green part with RGB / gray part when using the model gray</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-k"></a><code>k</code> (0 up to 100, optional)</dt>
<dd>
<p>Black part with CMYK</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-m"></a><code>m</code> (0 up to 100, optional)</dt>
<dd>
<p>Magenta part with CMYK</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-model"></a><code>model</code> (optional)</dt>
<dd>
<p>Color model to be used for the color. Currently rgb, cmyk, gray and spotcolor are supported.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>cmyk</code></dt>
<dd>
<p>CMYK (cyan, magenta, yellow, key/black), values between 0 and 100 (100 = full intensity)</p>
</dd>
<dt class="hdlist1"><code>rgb</code></dt>
<dd>
<p>rgb (red, green, blue), values between 0 and 100, 100 means full intensity</p>
</dd>
<dt class="hdlist1"><code>RGB</code></dt>
<dd>
<p>rgb (red, green, blue), values between 0 and 255, 255 means full intensity</p>
</dd>
<dt class="hdlist1"><code>gray</code></dt>
<dd>
<p>Gray (0=black, 100=white)</p>
</dd>
<dt class="hdlist1"><code>spotcolor</code></dt>
<dd>
<p>Use a PANTONE or HKS color.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-name"></a><code>name</code> (text)</dt>
<dd>
<p>The name of the color to be defined.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-overprint"></a><code>overprint</code> (optional)</dt>
<dd>
<p>Enable overprint for this color.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Enable overprint for this color.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Disable overprint for this color (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-r"></a><code>r</code> (0 up to 100, optional)</dt>
<dd>
<p>Red part with RGB</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-value"></a><code>value</code> (text, optional)</dt>
<dd>
<p>Hex value of the color, such as <code>#FA5</code> or <code>#FFAA55</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolor-y"></a><code>y</code> (0 up to 100, optional)</dt>
<dd>
<p>Yellow part with CMYK</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_23">I.23.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColor name="black" model="cmyk" c="0" m="0" y="0" k="100"/&gt;
&lt;DefineColor name="white" model="rgb" r="100" g="100" b="100"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info">I.23.5. Info</h4>
<div class="paragraph">
<p>The CSS level 3 colors are predefined in RGB-space. See <a href="http://www.w3.org/TR/css3-color/" class="bare">http://www.w3.org/TR/css3-color/</a> for the definitions. That means you can use common colors such as <code>red</code> or <code>goldenrod</code> without using <a href="#cmd-definecolor">DefineColor</a>.</p>
</div>
<div class="paragraph">
<p>The predefined colors are: <code>aliceblue</code>, <code>black</code>, <code>orange</code>, <code>rebeccapurple</code>, <code>antiquewhite</code>, <code>aqua</code>, <code>aquamarine</code>, <code>azure</code>, <code>beige</code>, <code>bisque</code>, <code>blanchedalmond</code>, <code>blue</code>, <code>blueviolet</code>, <code>brown</code>, <code>burlywood</code>, <code>cadetblue</code>, <code>chartreuse</code>, <code>chocolate</code>, <code>coral</code>, <code>cornflowerblue</code>, <code>cornsilk</code>, <code>crimson</code>, <code>darkblue</code>, <code>darkcyan</code>, <code>darkgoldenrod</code>, <code>darkgray</code>, <code>darkgreen</code>, <code>darkgrey</code>, <code>darkkhaki</code>, <code>darkmagenta</code>, <code>darkolivegreen</code>, <code>darkorange</code>, <code>darkorchid</code>, <code>darkred</code>, <code>darksalmon</code>, <code>darkseagreen</code>, <code>darkslateblue</code>, <code>darkslategray</code>, <code>darkslategrey</code>, <code>darkturquoise</code>, <code>darkviolet</code>, <code>deeppink</code>, <code>deepskyblue</code>, <code>dimgray</code>, <code>dimgrey</code>, <code>dodgerblue</code>, <code>firebrick</code>, <code>floralwhite</code>, <code>forestgreen</code>, <code>fuchsia</code>, <code>gainsboro</code>, <code>ghostwhite</code>, <code>gold</code>, <code>goldenrod</code>, <code>gray</code>, <code>green</code>, <code>greenyellow</code>, <code>grey</code>, <code>honeydew</code>, <code>hotpink</code>, <code>indianred</code>, <code>indigo</code>, <code>ivory</code>, <code>khaki</code>, <code>lavender</code>, <code>lavenderblush</code>, <code>lawngreen</code>, <code>lemonchiffon</code>, <code>lightblue</code>, <code>lightcoral</code>, <code>lightcyan</code>, <code>lightgoldenrodyellow</code>, <code>lightgray</code>, <code>lightgreen</code>, <code>lightgrey</code>, <code>lightpink</code>, <code>lightsalmon</code>, <code>lightseagreen</code>, <code>lightskyblue</code>, <code>lightslategray</code>, <code>lightslategrey</code>, <code>lightsteelblue</code>, <code>lightyellow</code>, <code>lime</code>, <code>limegreen</code>, <code>linen</code>, <code>maroon</code>, <code>mediumaquamarine</code>, <code>mediumblue</code>, <code>mediumorchid</code>, <code>mediumpurple</code>, <code>mediumseagreen</code>, <code>mediumslateblue</code>, <code>mediumspringgreen</code>, <code>mediumturquoise</code>, <code>mediumvioletred</code>, <code>midnightblue</code>, <code>mintcream</code>, <code>mistyrose</code>, <code>moccasin</code>, <code>navajowhite</code>, <code>navy</code>, <code>oldlace</code>, <code>olive</code>, <code>olivedrab</code>, <code>orangered</code>, <code>orchid</code>, <code>palegoldenrod</code>, <code>palegreen</code>, <code>paleturquoise</code>, <code>palevioletred</code>, <code>papayawhip</code>, <code>peachpuff</code>, <code>peru</code>, <code>pink</code>, <code>plum</code>, <code>powderblue</code>, <code>purple</code>, <code>red</code>, <code>rosybrown</code>, <code>royalblue</code>, <code>saddlebrown</code>, <code>salmon</code>, <code>sandybrown</code>, <code>seagreen</code>, <code>seashell</code>, <code>sienna</code>, <code>silver</code>, <code>skyblue</code>, <code>slateblue</code>, <code>slategray</code>, <code>slategrey</code>, <code>snow</code>, <code>springgreen</code>, <code>steelblue</code>, <code>tan</code>, <code>teal</code>, <code>thistle</code>, <code>tomato</code>, <code>turquoise</code>, <code>violet</code>, <code>wheat</code>, <code>white</code>, <code>whitesmoke</code>, <code>yellow</code> and <code>yellowgreen</code></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_22">I.23.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-definecolorprofile">I.24. DefineColorprofile</h3>
<div class="paragraph">
<p>Associate an external color profile with a name. To be used in PDFOptions.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_24">I.24.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_24">I.24.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-layout"><code>Layout</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_24">I.24.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-definecolorprofile-colors"></a><code>colors</code> (number)</dt>
<dd>
<p>Number of the colors in this color profile</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-condition"></a><code>condition</code> (text, optional)</dt>
<dd>
<p>Description of the output condition.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-filename"></a><code>filename</code> (text)</dt>
<dd>
<p>Filename of the color profile.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-identifier"></a><code>identifier</code> (text)</dt>
<dd>
<p>The official identifier for the registry.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-info"></a><code>info</code> (text)</dt>
<dd>
<p>Short text about the color profile.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-name"></a><code>name</code> (text)</dt>
<dd>
<p>The internal name of the color profile. To be used in <a href="#cmd-pdfoptions">PDFOptions</a>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definecolorprofile-registry"></a><code>registry</code> (text, optional)</dt>
<dd>
<p>The name of the registry. Defaults to <code><a href="http://www.color.org/" class="bare">http://www.color.org/</a></code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_24">I.24.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineColorprofile
  name="fogra51"
  identifier="FOGRA51"
  condition="Offset printing, according to ISO 12647-2:2013, 115 g/m2, tone value increase curves A (CMYK)"
  filename="PSOcoated_v3.icc"
  info="Coated FOGRA 51 (ISO 12647-2:2013)"
  registry="http://www.color.org"
  colors="4"
/&gt;

&lt;PDFOptions format="PDF/X-3" colorprofile="fogra51"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_23">I.24.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-definefontalias">I.25. DefineFontalias</h3>
<div class="paragraph">
<p>Defines a font alias. When defining a font family, you can use the an alias for the fontname. Aliases are looked up recursively.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_25">I.25.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_25">I.25.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_25">I.25.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-definefontalias-alias"></a><code>alias</code> (text)</dt>
<dd>
<p>New (equivalent) name of the font</p>
</dd>
<dt class="hdlist1"><a id="cmd-definefontalias-existing"></a><code>existing</code> (text)</dt>
<dd>
<p>The name of the existing font family.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_25">I.25.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontalias existing="DejaVuSerif" alias="serif"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-Bold" alias="serif-bold"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-Italic" alias="serif-italic"/&gt;
&lt;DefineFontalias existing="DejaVuSerif-BoldItalic" alias="serif-bolditalic"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can define a font family with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="title" fontsize="15" leading="17"&gt;
  &lt;Regular fontface="serif"/&gt;
  &lt;Bold fontface="serif-bold"/&gt;
  &lt;BoldItalic fontface="serif-bolditalic"/&gt;
  &lt;Italic fontface="serif-italic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_24">I.25.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-definefontfamily">I.26. DefineFontfamily</h3>
<div class="paragraph">
<p>Defines a font family consisting of the shapes regular, bold, bold italic and italic. To be used in <a href="#cmd-paragraph">Paragraph</a>, <a href="#cmd-textblock">Textblock</a>, <a href="#cmd-fontface">Fontface</a> and <a href="#cmd-table">Table</a> with the attribute <code>fontface</code>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_26">I.26.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-bold"><code>Bold</code></a>, <a href="#cmd-bolditalic"><code>BoldItalic</code></a>, <a href="#cmd-italic"><code>Italic</code></a>, <a href="#cmd-regular"><code>Regular</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_26">I.26.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_26">I.26.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-definefontfamily-fontsize"></a><code>fontsize</code> (number)</dt>
<dd>
<p>Font size in pt (PostScript points). Number without unit.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definefontfamily-leading"></a><code>leading</code> (number)</dt>
<dd>
<p>Distance between two baselines in pt (PostScript points). Without unit.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definefontfamily-name"></a><code>name</code> (text)</dt>
<dd>
<p>The symbolic name that is used as a reference to access this font family.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_2">I.26.4. Remarks</h4>
<div class="paragraph">
<p>The default fontface is named text and it can be redefined by defining a new font family called text.</p>
</div>
<div class="paragraph">
<p>The variants bold, italic and bold italic are optional.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_26">I.26.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="Title" fontsize="12" leading="14"&gt;
  &lt;Regular fontface="Helvetica Regular"/&gt;
  &lt;Bold fontface="Helvetica Bold"/&gt;
  &lt;Italic fontface="Helvetica Italic"/&gt;
  &lt;BoldItalic fontface="Helvetica Bold Italic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This font family can now be accessed like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock fontface="Title"&gt;
  &lt;Paragraph&gt;
    &lt;Value&gt;...&lt;Value&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_25">I.26.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-definetextformat">I.27. DefineTextformat</h3>
<div class="paragraph">
<p>Define text formatting instructions. A textformat is used to align and indent text and create margins and rules before and after the text.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_27">I.27.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_27">I.27.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_27">I.27.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-definetextformat-alignment"></a><code>alignment</code> (optional)</dt>
<dd>
<p>Determines the formatting of the text.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>justified</code></dt>
<dd>
<p>Textblock has a rectangular shape.</p>
</dd>
<dt class="hdlist1"><code>leftaligned</code></dt>
<dd>
<p>The text is ragged at the right margin.</p>
</dd>
<dt class="hdlist1"><code>rightaligned</code></dt>
<dd>
<p>The text is ragged right at the left margin.</p>
</dd>
<dt class="hdlist1"><code>centered</code></dt>
<dd>
<p>The text is ragged at the left and the right margin.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-border-bottom"></a><code>border-bottom</code> (length, optional)</dt>
<dd>
<p>The thickness of the rule below the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-border-top"></a><code>border-top</code> (length, optional)</dt>
<dd>
<p>The thickness of the rule above the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-break-below"></a><code>break-below</code> (optional)</dt>
<dd>
<p>(Dis-)Allow break below the text. This only works if the following text is placed within the same <a href="#cmd-placeobject">PlaceObject</a> or <a href="#cmd-output">Output</a> container.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Allow a break below this text (default).</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Prevent a page break below this text.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-column-padding-top"></a><code>column-padding-top</code> (optional)</dt>
<dd>
<p>The height of the padding that is inserted in a column (at the top) with Output/Text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-fill-last-line"></a><code>fill-last-line</code> (0 up to 100, optional)</dt>
<dd>
<p>Ensure the length of the last line in a paragraph. Values from 0 (no change) to 100 (last line is full). Handle with care. Default is 0.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-hyphenate"></a><code>hyphenate</code> (optional)</dt>
<dd>
<p>Enable or disable hyphenation (default: on).</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Enable hyphenation (default).</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Disable hyphenation.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-hyphenchar"></a><code>hyphenchar</code> (text, optional)</dt>
<dd>
<p>The character used for hyphenation (default: -)</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-indentation"></a><code>indentation</code> (length, optional)</dt>
<dd>
<p>The amount of indentation.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-margin-bottom"></a><code>margin-bottom</code> (length, optional)</dt>
<dd>
<p>Distance between the bottom rule and the text of the next paragraph.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-margin-top"></a><code>margin-top</code> (length, optional)</dt>
<dd>
<p>Distance between the top rule and the text of the previous paragraph.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-margin-top-box-start"></a><code>margin-top-box-start</code> (optional)</dt>
<dd>
<p>The top margin at the beginning of a page or column with <a href="#cmd-output">Output</a>. Defaults to the value of <code>margin-top</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the textformat that is used later in the layout.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-orphan"></a><code>orphan</code> (yesnonumber, optional)</dt>
<dd>
<p>If yes, allow orphans (first line of paragraph is on the previous page). If you provide a number, it is the number of lines that must be kept together. Default: no.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-padding-top"></a><code>padding-top</code> (length, optional)</dt>
<dd>
<p>Distance between the top of the text and the top rule.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-rows"></a><code>rows</code> (number, optional)</dt>
<dd>
<p>The number of rows with indentation given in the attribute <code>indentation</code>. If the number is negative, this determines the number of rows that are not indented.</p>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-tab"></a><code>tab</code> (optional)</dt>
<dd>
<p>What to do on the tab (\&amp; #09;) character.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>space</code></dt>
<dd>
<p>Use tab as space</p>
</dd>
<dt class="hdlist1"><code>hspace</code></dt>
<dd>
<p>Use tab as a stretching space</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-definetextformat-widow"></a><code>widow</code> (yesnonumber, optional)</dt>
<dd>
<p>If yes, allow widows (last line of paragraph is on the next page). If you provide a number, it is the number of lines that must be kept together.  Default: no.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_3">I.27.4. Remarks</h4>
<div class="paragraph">
<p>The textformats <code>text</code>, <code>centered</code>, <code>left</code> and <code>right</code> are predefined. They stand for justified, centered, left aligned and right aligned text.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_27">I.27.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineTextformat name="text with indentation" alignment="justified" indentation="1cm"/&gt;

&lt;Record element="..."&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock textformat="text with indentation"&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;Text ...&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_26">I.27.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-element">I.28. Element</h3>
<div class="paragraph">
<p>Create a data structure that can be used to save on the hard-drive between consecutive runs (with <a href="#cmd-savedataset">SaveDataset</a>).</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_28">I.28.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-makeindex_"><code>Makeindex</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_28">I.28.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_28">I.28.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-element-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the element that gets created.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_28">I.28.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetVariable variable="articles"&gt;
  &lt;Element name="articlelist"&gt;
    &lt;Attribute name="name" select=" @name "/&gt;
    &lt;Attribute name="page" select="sd:current-page()"/&gt;
  &lt;/Element&gt;
&lt;/SetVariable&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_27">I.28.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-fallback">I.29. Fallback</h3>
<div class="paragraph">
<p>Define a fallback for <a href="#cmd-loadfontfile">LoadFontfile</a></p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_29">I.29.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_29">I.29.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-loadfontfile"><code>LoadFontfile</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_29">I.29.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-fallback-filename"></a><code>filename</code> (text)</dt>
<dd>
<p>The filename of the font to be used as a fallback.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_29">I.29.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="zh" filename="Microsoft JhengHei.ttf" &gt;
  &lt;Fallback filename="texgyreheros-regular.otf" /&gt;
  &lt;Fallback filename="ZapfDingbats.ttf" /&gt;
&lt;/LoadFontfile&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_28">I.29.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-fontface">I.30. Fontface</h3>
<div class="paragraph">
<p>Switch to another font family.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_30">I.30.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_30">I.30.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_30">I.30.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-fontface-fontfamily"></a><code>fontfamily</code> (text)</dt>
<dd>
<p>The name of the font family to switch to.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_30">I.30.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="..."&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph fontface="large"&gt;
        &lt;Value&gt;large&lt;/Value&gt;
        &lt;Fontface fontfamily="text"&gt;
          &lt;Value&gt;regular&lt;/Value&gt;&lt;B&gt;&lt;Value&gt;bold&lt;/Value&gt;&lt;/B&gt;
        &lt;/Fontface&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_29">I.30.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-forall">I.31. ForAll</h3>
<div class="paragraph">
<p>Executes the given commands for all elements in the data XML file that match the contents of the attribute <code>select</code>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_31">I.31.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_31">I.31.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-ul"><code>Ul</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_31">I.31.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-forall-limit"></a><code>limit</code> (number, optional)</dt>
<dd>
<p>Limits the number of children to the given number.</p>
</dd>
<dt class="hdlist1"><a id="cmd-forall-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>Selects the child elements from the data XML</p>
</dd>
<dt class="hdlist1"><a id="cmd-forall-start"></a><code>start</code> (number, optional)</dt>
<dd>
<p>The first entry to process. Default is 1.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_31">I.31.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Table&gt;
      &lt;ForAll select="entry"&gt;
        &lt;Tr&gt;&lt;Td&gt;&lt;Paragraph&gt;&lt;Value select="string(.)"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;&lt;/Tr&gt;
      &lt;/ForAll&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Creates a table row for all elements <code>entry</code> in the data element <code>data</code>. The data XML should look similar to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;entry&gt;a&lt;/entry&gt;
  &lt;entry&gt;b&lt;/entry&gt;
  &lt;entry&gt;c&lt;/entry&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_30">I.31.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-frame">I.32. Frame</h3>
<div class="paragraph">
<p>Manipulate an object&#8217;s appearance by drawing a frame. Can be used as a clipping path.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_32">I.32.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-circle"><code>Circle</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-rule"><code>Rule</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_32">I.32.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_32">I.32.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-frame-backgroundcolor"></a><code>backgroundcolor</code> (text, optional)</dt>
<dd>
<p>Color of the background if background is set to full.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-border-bottom-left-radius"></a><code>border-bottom-left-radius</code> (length, optional, CSS property: border-bottom-left-radius)</dt>
<dd>
<p>Radius of corner bottom left.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-border-bottom-right-radius"></a><code>border-bottom-right-radius</code> (length, optional, CSS property: border-bottom-right-radius)</dt>
<dd>
<p>Radius of corner bottom right.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-border-top-left-radius"></a><code>border-top-left-radius</code> (length, optional, CSS property: border-top-left-radius)</dt>
<dd>
<p>Radius of corner top left.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-border-top-right-radius"></a><code>border-top-right-radius</code> (length, optional, CSS property: border-top-right-radius)</dt>
<dd>
<p>Radius of corner top right.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-clip"></a><code>clip</code> (optional)</dt>
<dd>
<p>Constrain the contents of the frame to its area or allow them to protrude.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>The contents are clipped at the frame border (default).</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>The contents are not clipped.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-frame-framecolor"></a><code>framecolor</code> (text, optional)</dt>
<dd>
<p>The color of the frame around the object. Only makes sense in combination with the attribute 'frame'.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-frame-rulewidth"></a><code>rulewidth</code> (length, optional)</dt>
<dd>
<p>The thickness of the frame that is drawn around the object. Only makes sense in combination with the attribute 'frame'.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_32">I.32.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Frame framecolor="red" border-bottom-left-radius="10pt"&gt;
      &lt;Image width="20" file="_samplea.pdf"/&gt;
    &lt;/Frame&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_31">I.32.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-grid">I.33. Grid</h3>
<div class="paragraph">
<p>Override the grid settings from <a href="#cmd-setgrid">SetGrid</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_33">I.33.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_33">I.33.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_33">I.33.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-grid-dx"></a><code>dx</code> (optional)</dt>
<dd>
<p>Distance between two grid cells (horizontal)</p>
</dd>
<dt class="hdlist1"><a id="cmd-grid-dy"></a><code>dy</code> (optional)</dt>
<dd>
<p>Distance between two grid cells (horizontal)</p>
</dd>
<dt class="hdlist1"><a id="cmd-grid-height"></a><code>height</code> (length, optional)</dt>
<dd>
<p>Height of a grid cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-grid-nx"></a><code>nx</code> (number, optional)</dt>
<dd>
<p>Number of grid cells in horizontal direction.</p>
</dd>
<dt class="hdlist1"><a id="cmd-grid-ny"></a><code>ny</code> (number, optional)</dt>
<dd>
<p>Number of grid cells in vertical direction.</p>
</dd>
<dt class="hdlist1"><a id="cmd-grid-width"></a><code>width</code> (length, optional)</dt>
<dd>
<p>Set the width of a grid cell.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_4">I.33.4. Remarks</h4>
<div class="paragraph">
<p>nx and ny don&#8217;t make sense in <a href="#cmd-group">Group</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_33">I.33.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="page wide" test=" $var &gt; 10 "&gt;
  &lt;Margin left="1cm" right="2cm" top="1cm" bottom="1cm"/&gt;
  &lt;Grid width="10mm" height="14pt"/&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_32">I.33.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-group">I.34. Group</h3>
<div class="paragraph">
<p>Create a virtual page that behaves like a real page but is not placed into the PDF.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_34">I.34.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-grid"><code>Grid</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_34">I.34.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_34">I.34.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-group-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the group that is created.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_34">I.34.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;Group name="Some group"&gt;
    &lt;!-- Optional, taken from the current page --&gt;
    &lt;Grid width="10mm" height="10mm"/&gt;
    &lt;Contents&gt;
      &lt;PlaceObject column="3" row="2"&gt;
        &lt;Textblock width="14"&gt;
          &lt;Paragraph&gt;
            &lt;Value&gt;Text&lt;/Value&gt;
          &lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
      &lt;PlaceObject column="2" row="4"&gt;
        &lt;Textblock width="14"&gt;
          &lt;Paragraph&gt;
            &lt;Value&gt;Next text&lt;/Value&gt;
          &lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
    &lt;/Contents&gt;
  &lt;/Group&gt;
  &lt;PlaceObject groupname="Some group" row="1" /&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_33">I.34.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-groupcontents">I.35. Groupcontents</h3>
<div class="paragraph">
<p>Insert the contents of a group (a virtual area)</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_35">I.35.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_35">I.35.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-td"><code>Td</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_35">I.35.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-groupcontents-name"></a><code>name</code> (text)</dt>
<dd>
<p>The name of the group</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_35">I.35.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;Group name="foo"&gt;
    &lt;Contents&gt;
      &lt;PlaceObject column="1"&gt;
        &lt;Image file="_samplea.pdf" width="5"/&gt;
      &lt;/PlaceObject&gt;
    &lt;/Contents&gt;
  &lt;/Group&gt;
  &lt;PlaceObject&gt;
    &lt;Table&gt;
      &lt;Tr&gt;
        &lt;Td&gt;&lt;Groupcontents name="foo"/&gt;&lt;/Td&gt;
      &lt;/Tr&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_34">I.35.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-hspace">I.36. HSpace</h3>
<div class="paragraph">
<p>Two modes: with a given width, the space takes up the given amount.</p>
</div>
<div class="paragraph">
<p>With no width given: create a horizontal stretching space. The space will take up no width as a minimum but is able to stretch up to infinity. Useful in single line contexts. In normal text there will surprising little stretching involved due to the global paragraph optimization algorithm.
        You will see that all other word spaces will have the minimum width and the excessive whitespace is accumulated at the strechable space.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_36">I.36.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_36">I.36.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_36">I.36.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-hspace-leader"></a><code>leader</code> (text, optional)</dt>
<dd>
<p>The text that should be displayed instead of the space. For example a dot (.).</p>
</dd>
<dt class="hdlist1"><a id="cmd-hspace-leader-width"></a><code>leader-width</code> (length, optional)</dt>
<dd>
<p>Distance between two leader text starting points</p>
</dd>
<dt class="hdlist1"><a id="cmd-hspace-minwidth"></a><code>minwidth</code> (length, optional)</dt>
<dd>
<p>The (optional) minimum width of the inserted space.</p>
</dd>
<dt class="hdlist1"><a id="cmd-hspace-width"></a><code>width</code> (length, optional)</dt>
<dd>
<p>Optional width of the space (a length).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_36">I.36.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;Hello&lt;/Value&gt;&lt;HSpace/&gt;&lt;Value&gt;World&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_35">I.36.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-html">I.37. HTML</h3>
<div class="paragraph">
<p>Collect HTML from data.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_37">I.37.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_37">I.37.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-text"><code>Text</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_37">I.37.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_37">I.37.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
    &lt;Output&gt;
       &lt;Text&gt;
          &lt;HTML&gt;
             &lt;Value select="sd:html(.)"/&gt;
          &lt;/HTML&gt;
       &lt;/Text&gt;
    &lt;/Output&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_36">I.37.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-hyphenation">I.38. Hyphenation</h3>
<div class="paragraph">
<p>Suggest a hyphenation. This hyphenation will be used in the running text. See the example.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_38">I.38.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_38">I.38.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_38">I.38.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_38">I.38.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Hyphenation&gt;su-per-cal-ifrag-ilis-tic-ex-pi-ali-do-cious&lt;/Hyphenation&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_37">I.38.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-i">I.39. I</h3>
<div class="paragraph">
<p>Switch to italic text.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_39">I.39.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_39">I.39.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_39">I.39.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_39">I.39.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;
      &lt;I&gt;&lt;Value&gt;Italic text&lt;/Value&gt;&lt;/I&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_38">I.39.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-image">I.40. Image</h3>
<div class="paragraph">
<p>Includes an external Graphic. Allowed graphic formats are PDF (.pdf), PNG (.png) and JPEG (.jpg). See below for a limitation on the number of included PDF files.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_40">I.40.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_40">I.40.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_40">I.40.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-image-bleed"></a><code>bleed</code> (optional)</dt>
<dd>
<p>Should the image size increase by the amount of bleed setting (<a href="#cmd-options">Options</a>)?</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>auto</code></dt>
<dd>
<p>If the image touches a paper edge, extend the image in that direction.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Do not extend the image.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-image-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-clip"></a><code>clip</code> (optional)</dt>
<dd>
<p>When yes, the image keeps its aspect ratio if both width and hight is given. To be able to fit the image into the given dimensions, the image gets clipped.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Keep the aspect ratio and cut off left/right or top/bottom edges.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Distort the image to make it fit in the given area.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-image-dpiwarn"></a><code>dpiwarn</code> (number, optional)</dt>
<dd>
<p>Warn if the image gets lower resolution than given.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-fallback"></a><code>fallback</code> (optional)</dt>
<dd>
<p>The filename of the replacement image if the file is not found. If none given, a red 'file not found' image will gets displayed.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-file"></a><code>file</code> (text, optional)</dt>
<dd>
<p>Filename of the image. Can be a file in the search path, an absolute file name, a file-URI for absolute paths (e.g. <code><a href="file:///path/to/image.pdf" class="bare">file:///path/to/image.pdf</a></code>) or a location on the web (http, https).</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-height"></a><code>height</code> (number or length, optional)</dt>
<dd>
<p>Image height. One of 'auto' (default, take image width), length (such as '3cm') or number (in grid cells).</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-imagetype"></a><code>imagetype</code> (optional)</dt>
<dd>
<p>Set the converter to be used for the enclosed image (if any).</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-maxheight"></a><code>maxheight</code> (number or length, optional)</dt>
<dd>
<p>The maximum height of the image. Only used when clip="no". Value is a number (grid cells) or a length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-maxwidth"></a><code>maxwidth</code> (number or length, optional)</dt>
<dd>
<p>The maximum width of the image. Only used when clip="no". Value is a number (grid cells), a length or the value 100% for full width image.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-minheight"></a><code>minheight</code> (number or length, optional)</dt>
<dd>
<p>The minimum height of the image. Only used when clip="no". Value is a number (grid cells) or a length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-minwidth"></a><code>minwidth</code> (number or length, optional)</dt>
<dd>
<p>The minimum width of the image. Only used when clip="no". Value is a number (grid cells), a length or the value 100% for full width image.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-padding"></a><code>padding</code> (length, optional)</dt>
<dd>
<p>Set padding for all four sides.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-padding-bottom"></a><code>padding-bottom</code> (length, optional, CSS property: padding-bottom)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the bottom edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-padding-left"></a><code>padding-left</code> (length, optional, CSS property: padding-left)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the left edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-padding-right"></a><code>padding-right</code> (length, optional, CSS property: padding-right)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the right edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-padding-top"></a><code>padding-top</code> (length, optional, CSS property: padding-top)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the top edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-page"></a><code>page</code> (number, optional)</dt>
<dd>
<p>The page number from the PDF. Default is 1 (include the first page).</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-rotate"></a><code>rotate</code> (number, optional)</dt>
<dd>
<p>Rotate the image in steps of 90. The amount of movement is defined by the specified angle; if positive, the movement will be clockwise, if negative, it will be counter-clockwise.</p>
</dd>
<dt class="hdlist1"><a id="cmd-image-visiblebox"></a><code>visiblebox</code> (optional)</dt>
<dd>
<p>The PDF box that represents the visible area of the included image. Default is cropbox.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>artbox</code></dt>
<dd>
<p>Use the artbox as the visible area. The artbox is usually not contained in a PDF.</p>
</dd>
<dt class="hdlist1"><code>bleedbox</code></dt>
<dd>
<p>Use the bleedbox of the included PDF.</p>
</dd>
<dt class="hdlist1"><code>cropbox</code></dt>
<dd>
<p>Use the cropbox of the included PDF (default).</p>
</dd>
<dt class="hdlist1"><code>mediabox</code></dt>
<dd>
<p>Use the mediabox of the included PDF. This is the largest box.</p>
</dd>
<dt class="hdlist1"><code>trimbox</code></dt>
<dd>
<p>Use the trimbox of the includes PDF. The trimbox is the final paper size. For example, the trim box of an A4 PDF is 210mm x 297mm.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-image-width"></a><code>width</code> (number or length, optional)</dt>
<dd>
<p>Image width. One of 'auto' (default, take image width), '100%' (whole area width), length (such as '3cm') or number (in grid cells).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_5">I.40.4. Remarks</h4>
<div class="paragraph">
<p>The values of the attributes naturalsize and maxsize can be artbox, bleedbox, cropbox, mediabox and trimbox. These two values are used to
      enlarge the image for the bleed. In the second example below the designated view port of the image is defined in the artbox, but the image has a larger
      area (the cropbox) that is used for bleeding.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_40">I.40.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="productdata"&gt;
  &lt;PlaceObject column="{ $column }"&gt;
    &lt;Image width="10" file="{ string(.) }"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Takes the file name of the image from the contents of the current element in the data file (here: productdata). Sample data XML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;productdata&gt;image.pdf&lt;/productdata&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_2">I.40.6. Info</h4>
<div class="paragraph">
<p>The number of pages in a PDF file can be determined with the XPath function <code>sd:number-of-pages(&lt;filename or URI&gt;).</code></p>
</div>
<div class="paragraph">
<p>Attention. The number of PDF files that can be included in a document is limited. This limit can be increased in is system dependant. On Mac OS X it can be queried with <code>ulimit -a</code> and set for example with <code>ulimit -n 1024</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_39">I.40.7. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-include">I.41. Include</h3>
<div class="paragraph">
<p>Toplevel element for included layout files.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_41">I.41.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-stylesheet"><code>Stylesheet</code></a>, <a href="#cmd-switch"><code>Switch</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_41">I.41.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_41">I.41.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-include-xml_base"></a><code>xml:base</code> (optional)</dt>
<dd>
<p>(not intended to be used, for error-free validation purpose only)</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_41">I.41.4. Example</h4>
<div class="paragraph">
<p>The main file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"
  xmlns:xi="http://www.w3.org/2001/XInclude"&gt;

  &lt;xi:include href="sublayout.xml" /&gt;

  &lt;Record element="data"&gt;
    &lt;PlaceObject background="full" backgroundcolor="green"&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;&lt;Value&gt;Hello world&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;

&lt;/Layout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the file <code>sublayout.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Include xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;DefineColor name="green" value="#0f0"/&gt;
  &lt;DefineColor name="gray" value="#ddd"/&gt;

&lt;/Include&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_3">I.41.5. Info</h4>
<div class="paragraph">
<p>This command is obsolete. Use <a href="#cmd-layout">Layout</a> instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_40">I.41.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-initial">I.42. Initial</h3>
<div class="paragraph">
<p>Make some letters appear in a larger font at the beginning of the paragraph.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_42">I.42.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_42">I.42.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_42">I.42.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-initial-color"></a><code>color</code> (text, optional)</dt>
<dd>
<p>Set the color of the initial. Defaults to black.</p>
</dd>
<dt class="hdlist1"><a id="cmd-initial-fontface"></a><code>fontface</code> ()</dt>
<dd>
<p>Choose the font family. Only Regular shape is used at the moment.</p>
</dd>
<dt class="hdlist1"><a id="cmd-initial-padding-left"></a><code>padding-left</code> (optional)</dt>
<dd>
<p>Insert space left of the initial.</p>
</dd>
<dt class="hdlist1"><a id="cmd-initial-padding-right"></a><code>padding-right</code> (optional)</dt>
<dd>
<p>Insert space right of the initial.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_42">I.42.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock&gt;
  &lt;Paragraph&gt;
    &lt;Initial fontface="Large" padding-right="2pt"&gt;
      &lt;Value select="'A'"/&gt;
    &lt;/Initial&gt;
    &lt;Value&gt;certain king had a beautiful garden,
    and in the garden stood a tree which bore golden
    apples.&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-initial-en.png" alt="ref initial en" width="50%">
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_4">I.42.5. Info</h4>
<div class="paragraph">
<p>Make sure you set the font face for the surrounding Paragraph to get the spacing right (it defaults to text).</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_41">I.42.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-insertpages">I.43. InsertPages</h3>
<div class="paragraph">
<p>Insert previously saved pages or reserve space for pages to be generted in the future.</p>
</div>
<div class="paragraph">
<p>There are two modes: the first mode is to first save some pages with <a href="#cmd-savepages">SavePages</a> and then insert the pages here. The second mode reserves some pages in the PDF (has to be known in advace) that are created in the future (future mode) with <a href="#cmd-savepages">SavePages</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_43">I.43.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_43">I.43.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_43">I.43.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-insertpages-name"></a><code>name</code> (text)</dt>
<dd>
<p>The name of the saved pages.</p>
</dd>
<dt class="hdlist1"><a id="cmd-insertpages-pages"></a><code>pages</code> (number, optional)</dt>
<dd>
<p>Number of pages to be inserted in future mode.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_6">I.43.4. Remarks</h4>
<div class="paragraph">
<p>Useful if you require a certain amount of pages and you need to try out how many pages you get by typesetting onto virtual pages.</p>
</div>
<div class="paragraph">
<p>Also useful to create a table of contents after you have collected all the information and make it appear at the beginning of the document.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_43">I.43.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SavePages name="foo"&gt;
    &lt;Loop select="100"&gt;
      &lt;PlaceObject&gt;
        &lt;Textblock&gt;
          &lt;Paragraph&gt;&lt;Value&gt;Hello world&lt;/Value&gt;&lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
    &lt;/Loop&gt;
  &lt;/SavePages&gt;
  &lt;Message select="sd:count-saved-pages('foo')"&gt;&lt;/Message&gt;
  &lt;InsertPages name="foo"/&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_42">I.43.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-italic">I.44. Italic</h3>
<div class="paragraph">
<p>The font face to be used when the user switches to italic.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_44">I.44.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_44">I.44.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_44">I.44.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-italic-fontface"></a><code>fontface</code> (text)</dt>
<dd>
<p>The name of the fontface.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_44">I.44.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;LoadFontfile name="Helvetica" filename="helvetica-regular.otf"/&gt;
&lt;LoadFontfile name="Helvetica Bold" filename="helvetica-bold.otf"/&gt;
&lt;LoadFontfile name="Helvetica Italic" filename="helvetica-italic.otf"/&gt;
&lt;LoadFontfile name="Helvetica Bold Italic" filename="helvetica-bolditalic.otf"/&gt;

&lt;DefineFontfamily name="text" fontsize="12" leading="14"&gt;
  &lt;Regular fontface="Helvetica"/&gt;
  &lt;Bold fontface="Helvetica Bold"/&gt;
  &lt;Italic fontface="Helvetica Italic"/&gt;
  &lt;BoldItalic fontface="Helvetica Bold Italic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_43">I.44.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-layout">I.45. Layout</h3>
<div class="paragraph">
<p>This command is the root element in the Layout instructions.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_45">I.45.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-compatibility"><code>Compatibility</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definecolorprofile"><code>DefineColorprofile</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-stylesheet"><code>Stylesheet</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_45">I.45.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_45">I.45.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-layout-name"></a><code>name</code> (text, optional)</dt>
<dd>
<p>A name for the layout. Optional, without any influence on the layout itself.</p>
</dd>
<dt class="hdlist1"><a id="cmd-layout-version"></a><code>version</code> (number, optional)</dt>
<dd>
<p>Minimum publisher version required. If major or minor version differ, give a warning. Format: 1.6.12 (revision number can be left out).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_45">I.45.4. Example</h4>
<div class="paragraph">
<p>This is a complete example for a layout rule set. The first part is the data file (save as <code>data.xml</code>) and the second the layout instructions (<code>layout.xml</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;root&gt;
  &lt;elt greeting="Hello world!" /&gt;
&lt;/root&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
  xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;

  &lt;Options mainlanguage="English (USA)"/&gt;

  &lt;Record element="root"&gt;
    &lt;ProcessNode select="elt"/&gt;
  &lt;/Record&gt;

  &lt;Record element="elt"&gt;
    &lt;PlaceObject&gt;
      &lt;Textblock&gt;
        &lt;Paragraph&gt;
          &lt;Value select="@greeting"&gt;&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Textblock&gt;
    &lt;/PlaceObject&gt;
  &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-li">I.46. Li</h3>
<div class="paragraph">
<p>List item in an ordered or unordered list.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_46">I.46.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_46">I.46.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-ol"><code>Ol</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-ul"><code>Ul</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_46">I.46.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_46">I.46.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Ol&gt;
      &lt;Li&gt;&lt;Value&gt;First item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Second item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Third item&lt;/Value&gt;&lt;/Li&gt;
    &lt;/Ol&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_44">I.46.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-loaddataset">I.47. LoadDataset</h3>
<div class="paragraph">
<p>Load an XML file previously written by <a href="#cmd-savedataset">SaveDataset</a> (attribute name) or a well formed XML file (attribute filename). The regular data processing is interrupted and the contents of the data file is taken as a data source. If the file does not exist, the call to <a href="#cmd-loaddataset">LoadDataset</a> is ignored.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_47">I.47.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_47">I.47.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_47">I.47.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-loaddataset-filename"></a><code>filename</code> (text, optional)</dt>
<dd>
<p>Filename of the XML file to load. Example: <code>myfile.xml</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-loaddataset-name"></a><code>name</code> (text, optional)</dt>
<dd>
<p>Name of the data file. Example: toc</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_47">I.47.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="articles"&gt;
  &lt;LoadDataset name="toc"/&gt;
  &lt;NewPage/&gt;
  &lt;ProcessNode select="article"/&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_45">I.47.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-loadfontfile">I.48. LoadFontfile</h3>
<div class="paragraph">
<p>Load a font file (.otf, .ttf, .pfb) and associate it with an internal name. If a glyph is not found in the font file, an error will be raised (this can be configured via the <a href="#cmd-options">Options</a> command). You can specify fallbacks as a child element of Loadfontfile.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_48">I.48.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-fallback"><code>Fallback</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_48">I.48.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_48">I.48.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-loadfontfile-filename"></a><code>filename</code> (text)</dt>
<dd>
<p>The name (with extension) of the font file.</p>
</dd>
<dt class="hdlist1"><a id="cmd-loadfontfile-marginprotrusion"></a><code>marginprotrusion</code> (0 up to 100, optional)</dt>
<dd>
<p>The amount of protrusion glyphs like -, . and - stick into the right margin. Highly font dependent. Defaults to 0.</p>
</dd>
<dt class="hdlist1"><a id="cmd-loadfontfile-name"></a><code>name</code> (text)</dt>
<dd>
<p>The internal name of the font file. To be used within <a href="#cmd-definefontfamily">DefineFontfamily</a>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-loadfontfile-oldstylefigures"></a><code>oldstylefigures</code> (optional)</dt>
<dd>
<p>Use oldstyle figures if the font includes them. (OpenType feature onum)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Use oldstyle figures.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Use lining figures.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-loadfontfile-smallcaps"></a><code>smallcaps</code> (optional)</dt>
<dd>
<p>Use small caps glyphs when the font supplies them.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Use small caps for this font.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t switch to small caps (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-loadfontfile-space"></a><code>space</code> (0 up to 100, optional)</dt>
<dd>
<p>The natural width between words. Can be stretched by 30% and shrunk by 10%. Defaults to 25. The value is a percentile of the font size.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_48">I.48.4. Example</h4>

</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_5">I.48.5. Info</h4>
<div class="paragraph">
<p>The fonts are optionally taken from the local search path. On Windows the path <code>%WINDIR%\Fonts</code> (usually <code>C:\Windows\Fonts</code>) and on Mac OS X the paths <code>/Library/Fonts</code> and <code>/System/Library/Fonts</code> can be used as fallbacks for fonts. This can be configured with the setting <code>fontpath</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_46">I.48.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-loop">I.49. Loop</h3>
<div class="paragraph">
<p>Repeat the contents of this element several times.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_49">I.49.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_49">I.49.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_49">I.49.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-loop-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The number of loops. Must be a number or castable as a number.</p>
</dd>
<dt class="hdlist1"><a id="cmd-loop-variable"></a><code>variable</code> (text, optional)</dt>
<dd>
<p>If given, store the current loop value in this variable. If omitted, the loop value is stored in the variable <code>_loopcounter</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_49">I.49.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table&gt;
    &lt;Loop select="5" variable="i"&gt;
      &lt;Tr&gt;
        &lt;Td&gt;&lt;Paragraph&gt;&lt;Value select="$i"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
      &lt;/Tr&gt;
    &lt;/Loop&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_47">I.49.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-makeindex_">I.50. Makeindex</h3>
<div class="paragraph">
<p>Sort and split a list of elements to make an index.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_50">I.50.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_50">I.50.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_50">I.50.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-makeindex_-pagenumber"></a><code>pagenumber</code> (text, optional)</dt>
<dd>
<p>The name of the attribute that holds the page numbers. Defaults to 'page'.</p>
</dd>
<dt class="hdlist1"><a id="cmd-makeindex_-section"></a><code>section</code> (text)</dt>
<dd>
<p>Create an XML-element with this name for every section (letter) in the index.</p>
</dd>
<dt class="hdlist1"><a id="cmd-makeindex_-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The xpath expression ($variable) that holds the element structure for the index.</p>
</dd>
<dt class="hdlist1"><a id="cmd-makeindex_-sortkey"></a><code>sortkey</code> (text)</dt>
<dd>
<p>The name of the attribute holding the indexentry (that should be sorted).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_50">I.50.4. Example</h4>
<div class="paragraph">
<p>Index generation works in two steps: First, collect all the entries in a <a href="#cmd-element">Element</a> structure, then, while saving the generated structure, sort the keys and group them with this command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="data"&gt;
    &lt;LoadDataset name="index" /&gt;
    &lt;SetVariable variable="indexentries"&gt;
      &lt;Element name="indexentry"&gt;
        &lt;Attribute name="name" select="'Home'" /&gt;
        &lt;Attribute name="page" select="1" /&gt;
      &lt;/Element&gt;
      &lt;Element name="indexentry"&gt;
        &lt;Attribute name="name" select="'House'" /&gt;
        &lt;Attribute name="page" select="2" /&gt;
      &lt;/Element&gt;
      &lt;Element name="indexentry"&gt;
        &lt;Attribute name="name" select="'Hello'" /&gt;
        &lt;Attribute name="page" select="3" /&gt;
      &lt;/Element&gt;
      &lt;Element name="indexentry"&gt;
        &lt;Attribute name="name" select="'Garage'" /&gt;
        &lt;Attribute name="page" select="4" /&gt;
      &lt;/Element&gt;
    &lt;/SetVariable&gt;
    &lt;SaveDataset name="index" elementname="Index"&gt;
      &lt;Makeindex select="$indexentries" sortkey="name" section="part" /&gt;
    &lt;/SaveDataset&gt;
  &lt;/Record&gt;

  &lt;Record element="Index"&gt;
    &lt;ForAll select="part"&gt;
      &lt;PlaceObject&gt;
        &lt;Table width="3" stretch="max"&gt;
          &lt;Tr&gt;
            &lt;Td border-bottom="0.4pt" colspan="2"&gt;
              &lt;Paragraph&gt;&lt;Value select="@name" /&gt;&lt;/Paragraph&gt;
            &lt;/Td&gt;
          &lt;/Tr&gt;
          &lt;ForAll select="indexentry"&gt;
            &lt;Tr&gt;
              &lt;Td&gt;
                &lt;Paragraph&gt;&lt;Value select="@name" /&gt;&lt;/Paragraph&gt;
              &lt;/Td&gt;
              &lt;Td&gt;
                &lt;Paragraph&gt;&lt;Value select="@page" /&gt;&lt;/Paragraph&gt;
              &lt;/Td&gt;
            &lt;/Tr&gt;
          &lt;/ForAll&gt;
        &lt;/Table&gt;
      &lt;/PlaceObject&gt;
    &lt;/ForAll&gt;
  &lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_48">I.50.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-margin">I.51. Margin</h3>
<div class="paragraph">
<p>Set the margin of the document or master page.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_51">I.51.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_51">I.51.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-pagetype"><code>Pagetype</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_51">I.51.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-margin-bottom"></a><code>bottom</code> (length)</dt>
<dd>
<p>Bottom margin</p>
</dd>
<dt class="hdlist1"><a id="cmd-margin-left"></a><code>left</code> (length)</dt>
<dd>
<p>Left margin</p>
</dd>
<dt class="hdlist1"><a id="cmd-margin-right"></a><code>right</code> (length)</dt>
<dd>
<p>Right margin</p>
</dd>
<dt class="hdlist1"><a id="cmd-margin-top"></a><code>top</code> (length)</dt>
<dd>
<p>Top margin</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_51">I.51.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Margin left="2cm" right="1cm" top="1cm" bottom="1cm"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_49">I.51.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-mark">I.52. Mark</h3>
<div class="paragraph">
<p>Sets an invisible mark into the output. This is helpful when you want to know on which page the mark is placed on.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_52">I.52.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_52">I.52.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_52">I.52.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-mark-append"></a><code>append</code> (optional)</dt>
<dd>
<p>When yes, append the current page to the previous values of the mark. Useful to get page ranges in an index. (Default is no.)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Append the page number to the previous value of the mark.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Replace the previous value.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-mark-pdftarget"></a><code>pdftarget</code> (yes or no, optional)</dt>
<dd>
<p>Set a pdf target that can be referenced by <a href="#cmd-a">A</a></p>
</dd>
<dt class="hdlist1"><a id="cmd-mark-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The name of the mark to be set.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_52">I.52.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pageformat width="210mm" height="4cm"/&gt;

&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;
          Row
          Row
          Row
          Row
        &lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
    &lt;Textblock&gt;
      &lt;Action&gt;
        &lt;Mark select="'textstart'"/&gt;
      &lt;/Action&gt;
      &lt;Paragraph&gt;
        &lt;Value&gt;
          Row
          Row
          Row
        &lt;/Value&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
  &lt;NewPage/&gt;
  &lt;Message select="sd:pagenumber('textstart')"&gt;&lt;/Message&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_6">I.52.5. Info</h4>
<div class="paragraph">
<p>Marks get saved for subsequent runs.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_50">I.52.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-message">I.53. Message</h3>
<div class="paragraph">
<p>Writes a message onto the console and to the protocol file.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_53">I.53.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_53">I.53.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_53">I.53.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-message-error"></a><code>error</code> (optional)</dt>
<dd>
<p>Generate an error besides writing the message.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Report an error.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Do not report an error (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-message-errorcode"></a><code>errorcode</code> (number, optional)</dt>
<dd>
<p>If an error is raised, use this code on exit. Defaults to 1. Negative values are reserved for system purpose.</p>
</dd>
<dt class="hdlist1"><a id="cmd-message-exit"></a><code>exit</code> (optional)</dt>
<dd>
<p>Tells the software to exit immediately.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>The speedata Publisher continues with the PDF creation.</p>
</dd>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>The speedata Publisher exits without finishing the PDF file.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-message-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>Contents of the message. You can alternatively specify the message by the child elements <a href="#cmd-value">Value</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_53">I.53.4. Example</h4>

</div>
<div class="sect3">
<h4 id="xxx_see_also_51">I.53.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-newpage">I.54. NewPage</h3>
<div class="paragraph">
<p>Finishes the current page and creates a new one (only if new material for the page is available).</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_54">I.54.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_54">I.54.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_54">I.54.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-newpage-openon"></a><code>openon</code> (optional)</dt>
<dd>
<p>The next current page will be a left or a right page. E.g. when on page 1 and openon="right" then page 2 is empty and the next current page is 3.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The next objects will be placed on a left page.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The next objects will be placed on a right page.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-newpage-pagetype"></a><code>pagetype</code> (text, optional)</dt>
<dd>
<p>The name of the next page type that should be used.</p>
</dd>
<dt class="hdlist1"><a id="cmd-newpage-skippagetype"></a><code>skippagetype</code> (text, optional)</dt>
<dd>
<p>The pagetype of the blank page if inserted (see the attribute openon).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_54">I.54.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;&lt;Value&gt;This is page 1&lt;/Value&gt;&lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
  &lt;NewPage openon="right"/&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;&lt;Value&gt;And this is page 3&lt;/Value&gt;&lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-nextframe">I.55. NextFrame</h3>
<div class="paragraph">
<p>Switch to the next free frame of a positioning area.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_55">I.55.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_55">I.55.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_55">I.55.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-nextframe-area"></a><code>area</code> (text)</dt>
<dd>
<p>Name of the positioning area.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_55">I.55.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;NextFrame area="articlearea"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_52">I.55.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-nextrow">I.56. NextRow</h3>
<div class="paragraph">
<p>The virtual cursor is set on the next free row.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_56">I.56.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_56">I.56.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_56">I.56.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-nextrow-area"></a><code>area</code> (text, optional)</dt>
<dd>
<p>Name of the area of the virtual cursor.</p>
</dd>
<dt class="hdlist1"><a id="cmd-nextrow-row"></a><code>row</code> (number, optional)</dt>
<dd>
<p>The absolute number of the row for the cursor. If no row is given, the system tries to find a completely free row (perhaps on an empty page).</p>
</dd>
<dt class="hdlist1"><a id="cmd-nextrow-rows"></a><code>rows</code> (number, optional)</dt>
<dd>
<p>The number of rows to clear. Defaults to 1.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_56">I.56.4. Example</h4>

</div>
<div class="sect3">
<h4 id="xxx_see_also_53">I.56.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-nobreak">I.57. NoBreak</h3>
<div class="paragraph">
<p>Don&#8217;t allow a line break within this element</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_57">I.57.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_57">I.57.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_57">I.57.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-nobreak-factor"></a><code>factor</code> (number, optional)</dt>
<dd>
<p>Multiplier for the font size when reduce=fontsize. Default value: 0.9. That means the font size gets decreased by 0.9 until the text fits the objects width.</p>
</dd>
<dt class="hdlist1"><a id="cmd-nobreak-fontface"></a><code>fontface</code> (text, optional)</dt>
<dd>
<p>The name of the fontface for text to be reduced. The default is text (lowercase t).</p>
</dd>
<dt class="hdlist1"><a id="cmd-nobreak-maxwidth"></a><code>maxwidth</code> (number or length, optional)</dt>
<dd>
<p>Set the maximum width of the text if it cannot be deduced from the current surrounding (such as table cells).</p>
</dd>
<dt class="hdlist1"><a id="cmd-nobreak-reduce"></a><code>reduce</code> (optional)</dt>
<dd>
<p>Reduce the text size if necessary.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>fontsize</code></dt>
<dd>
<p>Reduces the text by decreasing the font size.</p>
</dd>
<dt class="hdlist1"><code>cut</code></dt>
<dd>
<p>Inserts text given in the attribute text if the paragraph is too long.</p>
</dd>
<dt class="hdlist1"><code>keeptogether</code></dt>
<dd>
<p>Don&#8217;t allow a line break within NoBreak (default)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-nobreak-text"></a><code>text</code> (optional)</dt>
<dd>
<p>The text to be inserted if the paragraph should be cut. For example '&#8230;&#8203;'</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_57">I.57.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock width="5"&gt;
    &lt;Paragraph&gt;
      &lt;NoBreak reduce="fontsize" factor="0.7"&gt;
        &lt;Value&gt;The quick brown fox jumps over the lazy dog.&lt;/Value&gt;
      &lt;/NoBreak&gt;
      &lt;Value&gt; &lt;/Value&gt;
      &lt;Value&gt;The quick brown fox jumps over the lazy dog.&lt;/Value&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_54">I.57.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-ol">I.58. Ol</h3>
<div class="paragraph">
<p>Create an ordered list, just like in HTML</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_58">I.58.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-li"><code>Li</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_58">I.58.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_58">I.58.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_58">I.58.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Ol&gt;
      &lt;Li&gt;&lt;Value&gt;First item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Second item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Third item&lt;/Value&gt;&lt;/Li&gt;
    &lt;/Ol&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_55">I.58.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-options">I.59. Options</h3>
<div class="paragraph">
<p>Set publisher specific options.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_59">I.59.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_59">I.59.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_59">I.59.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-options-bleed"></a><code>bleed</code> (length, optional)</dt>
<dd>
<p>The amount of bleed. Defaults to 0mm.</p>
</dd>
<dt class="hdlist1"><a id="cmd-options-bleedmarks"></a><code>bleedmarks</code> (optional)</dt>
<dd>
<p>Trim marks will be placed in the PDF. The distance of the marks from the imaginary center is determined by the attribute <code>trim</code>, but is at least 5mm. The length of the cut marks is 1cm. The default of this attribute is <code>no</code>, that means no trim marks will be displayed. The trim marks show the additional trim distance.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show trim marks.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show trim marks (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-crop"></a><code>crop</code> (yes, no or length, optional)</dt>
<dd>
<p>Crop the pages so that the pdf size of the page is at its minimum. Allowed values are yes, no and a length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-options-cutmarks"></a><code>cutmarks</code> (optional)</dt>
<dd>
<p>Cut marks / crop marks will be placed in the PDF. The distance of the marks from the imaginary center is determined by the attribute <code>trim</code>, but is at least 5mm. The length of the cut marks is 1cm. The default of this attribute is <code>no</code>, that means no cut marks will be displayed.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show crop marks.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show crop marks (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-defaultarea"></a><code>defaultarea</code> (text, optional)</dt>
<dd>
<p>Name of the area that is used as a default for placing text (commands <a href="#cmd-output">Output</a> and <a href="#cmd-placeobject">PlaceObject</a>). Default is <code>_page</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-options-ignoreeol"></a><code>ignoreeol</code> (optional)</dt>
<dd>
<p>Ignore newlines in data-xml</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Ignore newlines in data-xml</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Respect newlines in data-xml</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-imagenotfound"></a><code>imagenotfound</code> (optional)</dt>
<dd>
<p>When an image is not found: should the publisher raise an error?</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>warning</code></dt>
<dd>
<p>Show a warning</p>
</dd>
<dt class="hdlist1"><code>error</code></dt>
<dd>
<p>Raise an error (default)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-interaction"></a><code>interaction</code> (yes or no, optional)</dt>
<dd>
<p>If no, switch off all interaction (hyperlinks).</p>
</dd>
<dt class="hdlist1"><a id="cmd-options-mainlanguage"></a><code>mainlanguage</code> (optional)</dt>
<dd>
<p>The default language for text (hyphenation). You can also set the default language on the command line and locally set it at <a href="#cmd-paragraph">Paragraph</a>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-options-reportmissingglyphs"></a><code>reportmissingglyphs</code> (optional)</dt>
<dd>
<p>Issue an error if glyphs are missing from a font.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show error message (default)</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Do not show an error message</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-resetmarks"></a><code>resetmarks</code> (optional)</dt>
<dd>
<p>Yes: ignore the marks file from previous run.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Ignore marks from the previous run.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Use marks from the previous run (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-options-startpage"></a><code>startpage</code> (number, optional)</dt>
<dd>
<p>Set the number of the first page.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_7">I.59.4. Remarks</h4>
<div class="paragraph">
<p>Bleed used to be 'trim' in version 2.7.6 and before.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_59">I.59.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Options
    cutmarks="yes"
    bleed="3mm"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_56">I.59.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-otherwise">I.60. Otherwise</h3>
<div class="paragraph">
<p>Default branch of a <a href="#cmd-switch">Switch</a> command.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_60">I.60.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_60">I.60.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-switch"><code>Switch</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_60">I.60.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_60">I.60.4. Example</h4>
<div class="paragraph">
<p>See the example at <a href="#cmd-switch">Switch</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_57">I.60.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-output">I.61. Output</h3>
<div class="paragraph">
<p>This command is similar to <a href="#cmd-placeobject">PlaceObject</a> and is currently limited to output text which can be broken across positioning frames and which can wrap around objects.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_61">I.61.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-text"><code>Text</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_61">I.61.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_61">I.61.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-output-allocate"></a><code>allocate</code> (optional)</dt>
<dd>
<p>Should text flow around already allocated objects? This currently works on the current page only.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Regular behavior: the text does not flow around objects.</p>
</dd>
<dt class="hdlist1"><code>auto</code></dt>
<dd>
<p>Text flows around allocated objects.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-output-area"></a><code>area</code> (text, optional)</dt>
<dd>
<p>The name of the positioning frame for the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-output-balance"></a><code>balance</code> (optional)</dt>
<dd>
<p>Balance text on the last page (experimental)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Balance the last page</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Do not balance the last page (default)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-output-last-padding-bottom-max"></a><code>last-padding-bottom-max</code> (length, optional)</dt>
<dd>
<p>The maximum padding on the last page when valign-last is set to bottom</p>
</dd>
<dt class="hdlist1"><a id="cmd-output-row"></a><code>row</code> (number, optional)</dt>
<dd>
<p>The starting row for the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-output-valign-last"></a><code>valign-last</code> (optional)</dt>
<dd>
<p>When balancing: align the last columns at the top (default) or bottom (experimental).</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>Top alignment (default)</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>Align at the bottom</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_61">I.61.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="page" test="true()"&gt;
    &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
    &lt;PositioningArea name="text"&gt;
      &lt;PositioningFrame width="9" height="4" row="1" column="1"/&gt;
      &lt;PositioningFrame width="9" height="4" row="1" column="11"/&gt;
      &lt;PositioningFrame width="9" height="4" row="6" column="1"/&gt;
      &lt;PositioningFrame width="9" height="4" row="6" column="11"/&gt;
    &lt;/PositioningArea&gt;
  &lt;/Pagetype&gt;
  &lt;Record element="data"&gt;
    &lt;Output area="text"&gt;
      &lt;Text&gt;
        &lt;Paragraph fontface="text"&gt;
          &lt;Value&gt;A wonderful serenity has taken possession of my entire soul,...&lt;/Value&gt;
        &lt;/Paragraph&gt;
      &lt;/Text&gt;
    &lt;/Output&gt;
  &lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_58">I.61.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-overlay">I.62. Overlay</h3>
<div class="paragraph">
<p>Overlays the first element with the following positions.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_62">I.62.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-circle"><code>Circle</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-rule"><code>Rule</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_62">I.62.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-td"><code>Td</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_62">I.62.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_62">I.62.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table&gt;
    &lt;Tr&gt;
      &lt;Td&gt;
        &lt;Overlay&gt;
          &lt;Image width="5" height="4" file="_samplea.pdf"/&gt;
          &lt;Position x="0" y="0"&gt;
            &lt;Box width="2" height="2" backgroundcolor="white"/&gt;
          &lt;/Position&gt;
          &lt;Position x="0" y="0"&gt;
            &lt;Barcode select="'speedata'" type="QRCode" width="2" height="2"/&gt;
          &lt;/Position&gt;
        &lt;/Overlay&gt;
      &lt;/Td&gt;
      &lt;Td&gt;
        &lt;Image file="_sampleb.pdf" width="5" height="4" clip="no"/&gt;
      &lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>which gives the following output</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/overlay.png" alt="overlay" width="auto">
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_59">I.62.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-pageformat">I.63. Pageformat</h3>
<div class="paragraph">
<p>The size of the PDF pages. Defaults to 210mm width and 297mm height (A4)</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_63">I.63.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_63">I.63.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_63">I.63.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-pageformat-height"></a><code>height</code> (length)</dt>
<dd>
<p>The height of the PDF pages.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pageformat-width"></a><code>width</code> (length)</dt>
<dd>
<p>Width of the PDF pages.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_63">I.63.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pageformat width="150mm" height="150mm"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_60">I.63.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-pagetype">I.64. Pagetype</h3>
<div class="paragraph">
<p>Define a master page. A master page is chosen depending on the criterion given with the attribute test.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_64">I.64.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-grid"><code>Grid</code></a>, <a href="#cmd-margin"><code>Margin</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_64">I.64.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_64">I.64.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-pagetype-defaultcolor"></a><code>defaultcolor</code> (text, optional)</dt>
<dd>
<p>The default text color for this page (unless overridden in Paragraph or Textblock). Defaults to 'black'.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pagetype-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the master page. It is for informational purpose and as a selection for <a href="#cmd-newpage">NewPage</a>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pagetype-test"></a><code>test</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>If this xpath expression evaluates to true, this page is taken as a master page.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_8">I.64.4. Remarks</h4>
<div class="paragraph">
<p>The contents of the element at <a href="#cmd-atpagecreation">AtPageCreation</a> is executed, as soon as something will be placed on the page. The commands inside <a href="#cmd-atpageshipout">AtPageShipout</a> are executed when switching to a new page.</p>
</div>
<div class="paragraph">
<p>When creating a new page, all page types are tried in reversed order. That means that the later defined master pages have a higher priority. This is important if more than one test in a pagetype definition evaluates to true.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_64">I.64.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="right page" test=" sd:odd( sd:current-page() ) "/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="left page" test=" sd:even( sd:current-page() ) "/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="main part right" test=" sd:odd( sd:current-page() ) and $chapter='main' "/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="right page" test="sd:odd( sd:current-page() )"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;PositioningArea name="frame1"&gt;
    &lt;PositioningFrame width="12" height="30" column="2" row="2"/&gt;
    &lt;PositioningFrame width="12" height="30" column="16" row="2"/&gt;
  &lt;/PositioningArea&gt;
  &lt;AtPageCreation&gt;
    &lt;PlaceObject column="1"&gt;
      &lt;!-- header --&gt;
    &lt;/PlaceObject&gt;
  &lt;/AtPageCreation&gt;
  &lt;AtPageShipout&gt;
    &lt;PlaceObject column="1"&gt;
      &lt;!-- footer --&gt;
    &lt;/PlaceObject&gt;
  &lt;/AtPageShipout&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_61">I.64.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-paragraph">I.65. Paragraph</h3>
<div class="paragraph">
<p>Insert a paragraph of text. The width of the paragraph is inherited from the surrounding element.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_65">I.65.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_65">I.65.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_65">I.65.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-paragraph-allowbreak"></a><code>allowbreak</code> (text, optional)</dt>
<dd>
<p>(Experimental!) list of characters where a line break is possible. Space character is not implied when this attribute is set.</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this paragraph.</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-color"></a><code>color</code> (text, optional, CSS property: color)</dt>
<dd>
<p>Color of the paragraph. Must be defined with <a href="#cmd-definecolor">DefineColor</a> before use.</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-fontface"></a><code>fontface</code> (text, optional, CSS property: font-family)</dt>
<dd>
<p>The name of the fontface for the paragraph. The default is text (lowercase t).</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this paragraph.</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-language"></a><code>language</code> (optional)</dt>
<dd>
<p>Name of the language for hyphenation.</p>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-role"></a><code>role</code> (optional)</dt>
<dd>
<p>The role for PDF/UA (accessibility, tagged PDF)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>H1</code></dt>
<dd>
<p>Heading level 1</p>
</dd>
<dt class="hdlist1"><code>P</code></dt>
<dd>
<p>A paragraph.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-paragraph-textformat"></a><code>textformat</code> (text, optional)</dt>
<dd>
<p>Name of the textformat that is applied to the paragraph. If none is specified the textformat <code>text</code> is used.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_65">I.65.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock&gt;
  &lt;Paragraph fontface="Title"&gt;
    &lt;Value&gt;Hello World&lt;/Value&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_62">I.65.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-pdfoptions">I.66. PDFOptions</h3>
<div class="paragraph">
<p>Set PDF options like number of copies and such</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_66">I.66.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_66">I.66.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_66">I.66.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-pdfoptions-author"></a><code>author</code> (text, optional)</dt>
<dd>
<p>Set the author of the document</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-colorprofile"></a><code>colorprofile</code> (optional)</dt>
<dd>
<p>Set the name of the color profile. Has to be defined with <a href="#cmd-definecolorprofile">DefineColorprofile</a>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-duplex"></a><code>duplex</code> (optional)</dt>
<dd>
<p>Set viewer preference to one or two page printing. Default: empty.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>simplex</code></dt>
<dd>
<p>One page per sheet</p>
</dd>
<dt class="hdlist1"><code>duplexflipshortedge</code></dt>
<dd>
<p>Two pages per sheet and flip on short edge</p>
</dd>
<dt class="hdlist1"><code>duplexfliplongedge</code></dt>
<dd>
<p>Two pages per sheet and flip on long edge</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-format"></a><code>format</code> (optional)</dt>
<dd>
<p>Set the output format. Currently limited to <code>PDF/X-3</code>, <code>PDF/X-4</code> and <code>PDF/UA</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>PDF/X-3</code></dt>
<dd>
<p>Set the output to <code>PDF/X-3</code>.</p>
</dd>
<dt class="hdlist1"><code>PDF/X-4</code></dt>
<dd>
<p>Set the output to <code>PDF/X-4</code>.</p>
</dd>
<dt class="hdlist1"><code>PDF/UA</code></dt>
<dd>
<p>Set the output to <code>PDF/UA</code>.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-keywords"></a><code>keywords</code> (text, optional)</dt>
<dd>
<p>Set the keywords of the document (comma separated list).</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-numcopies"></a><code>numcopies</code> (number, optional)</dt>
<dd>
<p>Set the number of copies. At most 5 are allowed in the PDF specification.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-picktraybypdfsize"></a><code>picktraybypdfsize</code> (optional)</dt>
<dd>
<p>Activate the check box in the PDF viewer for choosing the paper tray based on the page size.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Activate checkbox</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Deactivate checkbox</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-printscaling"></a><code>printscaling</code> (optional)</dt>
<dd>
<p>Should the printer scale the pages?</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>appdefault</code></dt>
<dd>
<p>Use the default from the PDF viewer</p>
</dd>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>No page scaling</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-showbookmarks"></a><code>showbookmarks</code> (yes or no, optional)</dt>
<dd>
<p>Show bookmarks in Adobe Acrobat when opening the document.</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-subject"></a><code>subject</code> (text, optional)</dt>
<dd>
<p>Set the subject of the document</p>
</dd>
<dt class="hdlist1"><a id="cmd-pdfoptions-title"></a><code>title</code> (text, optional)</dt>
<dd>
<p>Set the title of the document</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_66">I.66.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PDFOptions numcopies="3"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_63">I.66.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-placeobject">I.67. PlaceObject</h3>
<div class="paragraph">
<p>Outputs a rectangular object (image, table, box, barcode or textblock).</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_67">I.67.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-circle"><code>Circle</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-rule"><code>Rule</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_67">I.67.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_67">I.67.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-placeobject-allocate"></a><code>allocate</code> (optional)</dt>
<dd>
<p>Determines if the area of the object is marked as allocated. With <code>allocate="no"</code>, the cursor position is not changed.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Occupy space in the grid (default for grid positioning).</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t allocate space in the grid (default for absolute positioning).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-allocate-bottom"></a><code>allocate-bottom</code> (number or length, optional)</dt>
<dd>
<p>Additional allocation area to the bottom.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-allocate-left"></a><code>allocate-left</code> (number or length, optional)</dt>
<dd>
<p>Additional allocation area to the left.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-allocate-right"></a><code>allocate-right</code> (number or length, optional)</dt>
<dd>
<p>Additional allocation area to the right.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-allocate-top"></a><code>allocate-top</code> (number or length, optional)</dt>
<dd>
<p>Additional allocation area to the top.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-area"></a><code>area</code> (text, optional)</dt>
<dd>
<p>Name of the (positioning) area, the object is placed in. If no area is given, the object is placed on the main area, the page (this is the area that contains all grid cells).</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-background"></a><code>background</code> (optional)</dt>
<dd>
<p>Fill the background of the object (full grid cells) with a color, given by backgroundcolor.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>full</code></dt>
<dd>
<p>Fill background with the given color (in backgroundcolor).</p>
</dd>
<dt class="hdlist1"><code>without</code></dt>
<dd>
<p>Empty background</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-backgroundcolor"></a><code>backgroundcolor</code> (text, optional)</dt>
<dd>
<p>Color of the background if background is set to full.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-border-bottom-left-radius"></a><code>border-bottom-left-radius</code> (length, optional)</dt>
<dd>
<p>Radius of corner bottom left.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-border-bottom-right-radius"></a><code>border-bottom-right-radius</code> (length, optional)</dt>
<dd>
<p>Radius of corner bottom right.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-border-top-left-radius"></a><code>border-top-left-radius</code> (length, optional)</dt>
<dd>
<p>Radius of corner top left.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-border-top-right-radius"></a><code>border-top-right-radius</code> (length, optional)</dt>
<dd>
<p>Radius of corner top right.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-column"></a><code>column</code> (number or length, optional)</dt>
<dd>
<p>If contents is a number: the grid cell from the left margin of the area. If it is a length: the absolute position from the left paper margin. If this attribute is omitted, the system tries to place the object by itself.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-frame"></a><code>frame</code> (optional)</dt>
<dd>
<p>Draw a frame around the object. You need to supply the frame color.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>solid</code></dt>
<dd>
<p>Draw a frame around the object.</p>
</dd>
<dt class="hdlist1"><code>without</code></dt>
<dd>
<p>Don&#8217;t draw a frame around the object.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-framecolor"></a><code>framecolor</code> (text, optional)</dt>
<dd>
<p>The color of the frame around the object. Only makes sense in combination with the attribute 'frame'.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-groupname"></a><code>groupname</code> (text, optional)</dt>
<dd>
<p>The name of the group that gets output. When given a groupname, PlaceObject should not contain any objects.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-halign"></a><code>halign</code> (optional)</dt>
<dd>
<p>When an object is placed on the grid and it&#8217;s width is not a multiple of grid width, there is a space left on the page between the object an the next grid cell. With this attribute you can instruct the software where to place the gap.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The object is aligned at the left.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>The object is aligned so that the space to the left is the same as to the right.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The object is aligned to the right.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-hreference"></a><code>hreference</code> (optional)</dt>
<dd>
<p>Determines the placement of the object relative to the given column. If 'left' (which is the default), the given column is the left border of the object. If 'right', the column determines the right edge of the object.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The object is placed in given column.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The given columns determines the right edge of the border.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-keepposition"></a><code>keepposition</code> (optional)</dt>
<dd>
<p>Don&#8217;t move the virtual cursor to the next free space</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Don&#8217;t move the virtual cursor.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Move the virtual cursor (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-maxheight"></a><code>maxheight</code> (number, optional)</dt>
<dd>
<p>Only used for multi-page table: the maximum height of tables.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-origin-x"></a><code>origin-x</code> (optional)</dt>
<dd>
<p>The origin for rotation.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The origin is at the left hand side.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>The origin is in the center of the object.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The origin is at the right hand side.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-origin-y"></a><code>origin-y</code> (optional)</dt>
<dd>
<p>The origin for rotation (on the vertical axis)</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>Rotation around a point at the top.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>Rotate around the vertical center.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>Rotate around a point at the bottom.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-page"></a><code>page</code> (number, optional)</dt>
<dd>
<p>The page (later in the PDF), the object should appear on. Number of the keyword next for the next page.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-rotate"></a><code>rotate</code> (number, optional)</dt>
<dd>
<p>Rotates the object.  The amount of movement is defined by the specified angle; if positive, the movement will be clockwise, if negative, it will be counter-clockwise. When the angle is != 0 then grid allocation is turned off.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-row"></a><code>row</code> (number or length, optional)</dt>
<dd>
<p>The row where the object is placed. If none given, the publisher tries to find a row by itself. You can give a number (in grid cells) or an absolute value (from top left).</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-rulewidth"></a><code>rulewidth</code> (length, optional)</dt>
<dd>
<p>The thickness of the frame that is drawn around the object. Only makes sense in combination with the attribute 'frame'.</p>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-valign"></a><code>valign</code> (optional)</dt>
<dd>
<p>When an object is placed on the grid and it&#8217;s height is not a multiple of grid height, there is a space left on the page between the object an the next grid cell. With this attribute you can instruct the software where to place the gap.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>The object is aligned at the top.</p>
</dd>
<dt class="hdlist1"><code>middle</code></dt>
<dd>
<p>The object is aligned so that the space at the top is the same as at the bottom.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>The object is aligned at the bottom.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-placeobject-vreference"></a><code>vreference</code> (optional)</dt>
<dd>
<p>Sets the placement of the object relative to the given row.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>The row determines the bottom edge of the object.</p>
</dd>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>If 'top' (default), the given row is the top border of the object.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_67">I.67.4. Example</h4>
<div class="paragraph">
<p>Positioning inside the grid:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="image"&gt;
  &lt;PlaceObject column="12" frame="solid" framecolor="red"&gt;
    &lt;Image width="10" file="_samplea.pdf"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Absolute positioning (from top left edge):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="image"&gt;
  &lt;PlaceObject column="1cm" row="4cm" frame="solid" framecolor="red"&gt;
    &lt;Image width="10" file="_samplea.pdf"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_7">I.67.5. Info</h4>
<div class="paragraph">
<p>The objects can be placed in a grid (when the value in the attributes row and column are numbers) or they can be placed with absolute positions where the origin is at the top and left border of the page.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_64">I.67.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-position">I.68. Position</h3>
<div class="paragraph">
<p>Add an element to the current <a href="#cmd-overlay">Overlay</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_68">I.68.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-circle"><code>Circle</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-rule"><code>Rule</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_68">I.68.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-overlay"><code>Overlay</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_68">I.68.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-position-x"></a><code>x</code> (number)</dt>
<dd>
<p>The horizontal position (0=left, 100=right).</p>
</dd>
<dt class="hdlist1"><a id="cmd-position-y"></a><code>y</code> (number)</dt>
<dd>
<p>The vertical position (0=bottom, 100=top).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_68">I.68.4. Example</h4>
<div class="paragraph">
<p>See the example at <a href="#cmd-overlay">Overlay</a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_65">I.68.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-positioningarea">I.69. PositioningArea</h3>
<div class="paragraph">
<p>Describes an area which contains one or more frames. Elements can be placed within these frames.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_69">I.69.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-switch"><code>Switch</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_69">I.69.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_69">I.69.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-positioningarea-framecolor"></a><code>framecolor</code> (text, optional)</dt>
<dd>
<p>Set the color of the frame in grid=yes mode. Defaults to 'red'</p>
</dd>
<dt class="hdlist1"><a id="cmd-positioningarea-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the area.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_69">I.69.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="right page" test="sd:odd( sd:current-page() )"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;PositioningArea name="frame1"&gt;
    &lt;PositioningFrame width="12" height="30" column="2" row="2"/&gt;
    &lt;PositioningFrame width="12" height="30" column="16" row="2"/&gt;
  &lt;/PositioningArea&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_66">I.69.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-positioningframe">I.70. PositioningFrame</h3>
<div class="paragraph">
<p>Defines a rectangular area for objects.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_70">I.70.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_70">I.70.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_70">I.70.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-positioningframe-column"></a><code>column</code> (number)</dt>
<dd>
<p>First column of the frame, in grid cells.</p>
</dd>
<dt class="hdlist1"><a id="cmd-positioningframe-height"></a><code>height</code> (number)</dt>
<dd>
<p>The height of the frame in grid cells.</p>
</dd>
<dt class="hdlist1"><a id="cmd-positioningframe-row"></a><code>row</code> (number)</dt>
<dd>
<p>The row number relative to the grid.</p>
</dd>
<dt class="hdlist1"><a id="cmd-positioningframe-width"></a><code>width</code> (number)</dt>
<dd>
<p>The width of the frame in grid cells.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_70">I.70.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="right page" test="sd:odd( sd:current-page() )"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm"/&gt;
  &lt;PositioningArea name="frame1"&gt;
    &lt;PositioningFrame width="12" height="30" column="2" row="2"/&gt;
    &lt;PositioningFrame width="12" height="30" column="16" row="2"/&gt;
  &lt;/PositioningArea&gt;
&lt;/Pagetype&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_67">I.70.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-processnode">I.71. ProcessNode</h3>
<div class="paragraph">
<p>Executes all given nodes. The elements, that are to be executed, are given with the attribute <code>selection</code>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_71">I.71.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_71">I.71.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_71">I.71.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-processnode-limit"></a><code>limit</code> (number, optional)</dt>
<dd>
<p>Limits the number of items processed with this command</p>
</dd>
<dt class="hdlist1"><a id="cmd-processnode-mode"></a><code>mode</code> (text, optional)</dt>
<dd>
<p>Name of the mode. This must match the mode at the corresponding <a href="#cmd-record">Record</a> element. With this it is possible to have different rules for the same element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-processnode-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>Selection of child elements, that are to be processed.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_71">I.71.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;ProcessNode select="*" mode="sum" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_68">I.71.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-record">I.72. Record</h3>
<div class="paragraph">
<p>Contains the instructions when the publisher processes the element in the data file with the given name. The record matching the root element will be called by the software automatically, all further data handling must be done by the user.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_72">I.72.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_72">I.72.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_72">I.72.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-record-element"></a><code>element</code> (text)</dt>
<dd>
<p>The name of the element the record matches.</p>
</dd>
<dt class="hdlist1"><a id="cmd-record-mode"></a><code>mode</code> (text, optional)</dt>
<dd>
<p>Name of the mode that matches the mode in <a href="#cmd-processnode">ProcessNode</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_72">I.72.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="url" mode="output"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;A href="https://www.speedata.de"&gt;&lt;Value&gt;website of speedata&lt;/Value&gt;&lt;/A&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_69">I.72.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-regular">I.73. Regular</h3>
<div class="paragraph">
<p>The (symbolic) name of the fontface for regular text, i.e. without bold or italic.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_73">I.73.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_73">I.73.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_73">I.73.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-regular-fontface"></a><code>fontface</code> (text)</dt>
<dd>
<p>The symbolic name of the font file.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_73">I.73.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="Title" fontsize="12" leading="14"&gt;
  &lt;Regular fontface="Helvetica Regular"/&gt;
  &lt;Bold fontface="Helvetica Bold"/&gt;
  &lt;Italic fontface="Helvetica Italic"/&gt;
  &lt;BoldItalic fontface="Helvetica Bold Italic"/&gt;
&lt;/DefineFontfamily&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This font family can now be accessed like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Textblock fontface="Title"&gt;
  &lt;Paragraph&gt;
    &lt;Value&gt;...&lt;Value&gt;
  &lt;/Paragraph&gt;
&lt;/Textblock&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_70">I.73.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-rule">I.74. Rule</h3>
<div class="paragraph">
<p>Draw a horizontal or vertical rule in the grid.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_74">I.74.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_74">I.74.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_74">I.74.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-rule-color"></a><code>color</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>The color of the rule. Defaults to black.</p>
</dd>
<dt class="hdlist1"><a id="cmd-rule-dashed"></a><code>dashed</code> (optional)</dt>
<dd>
<p>Use a dashed rule instead of a solid rule.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Draw a dashed rule.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Draw a solid rule.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-rule-direction"></a><code>direction</code> ()</dt>
<dd>
<p>The direction of the rule.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>horizontal</code></dt>
<dd>
<p>Horizontal rule</p>
</dd>
<dt class="hdlist1"><code>vertical</code></dt>
<dd>
<p>Vertical rule</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-rule-length"></a><code>length</code> (number or length)</dt>
<dd>
<p>The length of the rule in grid cells or as an absolute length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-rule-rulewidth"></a><code>rulewidth</code> (number or length, optional, CSS property: height)</dt>
<dd>
<p>The rule thickness given in grid cells or as a length.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_74">I.74.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Rule direction="horizontal" length="10" rulewidth="3"/&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_71">I.74.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-savedataset">I.75. SaveDataset</h3>
<div class="paragraph">
<p>Saves an element/attribute structure to be used in the next publisher run. The contents must have a tree structure.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_75">I.75.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-makeindex_"><code>Makeindex</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_75">I.75.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_75">I.75.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-savedataset-attributes"></a><code>attributes</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>The variable (as an XPath expression, e.g. <code>$foo</code>) which contains <a href="#cmd-attribute">Attribute</a> Elements. These attributes are added to the root element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-savedataset-elementname"></a><code>elementname</code> (text)</dt>
<dd>
<p>Name of the root element that surrounds the elements given by the child elements.</p>
</dd>
<dt class="hdlist1"><a id="cmd-savedataset-name"></a><code>name</code> (text)</dt>
<dd>
<p>Name of the file. Example: toc</p>
</dd>
<dt class="hdlist1"><a id="cmd-savedataset-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>Alternative to giving the data structure in the child elements.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_75">I.75.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;Record element="data"&gt;
    &lt;SetVariable variable="attributesvar"&gt;
      &lt;Attribute name="att1" select="'Hello'" /&gt;
      &lt;Attribute name="att2" select="123" /&gt;
    &lt;/SetVariable&gt;

    &lt;SaveDataset name="toc" elementname="root" attributes="$attributesvar"&gt;
      &lt;Element name="child"&gt;
        &lt;Attribute name="attchild" select="999"/&gt;
      &lt;/Element&gt;
    &lt;/SaveDataset&gt;
  &lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code saves an XML file to the disc which has this structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;root att1="Hello" att2="123"&gt;
 &lt;child attchild="999"/&gt;
&lt;/root&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_72">I.75.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-savepages">I.76. SavePages</h3>
<div class="paragraph">
<p>This command is used for two different but similar purposes.</p>
</div>
<div class="paragraph">
<p>1: Everything enclosed in <a href="#cmd-savepages">SavePages</a> is saved internally and not placed into the PDF. Useful if the output might be discarded.</p>
</div>
<div class="paragraph">
<p>2: Future mode: Create pages that have been previously reserved by <a href="#cmd-insertpages">InsertPages</a>.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_76">I.76.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attachfile"><code>AttachFile</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pdfoptions"><code>PDFOptions</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-pagetype"><code>Pagetype</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_76">I.76.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_76">I.76.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-savepages-name"></a><code>name</code> (text)</dt>
<dd>
<p>The name of the discarded output (1) or for the reserved pages (2). For later/earlier retrieval with <a href="#cmd-insertpages">InsertPages</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_9">I.76.4. Remarks</h4>
<div class="paragraph">
<p>The second mode has been introduced in version 3.7.12.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_76">I.76.5. Example</h4>
<div class="paragraph">
<p>First mode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SavePages name="foo"&gt;
    &lt;Loop select="100"&gt;
      &lt;PlaceObject&gt;
        &lt;Textblock&gt;
          &lt;Paragraph&gt;&lt;Value&gt;Hello world&lt;/Value&gt;&lt;/Paragraph&gt;
        &lt;/Textblock&gt;
      &lt;/PlaceObject&gt;
    &lt;/Loop&gt;
  &lt;/SavePages&gt;
  &lt;Message select="sd:count-saved-pages('foo')"/&gt;
  &lt;InsertPages name="foo"/&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Future mode</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Layout xmlns="urn:speedata.de:2009/publisher/en"
    xmlns:sd="urn:speedata:2009/publisher/functions/en"&gt;
    &lt;Pageformat height="5cm" width="5cm"/&gt;

    &lt;Record element="data"&gt;
        &lt;InsertPages name="firstpage" pages="1"/&gt;
        &lt;Loop select="4" variable="n"&gt;
            &lt;PlaceObject&gt;
                &lt;Textblock&gt;
                    &lt;Paragraph&gt;
                        &lt;Value select="$n" /&gt;
                    &lt;/Paragraph&gt;
                &lt;/Textblock&gt;
            &lt;/PlaceObject&gt;
            &lt;NewPage/&gt;
        &lt;/Loop&gt;
        &lt;SavePages name="firstpage"&gt;
            &lt;PlaceObject&gt;
                &lt;Textblock&gt;
                    &lt;Paragraph&gt;
                        &lt;Value&gt;This will be the first page&lt;/Value&gt;
                    &lt;/Paragraph&gt;
                &lt;/Textblock&gt;
            &lt;/PlaceObject&gt;
        &lt;/SavePages&gt;
    &lt;/Record&gt;
&lt;/Layout&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_73">I.76.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-setgrid">I.77. SetGrid</h3>
<div class="paragraph">
<p>Set size of the grid cells. All objects are placed in the grid.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_77">I.77.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_77">I.77.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_77">I.77.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-setgrid-dx"></a><code>dx</code> (optional)</dt>
<dd>
<p>Distance between two grid cells (horizontal)</p>
</dd>
<dt class="hdlist1"><a id="cmd-setgrid-dy"></a><code>dy</code> (optional)</dt>
<dd>
<p>Distance between two grid cells (horizontal)</p>
</dd>
<dt class="hdlist1"><a id="cmd-setgrid-height"></a><code>height</code> (length, optional)</dt>
<dd>
<p>The height of a grid cell. Use either height or ny, but not both.</p>
</dd>
<dt class="hdlist1"><a id="cmd-setgrid-nx"></a><code>nx</code> (number, optional)</dt>
<dd>
<p>Specify the number of grid cells in horizontal direction. Use either nx or width, not both.</p>
</dd>
<dt class="hdlist1"><a id="cmd-setgrid-ny"></a><code>ny</code> (number, optional)</dt>
<dd>
<p>Set the number of grid cells in vertical direction. Give ny or height, but not both.</p>
</dd>
<dt class="hdlist1"><a id="cmd-setgrid-width"></a><code>width</code> (length, optional)</dt>
<dd>
<p>The width of a grid cell. Use either width or nx, not both.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_77">I.77.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;SetGrid width="4mm" height="14pt"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_74">I.77.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-setvariable">I.78. SetVariable</h3>
<div class="paragraph">
<p>Associates a value with a variable name. The value can be a simple value or a more complex one consisting of several elements.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_78">I.78.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_78">I.78.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_78">I.78.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-setvariable-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>The value of the contents.</p>
</dd>
<dt class="hdlist1"><a id="cmd-setvariable-trace"></a><code>trace</code> (optional)</dt>
<dd>
<p>Show information about the assignment in the log file.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show information.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show information (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-setvariable-variable"></a><code>variable</code> (text)</dt>
<dd>
<p>The name of the variable that holds the contents.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_10">I.78.4. Remarks</h4>
<div class="paragraph">
<p>Variables have global scope.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_78">I.78.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="product"&gt;
  &lt;SetVariable variable="wd" select="5"/&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock width="{ $wd }"&gt;
      &lt;Paragraph&gt;
        &lt;Value select="$articlenumber"/&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a more complex scenario: you can collect complex elements in a variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="products"&gt;
  &lt;SetVariable variable="articletext"/&gt;
  &lt;ProcessNode select="article"/&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Value select=" $articletext "/&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;

&lt;Record element="article"&gt;
  &lt;SetVariable variable="articletext"&gt;
    &lt;!-- the previous contents is added --&gt;
    &lt;Value select="$articletext"/&gt;
    &lt;Paragraph&gt;
      &lt;Value select=" @description "/&gt;
    &lt;/Paragraph&gt;
  &lt;/SetVariable&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_75">I.78.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-sortsequence">I.79. SortSequence</h3>
<div class="paragraph">
<p>Sort a list.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_79">I.79.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_79">I.79.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_79">I.79.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-sortsequence-criterion"></a><code>criterion</code> (text)</dt>
<dd>
<p>Name of the attribute that is used as the sort key.</p>
</dd>
<dt class="hdlist1"><a id="cmd-sortsequence-numerical"></a><code>numerical</code> (optional)</dt>
<dd>
<p>Sort alphabetical or numerical</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Sort alphabetical</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Sort alphabetical (default)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-sortsequence-order"></a><code>order</code> (optional)</dt>
<dd>
<p>Select the sorting order</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ascending</code></dt>
<dd>
<p>Use ascending sort order (default)</p>
</dd>
<dt class="hdlist1"><code>descending</code></dt>
<dd>
<p>Use descending sort order</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-sortsequence-removeduplicates"></a><code>removeduplicates</code> (text, optional)</dt>
<dd>
<p>If this attribute is used then it contains the name of the data-attribute that gets evaluated when duplicates are eliminated.</p>
</dd>
<dt class="hdlist1"><a id="cmd-sortsequence-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>The data that should be sorted.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_79">I.79.4. Example</h4>
<div class="paragraph">
<p>Data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;elt value="one"/&gt;
  &lt;elt value="two"/&gt;
  &lt;elt value="three"/&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Layout:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="unsorted" select="*"/&gt;
  &lt;SetVariable variable="sorted"&gt;
    &lt;SortSequence select="$unsorted" criterion="value"/&gt;
  &lt;/SetVariable&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;ForAll select="$sorted"&gt;
        &lt;Paragraph&gt;&lt;Value select="@value"&gt;&lt;/Value&gt;&lt;/Paragraph&gt;
      &lt;/ForAll&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_76">I.79.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-stylesheet">I.80. Stylesheet</h3>
<div class="paragraph">
<p>Load a CSS file or define CSS rules</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_80">I.80.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_80">I.80.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_80">I.80.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-stylesheet-filename"></a><code>filename</code> (text, optional)</dt>
<dd>
<p>The filename of the CSS stylesheet including the file extension.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_11">I.80.4. Remarks</h4>
<div class="paragraph">
<p>If no filename is given, the speedata Publisher expects the CSS rules as the contents of this element.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_80">I.80.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Stylesheet filename="style.css" /&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Stylesheet&gt;
  frame {
    border-bottom-right-radius: 1cm;
    border-bottom-left-radius: 1cm;
    border-top-right-radius: 1cm;
    border-top-left-radius: 1cm;
  }
  box {
    background-color: red;
  }
&lt;/Stylesheet&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_77">I.80.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-span">I.81. Span</h3>
<div class="paragraph">
<p>Surround text by styling options.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_81">I.81.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_81">I.81.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_81">I.81.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-span-background-color"></a><code>background-color</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>The background color of the content</p>
</dd>
<dt class="hdlist1"><a id="cmd-span-background-padding-bottom"></a><code>background-padding-bottom</code> (length, optional, CSS property: background-padding-bottom)</dt>
<dd>
<p>The bottom padding of the background color (can be negative)</p>
</dd>
<dt class="hdlist1"><a id="cmd-span-background-padding-top"></a><code>background-padding-top</code> (length, optional, CSS property: background-padding-top)</dt>
<dd>
<p>The top padding of the background color (can be negative)</p>
</dd>
<dt class="hdlist1"><a id="cmd-span-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-span-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-span-letter-spacing"></a><code>letter-spacing</code> (length, optional, CSS property: letter-spacing)</dt>
<dd>
<p>Increase spacing between glyphs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_81">I.81.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Stylesheet&gt;
  .green { background-color: lightgreen; }
&lt;/Stylesheet&gt;

&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;Span class="green"&gt;&lt;Value&gt;green&lt;/Value&gt;&lt;/Span&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_78">I.81.5. See also</h4>

</div>
<div class="sect3">
<h4 id="xxx_see_also_79">I.81.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-sup">I.82. Sup</h3>
<div class="paragraph">
<p>Superscript text.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_82">I.82.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_82">I.82.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_82">I.82.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_82">I.82.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;&lt;Value&gt;Text&lt;/Value&gt;&lt;Sup&gt;&lt;Value&gt;high&lt;/Value&gt;&lt;/Sup&gt;&lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_80">I.82.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-switch">I.83. Switch</h3>
<div class="paragraph">
<p>Create an if-then-else construct. The test attribute of each <a href="#cmd-case">Case</a> commands is evaluated until it yields true. The contents of the Case gets executed. If no test succeeds, the (optional) <a href="#cmd-otherwise">Otherwise</a> gets executed.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_83">I.83.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_83">I.83.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_83">I.83.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_83">I.83.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="counter" select="3"/&gt;
  &lt;Switch&gt;
    &lt;Case test=" $counter &amp;lt; 5"&gt;
      &lt;SetVariable variable="text" select="'Less than 5'"/&gt;
    &lt;/Case&gt;
    &lt;Case test=" $counter &amp;lt; 20"&gt;
      &lt;SetVariable variable="text" select="'Less than 20'"/&gt;
    &lt;/Case&gt;
    &lt;Otherwise&gt;
      &lt;SetVariable variable="text" select="'Larger or equal to 20'"/&gt;
    &lt;/Otherwise&gt;
  &lt;/Switch&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;&lt;Value select="$text"/&gt;&lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_info_8">I.83.5. Info</h4>
<div class="paragraph">
<p>You have to be careful to encode the test with the rules of XML: that is less must be written as <code>&amp;lt;</code>, since <code>&lt;</code> must not be part of text contents.</p>
</div>
<div class="paragraph">
<p>A Switch may be part of nearly all commands. It dissolves and only the contents of the Case or Otherwise gets replaced by the whole construct.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_81">I.83.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-table">I.84. Table</h3>
<div class="paragraph">
<p>Create a table that is similar to the HTML table model.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_84">I.84.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-tr"><code>Tr</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_84">I.84.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_84">I.84.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-table-balance"></a><code>balance</code> (optional)</dt>
<dd>
<p>Tries to balance the table on the last page according to the number of frames. Experimental!</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Tries to balance.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>First column will filled first, default</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-table-border-collapse"></a><code>border-collapse</code> (optional)</dt>
<dd>
<p>Determine if adjacent table cells share borders. The behavior of border-collapse="collapse" is undefined when the table has columndistance or rowdistance set to a non-zero value and if the adjacent borders don&#8217;t have the same width and color.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>separate</code></dt>
<dd>
<p>The borders are part of the cell and not shared with its neighbors.</p>
</dd>
<dt class="hdlist1"><code>collapse</code></dt>
<dd>
<p>The borders of neighboring cells overlap.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-table-columndistance"></a><code>columndistance</code> (length, optional)</dt>
<dd>
<p>Distance between two table columns.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-eval"></a><code>eval</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>Evaluates the given XPath expression and discards its output.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-fontface"></a><code>fontface</code> (text, optional)</dt>
<dd>
<p>Name of the font family for the table. If not given, the font face text is used.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-leading"></a><code>leading</code> (length, optional)</dt>
<dd>
<p>The distance between two rows.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-padding"></a><code>padding</code> (length, optional)</dt>
<dd>
<p>The distance between the table border and the table contents.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-stretch"></a><code>stretch</code> (optional)</dt>
<dd>
<p>If the table contents is narrow and stretch has the value no, the table only uses the minimal width. If the table contents is wider than the value width or stretch has the value max, the table&#8217;s width is the size given in the width attribute.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>max</code></dt>
<dd>
<p>Stretch the table to its given width.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>The table width is the minimum width depending on it&#8217;s contents.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-table-textformat"></a><code>textformat</code> (text, optional)</dt>
<dd>
<p>The text format for the table. Defaults to <code>__leftaligned</code> if no align attribute is given.</p>
</dd>
<dt class="hdlist1"><a id="cmd-table-width"></a><code>width</code> (number or length, optional)</dt>
<dd>
<p>The maximum width of the table (in grid cells or absolute values). Defaults to the available space.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_12">I.84.4. Remarks</h4>
<div class="paragraph">
<p>The table cells may contain Paragraphs, Images and other objects that are allowed in <a href="#cmd-placeobject">PlaceObject</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_84">I.84.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Table stretch="max" padding="1pt"&gt;
      &lt;Tablehead&gt;
        &lt;Tr backgroundcolor="gray"&gt;
          &lt;Td colspan="3"/&gt;
          &lt;Td border-left="0.2pt" border-left-color="white" colspan="6" align="center"&gt;
            &lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;Total&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td border-left="0.2pt" border-left-color="white"/&gt;
        &lt;/Tr&gt;
        &lt;Tr backgroundcolor="gray"&gt;
          &lt;Td/&gt;
          &lt;Td&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;Clubs&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;P&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center" border-left="0.2pt" border-left-color="white"&gt;
            &lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;W&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;D&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;L&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;F&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;A&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;+/-&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center" border-left="0.2pt" border-left-color="white"&gt;
            &lt;Paragraph&gt;&lt;B&gt;&lt;Value&gt;Pts&lt;/Value&gt;&lt;/B&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
      &lt;/Tablehead&gt;
      &lt;ForAll select="entry"&gt;
        &lt;Tr&gt;
          &lt;Td align="left"&gt;&lt;Paragraph&gt;&lt;Value select="@pos"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="left"&gt;&lt;Paragraph&gt;&lt;Value select="@name"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@p"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center" border-left="0.2pt" border-left-color="gray"&gt;
            &lt;Paragraph&gt;&lt;Value select="@tw"/&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@td"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@tl"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@ta"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@tf"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value select="@tpm"/&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
          &lt;Td align="center" border-left="0.2pt" border-left-color="gray"&gt;
            &lt;Paragraph&gt;&lt;Value select="@pts"/&gt;&lt;/Paragraph&gt;
          &lt;/Td&gt;
        &lt;/Tr&gt;
      &lt;/ForAll&gt;
    &lt;/Table&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the following data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;data&gt;
  &lt;entry pos="1" name="Paris Saint-Germain FC" p="6"
  	  tw="5" td="0" tl="1" tf="14" ta="3" tpm="11" pts="15" /&gt;
  &lt;entry pos="2" name="FC Porto" p="6"
  	  tw="4" td="1" tl="1" tf="10" ta="4" tpm="6" pts="13" /&gt;
  &lt;entry pos="3" name="FC Dynamo Kyiv" p="6"
  	  tw="1" td="2" tl="3" tf="6"  ta="10" tpm="-4" pts="5" /&gt;
  &lt;entry pos="4" name="GNK Dinamo Zagreb" p="6"
  	  tw="0" td="1" tl="5" tf="1"  ta="14" tpm="-13" pts="1" /&gt;
&lt;/data&gt;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../dbmanual/assets/img/ref-table-en.png" alt="ref table en" width="auto">
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_82">I.84.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-tablenewpage">I.85. TableNewPage</h3>
<div class="paragraph">
<p>Switches to a new page within the table.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_85">I.85.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_85">I.85.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_85">I.85.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_85">I.85.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Table stretch="max"&gt;
    &lt;Tr&gt;
      &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;One&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
    &lt;/Tr&gt;
    &lt;TableNewPage/&gt;
    &lt;Tr&gt;
      &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;Two&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
    &lt;/Tr&gt;
  &lt;/Table&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second row of the table is on the next page.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_83">I.85.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-tablefoot">I.86. Tablefoot</h3>
<div class="paragraph">
<p>Create a repeating table footer.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_86">I.86.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-tr"><code>Tr</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_86">I.86.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-table"><code>Table</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_86">I.86.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-tablefoot-page"></a><code>page</code> (optional)</dt>
<dd>
<p>This command is only valid for the given pages. The default is to place the foot on all pages.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>all</code></dt>
<dd>
<p>Place the footer on all pages.</p>
</dd>
<dt class="hdlist1"><code>last</code></dt>
<dd>
<p>Display the table footer only on the last page.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_86">I.86.4. Example</h4>
<div class="paragraph">
<p>See the description of <a href="#cmd-table">Table</a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_84">I.86.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-tablehead">I.87. Tablehead</h3>
<div class="paragraph">
<p>Create a repeating table head.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_87">I.87.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-tr"><code>Tr</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_87">I.87.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_87">I.87.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-tablehead-page"></a><code>page</code> (optional)</dt>
<dd>
<p>The page the table head should appear on. Defaults to all</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>first</code></dt>
<dd>
<p>Only appear on the first page.</p>
</dd>
<dt class="hdlist1"><code>all</code></dt>
<dd>
<p>All pages. If first is defined, the tablehead appears on all pages but the first.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_13">I.87.4. Remarks</h4>
<div class="paragraph">
<p>The contents of the table head gets repeated on every page of a broken table.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_87">I.87.5. Example</h4>
<div class="paragraph">
<p>See the explanation of <a href="#cmd-table">Table</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_85">I.87.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-tablerule">I.88. Tablerule</h3>
<div class="paragraph">
<p>Insert a horizontal rule in a table</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_88">I.88.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_88">I.88.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_88">I.88.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-tablerule-break-below"></a><code>break-below</code> (yes or no, optional)</dt>
<dd>
<p>Allow break below the table rule?</p>
</dd>
<dt class="hdlist1"><a id="cmd-tablerule-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tablerule-color"></a><code>color</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>The color of the rule. Defaults to black.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tablerule-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tablerule-rulewidth"></a><code>rulewidth</code> (length, optional, CSS property: height)</dt>
<dd>
<p>The width (thickness) of the rule. Defaults to 0.25pt.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tablerule-start"></a><code>start</code> (number, optional, CSS property: rule-start)</dt>
<dd>
<p>The first column of the rule. Defaults to 1.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_88">I.88.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tablerule rulewidth="1pt"/&gt;
&lt;Tr&gt;
  &lt;Td align="center"&gt;Position&lt;/Td&gt;
  &lt;Td align="center"&gt;Club&lt;/Td&gt;
  &lt;Td align="center"&gt;Points&lt;/Td&gt;
  &lt;Td align="center"&gt;Difference&lt;/Td&gt;
&lt;/Tr&gt;
&lt;Tablerule rulewidth="0.6pt"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_86">I.88.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-td">I.89. Td</h3>
<div class="paragraph">
<p>Td wraps a table cell, just like HTML.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_89">I.89.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-groupcontents"><code>Groupcontents</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-vspace"><code>VSpace</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_89">I.89.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_89">I.89.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-td-align"></a><code>align</code> (optional, CSS property: text-align)</dt>
<dd>
<p>Horizontal alignment of the cell contents. Defaults to left.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The contents is left aligned (ragged right). This is the default.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The contents of the cell is right aligned.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>The contents of the cell is aligned at the center, with ragged right and left margin.</p>
</dd>
<dt class="hdlist1"><code>justify</code></dt>
<dd>
<p>Justified text with straight margins.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-td-background-font-family"></a><code>background-font-family</code> (text, optional, CSS property: background-font-family)</dt>
<dd>
<p>Set the font family of the background text. Defaults to the table font.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-background-size"></a><code>background-size</code> (optional, CSS property: background-size)</dt>
<dd>
<p>Controls the size of the background text. Currently only 'contain' and 'auto' is allowed.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>contain</code></dt>
<dd>
<p>Fill the height of the table cell.</p>
</dd>
<dt class="hdlist1"><code>auto</code></dt>
<dd>
<p>The background text is not scaled.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-td-background-text"></a><code>background-text</code> (optional, CSS property: background-text)</dt>
<dd>
<p>A text that should be placed in the background of the table cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-background-textcolor"></a><code>background-textcolor</code> (optional, CSS property: background-textcolor)</dt>
<dd>
<p>The color of the text in the background (if any).</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-background-transform"></a><code>background-transform</code> (optional, CSS property: background-transform)</dt>
<dd>
<p>The transformation of the background text (if any). Currently supported: <code>rotate(-40deg)</code> (and other angles in the range 0 to -90).</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-backgroundcolor"></a><code>backgroundcolor</code> (text, optional, CSS property: background-color)</dt>
<dd>
<p>The name of the background color (if the cell should get a background).</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-bottom"></a><code>border-bottom</code> (length, optional, CSS property: border-bottom-width)</dt>
<dd>
<p>The width (thickness) of the bottom border. The border is inside the cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-bottom-color"></a><code>border-bottom-color</code> (text, optional, CSS property: border-bottom-color)</dt>
<dd>
<p>The color of the bottom border.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-left"></a><code>border-left</code> (length, optional, CSS property: border-left-width)</dt>
<dd>
<p>The width (thickness) of the left border. The border is inside the cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-left-color"></a><code>border-left-color</code> (text, optional, CSS property: border-left-color)</dt>
<dd>
<p>The color of the left border.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-right"></a><code>border-right</code> (length, optional, CSS property: border-right-width)</dt>
<dd>
<p>The width (thickness) of the right border. The border is inside the cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-right-color"></a><code>border-right-color</code> (text, optional, CSS property: border-right-color)</dt>
<dd>
<p>The color of the left border.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-top"></a><code>border-top</code> (length, optional, CSS property: border-top-width)</dt>
<dd>
<p>The width (thickness) of the top border. The border is inside the cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-border-top-color"></a><code>border-top-color</code> (text, optional, CSS property: border-top-color)</dt>
<dd>
<p>The color of the top border.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>The css class to be used for formatting the table cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-colspan"></a><code>colspan</code> (number, optional)</dt>
<dd>
<p>The number of columns this cell spans. Defaults to 1.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this table cell.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-padding"></a><code>padding</code> (length, optional, CSS property: padding)</dt>
<dd>
<p>Shorthand for setting padding-top and the other values with this length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-padding-bottom"></a><code>padding-bottom</code> (length, optional, CSS property: padding-bottom)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the bottom edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-padding-left"></a><code>padding-left</code> (length, optional, CSS property: padding-left)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the left edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-padding-right"></a><code>padding-right</code> (length, optional, CSS property: padding-right)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the right edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-padding-top"></a><code>padding-top</code> (length, optional, CSS property: padding-top)</dt>
<dd>
<p>Set the inner distance (width between contents and the border) to the top edge.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-rotate"></a><code>rotate</code> (number, optional)</dt>
<dd>
<p>Rotate the contents of the table cell. Positive values return clockwise. This is experimental and currently only for text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-rowspan"></a><code>rowspan</code> (number, optional)</dt>
<dd>
<p>The number of rows for this cell. Defaults to 1.</p>
</dd>
<dt class="hdlist1"><a id="cmd-td-valign"></a><code>valign</code> (optional, CSS property: vertical-align)</dt>
<dd>
<p>The vertical alignment of the cell.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>The contents is aligned at the top edge of the cell.</p>
</dd>
<dt class="hdlist1"><code>middle</code></dt>
<dd>
<p>The contents is vertically centered.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>The contents is aligned at the bottom edge of the cell.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_14">I.89.4. Remarks</h4>
<div class="paragraph">
<p>The child elements of the table cells are either block objects that start a new line or inline objects that are placed horizontally next to each other (from left to right) until the width of the table cell forces a line break.
        Block objects are <a href="#cmd-paragraph">Paragraph</a>, <a href="#cmd-table">Table</a> and <a href="#cmd-box">Box</a>, inline objects are <a href="#cmd-barcode">Barcode</a> and <a href="#cmd-image">Image</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_89">I.89.5. Example</h4>
<div class="paragraph">
<p>The following example places a background text behind the Td cell.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;DefineFontfamily name="td-background" fontsize="12" leading="12"&gt;
  &lt;Regular fontface="TeXGyreHeros-Bold"/&gt;
&lt;/DefineFontfamily&gt;

&lt;Record element="data"&gt;
   &lt;PlaceObject&gt;
     &lt;Table stretch="max"&gt;
       &lt;Columns&gt;
         &lt;Column width="5cm"/&gt;
       &lt;/Columns&gt;
       &lt;Tr&gt;
         &lt;Td border-top="0.25pt" border-bottom="0.25pt"
            background-text="hello!"
            background-textcolor="goldenrod"
            background-transform="rotate(-30deg)"
            background-size="contain"
            background-font-family="td-background"&gt;
           &lt;Paragraph&gt;&lt;Value&gt;A wonderful serenity has taken possession of my entire soul,
             like these sweet mornings of spring which I enjoy with my whole heart.&lt;/Value&gt;
           &lt;/Paragraph&gt;
         &lt;/Td&gt;
       &lt;/Tr&gt;
     &lt;/Table&gt;
   &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_87">I.89.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-text">I.90. Text</h3>
<div class="paragraph">
<p>Create a text that can be broken across text containers or pages. To be used with <a href="#cmd-output">Output</a></p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_90">I.90.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-html"><code>HTML</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-ol"><code>Ol</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-ul"><code>Ul</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_90">I.90.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-output"><code>Output</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_90">I.90.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-text-color"></a><code>color</code> (text, optional)</dt>
<dd>
<p>The name of the color of the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-text-fontface"></a><code>fontface</code> (text, optional)</dt>
<dd>
<p>The name of the font family. Defaults to <code>text</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-text-textformat"></a><code>textformat</code> (text, optional)</dt>
<dd>
<p>The name of the text format to be applied to the text. Defaults to <code>text</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_90">I.90.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Pagetype name="page" test="true()"&gt;
  &lt;Margin left="1cm" right="1cm" top="1cm" bottom="1cm" /&gt;
  &lt;PositioningArea name="text"&gt;
    &lt;PositioningFrame width="4" height="10" row="1" column="1" /&gt;
    &lt;PositioningFrame width="4" height="10" row="1" column="6" /&gt;
  &lt;/PositioningArea&gt;
&lt;/Pagetype&gt;
&lt;Record element="data"&gt;
  &lt;Output area="text"&gt;
    &lt;Text&gt;
      &lt;Paragraph&gt;
        &lt;Value select="string(.)" /&gt;
      &lt;/Paragraph&gt;
    &lt;/Text&gt;
  &lt;/Output&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_88">I.90.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-textblock">I.91. Textblock</h3>
<div class="paragraph">
<p>Create a rectangular piece of text.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_91">I.91.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-ol"><code>Ol</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-ul"><code>Ul</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_91">I.91.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_91">I.91.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-textblock-angle"></a><code>angle</code> (number, optional)</dt>
<dd>
<p>The angle (counter clockwise) that the text gets turned.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-color"></a><code>color</code> (text, optional)</dt>
<dd>
<p>The name of the color of the text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-columndistance"></a><code>columndistance</code> (number or length, optional)</dt>
<dd>
<p>Distance between two columns. Defaults to 3mm.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-columns"></a><code>columns</code> (number, optional)</dt>
<dd>
<p>Number of columns in the textblock. Do not use multi columns for any other purposes than simple text.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-fontface"></a><code>fontface</code> (text, optional)</dt>
<dd>
<p>The name of the font family. Defaults to <code>text</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-minheight"></a><code>minheight</code> (number or length, optional)</dt>
<dd>
<p>The minimum height of the textblock, given as a length or number (grid cells).</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-textformat"></a><code>textformat</code> (text, optional)</dt>
<dd>
<p>The name of the text format to be applied to the text. Defaults to <code>text</code>.</p>
</dd>
<dt class="hdlist1"><a id="cmd-textblock-width"></a><code>width</code> (number, optional)</dt>
<dd>
<p>Number of columns for the text. If not given, the surrounding element determines the width of the element.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_15">I.91.4. Remarks</h4>
<div class="paragraph">
<p>The textformat change the appearance of the paragraphs. They have to be previously defined by <a href="#cmd-definetextformat">DefineTextformat</a>.</p>
</div>
<div class="paragraph">
<p>Be careful when using multi column typesetting. This will only work with simple text, not with lists or so.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_91">I.91.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock width="10" angle="-20"&gt;
      &lt;Paragraph&gt;
        &lt;B&gt;&lt;Value&gt;Bold slanted text&lt;/Value&gt;&lt;/B&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_89">I.91.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-tr">I.92. Tr</h3>
<div class="paragraph">
<p>Tablerow</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_92">I.92.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-td"><code>Td</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_92">I.92.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablefoot"><code>Tablefoot</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_92">I.92.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-tr-align"></a><code>align</code> (optional)</dt>
<dd>
<p>Horizontal alignment of the table cells in this row.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>left</code></dt>
<dd>
<p>The contents is left aligned (ragged right). This is the default.</p>
</dd>
<dt class="hdlist1"><code>right</code></dt>
<dd>
<p>The contents of the cell is right aligned.</p>
</dd>
<dt class="hdlist1"><code>center</code></dt>
<dd>
<p>The contents of the cell is aligned at the center, with ragged right and left margin.</p>
</dd>
<dt class="hdlist1"><code>justify</code></dt>
<dd>
<p>Justified text with straight margins.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-tr-backgroundcolor"></a><code>backgroundcolor</code> (text, optional)</dt>
<dd>
<p>Background color of each cell in this row.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tr-break-below"></a><code>break-below</code> (optional)</dt>
<dd>
<p>Allow a table break between this row and the following.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Allow a table break between this row and the following (default).</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Disable a table break between this row and the following.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-tr-data"></a><code>data</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>Data that can be accessed via <code>$_last_tr_data</code> in the tablefoot and tablehead.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tr-minheight"></a><code>minheight</code> (number or length, optional)</dt>
<dd>
<p>Minimum row height in grid cells or length.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tr-sethead"></a><code>sethead</code> (optional)</dt>
<dd>
<p>Use this line for future table heads.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Use this line for future table heads.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>No special treatment of this line (default).</p>
</dd>
<dt class="hdlist1"><code>clear</code></dt>
<dd>
<p>Delete head. Next pages will have no head until new one is set with 'yes'.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-tr-top-distance"></a><code>top-distance</code> (number or length, optional)</dt>
<dd>
<p>The space above this row if it is not the first line on a new page / area.</p>
</dd>
<dt class="hdlist1"><a id="cmd-tr-valign"></a><code>valign</code> (optional)</dt>
<dd>
<p>Vertical alignment of the table cells in this row.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>top</code></dt>
<dd>
<p>The objects in this row are aligned at the top.</p>
</dd>
<dt class="hdlist1"><code>middle</code></dt>
<dd>
<p>The objects in this row are aligned at the middle axis.</p>
</dd>
<dt class="hdlist1"><code>bottom</code></dt>
<dd>
<p>The objects in this row are aligned at the bottom.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_92">I.92.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Tr minheight="8mm" backgroundcolor="yellow"&gt;
  &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value&gt;A&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
  &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;B&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
  &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value&gt;C&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
  &lt;Td align="center"&gt;&lt;Paragraph&gt;&lt;Value&gt;D&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
  &lt;Td&gt;&lt;Paragraph&gt;&lt;Value&gt;E&lt;/Value&gt;&lt;/Paragraph&gt;&lt;/Td&gt;
&lt;/Tr&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_90">I.92.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-trace">I.93. Trace</h3>
<div class="paragraph">
<p>Set debugging switches</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_93">I.93.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_93">I.93.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_93">I.93.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-trace-assignments"></a><code>assignments</code> (optional)</dt>
<dd>
<p>Write assignments (<a href="#cmd-setvariable">SetVariable</a>) to the log file.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Verbose output in the protocol file.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Regular run (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-grid"></a><code>grid</code> (optional)</dt>
<dd>
<p>Draw the grid on the page.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show the grid.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show the grid (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-gridallocation"></a><code>gridallocation</code> (optional)</dt>
<dd>
<p>Draw allocated cells with yellow and conflicts with red markers.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show grid allocation.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show the grid allocation (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-hyphenation"></a><code>hyphenation</code> (optional)</dt>
<dd>
<p>Draw little marks to show all hyphenation points.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show hyphenation points.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show any hyphenation points (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-objects"></a><code>objects</code> (optional)</dt>
<dd>
<p>Draw rectangles around objects.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Draw rectangles</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>No rectangles drawn around objects (default).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-textformat"></a><code>textformat</code> (optional)</dt>
<dd>
<p>Show textformt as a tooltip in the PDF</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Show textformat</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Don&#8217;t show textformat (default)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-trace-verbose"></a><code>verbose</code> (optional)</dt>
<dd>
<p>Verbose output in the protocol file.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Verbose output in the protocol file.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Regular run (default).</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_93">I.93.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Trace textformat="yes"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_91">I.93.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-transformation">I.94. Transformation</h3>
<div class="paragraph">
<p>Manipulate an object&#8217;s appearance by applying a matrix. See the PDF reference 4.2.2 Common Transformations and following.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_94">I.94.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-box"><code>Box</code></a>, <a href="#cmd-circle"><code>Circle</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-rule"><code>Rule</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_94">I.94.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-overlay"><code>Overlay</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-position"><code>Position</code></a>, <a href="#cmd-transformation"><code>Transformation</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_94">I.94.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-transformation-matrix"></a><code>matrix</code> (text, optional)</dt>
<dd>
<p>The transformation matrix for the object. Expected is a space separated string of six values.</p>
</dd>
<dt class="hdlist1"><a id="cmd-transformation-origin-x"></a><code>origin-x</code> (text, optional)</dt>
<dd>
<p>The origin for matrix transformation. Must be left, center or right or a number from 0 to 100 (0 = left, 100 = right).</p>
</dd>
<dt class="hdlist1"><a id="cmd-transformation-origin-y"></a><code>origin-y</code> (text, optional)</dt>
<dd>
<p>The vertical origin for the matrix transformation. Must be top, center or bottom or a number from 0 to 100 (0 = top, 100 = bottom).</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_94">I.94.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Transformation matrix="1 0 0 1 72 -72"&gt;
      &lt;Transformation matrix="1 0 0 0.5 0 0" origin-x="100"&gt;
        &lt;Transformation matrix="1 1 -1 1 0 0"&gt;
          &lt;Image file="_samplea.pdf" maxwidth="4" maxheight="4"/&gt;
        &lt;/Transformation&gt;
      &lt;/Transformation&gt;
    &lt;/Transformation&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_92">I.94.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-u">I.95. U</h3>
<div class="paragraph">
<p>Underline text.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_95">I.95.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_95">I.95.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_95">I.95.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-u-class"></a><code>class</code> (text, optional)</dt>
<dd>
<p>CSS class for this element.</p>
</dd>
<dt class="hdlist1"><a id="cmd-u-dashed"></a><code>dashed</code> (optional, CSS property: border-style)</dt>
<dd>
<p>Use a dashed rule instead of a solid rule.</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yes</code></dt>
<dd>
<p>Draw a dashed rule.</p>
</dd>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Draw a solid rule.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><a id="cmd-u-id"></a><code>id</code> (text, optional)</dt>
<dd>
<p>CSS id for this element.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_16">I.95.4. Remarks</h4>
<div class="paragraph">
<p>Currently doesn&#8217;t work with margin protrusion.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_95">I.95.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">        &lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;
        &lt;U&gt;&lt;Value&gt;Underlined text&lt;/Value&gt;&lt;/U&gt;
      &lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_93">I.95.6. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-ul">I.96. Ul</h3>
<div class="paragraph">
<p>Create an unordered list, just like in HTML</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_96">I.96.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-li"><code>Li</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_96">I.96.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_96">I.96.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_96">I.96.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Ul&gt;
      &lt;Li&gt;&lt;Value&gt;First item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Second item&lt;/Value&gt;&lt;/Li&gt;
      &lt;Li&gt;&lt;Value&gt;Third item&lt;/Value&gt;&lt;/Li&gt;
    &lt;/Ul&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_94">I.96.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-until">I.97. Until</h3>
<div class="paragraph">
<p>Create a loop. All child elements are executed repeatedly until the given condition is true.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_97">I.97.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_97">I.97.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_97">I.97.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-until-test"></a><code>test</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>Every time after the the loop is executed, the condition is evaluated. If it is true, the loop exits.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_97">I.97.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="i" select="0"/&gt;
  &lt;Until test="$i = 4"&gt;
    &lt;Message select="concat('$i is: ', $i)"/&gt;
    &lt;SetVariable variable="i" select="$i + 1"/&gt;
  &lt;/Until&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gives the following output (in the protocol file)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">Message: "$i is: 0"
Message: "$i is: 1"
Message: "$i is: 2"
Message: "$i is: 3"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_95">I.97.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-url">I.98. URL</h3>
<div class="paragraph">
<p>enables a better breaking of URLs.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_98">I.98.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-value"><code>Value</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_98">I.98.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-b"><code>B</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_98">I.98.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_98">I.98.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;PlaceObject&gt;
  &lt;Textblock&gt;
    &lt;Paragraph&gt;
      &lt;Value&gt;URL: &lt;/Value&gt;
      &lt;URL&gt;&lt;Value&gt;https://www.speedata.de/publisher&lt;/Value&gt;&lt;/URL&gt;
    &lt;/Paragraph&gt;
  &lt;/Textblock&gt;
&lt;/PlaceObject&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_96">I.98.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-value">I.99. Value</h3>
<div class="paragraph">
<p>Contains a text value that is passed to the surrounding element.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_99">I.99.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_99">I.99.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-a"><code>A</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-color"><code>Color</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-html"><code>HTML</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-nobreak"><code>NoBreak</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-text"><code>Text</code></a>, <a href="#cmd-textblock"><code>Textblock</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-url"><code>URL</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_99">I.99.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-value-select"></a><code>select</code> (<a href="#ch-xpathfunktionen">XPath expression</a>, optional)</dt>
<dd>
<p>Value to be passed to the outer element.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_remarks_17">I.99.4. Remarks</h4>
<div class="paragraph">
<p>The value can be passed to the outer element either as an XPath expression or as the contents of this element.</p>
</div>
<div class="paragraph">
<p>Containing Br-tags will be interpreted as newlines.</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_99">I.99.5. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;PlaceObject&gt;
   &lt;Textblock&gt;
     &lt;Paragraph&gt;
       &lt;Value select="@name"/&gt;&lt;Value&gt;, symbol=&lt;/Value&gt;&lt;Value select="@symbol"/&gt;
     &lt;/Paragraph&gt;
   &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-vspace">I.100. VSpace</h3>
<div class="paragraph">
<p>Create a vertically stretching space. The space has a minimum height of 0 but is able to stretch up to infinity. Useful in table cells.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_100">I.100.1. Child elements</h4>
<div class="paragraph">
<p>(none)</p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_100">I.100.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-td"><code>Td</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_100">I.100.3. Attributes</h4>
<div class="paragraph">
<p>(keine)</p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_100">I.100.4. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Td valign="bottom"&gt;
  &lt;VSpace/&gt;
  &lt;!-- vertically centered image --&gt;
  &lt;Image width="3" file="article.pdf"/&gt;
  &lt;VSpace/&gt;
  &lt;Paragraph&gt;&lt;Value&gt;Some text at the bottom of the cell&lt;/Value&gt;&lt;/Paragraph&gt;
&lt;/Td&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_97">I.100.5. See also</h4>

</div>
</div>
<div class="sect2 commanddetail">
<h3 id="cmd-while">I.101. While</h3>
<div class="paragraph">
<p>Create a loop. All child elements are executed as long as the condition in the test attribute evaluates to true.</p>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_child_elements_101">I.101.1. Child elements</h4>
<div class="paragraph">
<p><a href="#cmd-action"><code>Action</code></a>, <a href="#cmd-addsearchpath"><code>AddSearchpath</code></a>, <a href="#cmd-attribute"><code>Attribute</code></a>, <a href="#cmd-b"><code>B</code></a>, <a href="#cmd-barcode"><code>Barcode</code></a>, <a href="#cmd-bookmark"><code>Bookmark</code></a>, <a href="#cmd-br"><code>Br</code></a>, <a href="#cmd-column"><code>Column</code></a>, <a href="#cmd-columns"><code>Columns</code></a>, <a href="#cmd-copy_of"><code>Copy-of</code></a>, <a href="#cmd-definecolor"><code>DefineColor</code></a>, <a href="#cmd-definefontalias"><code>DefineFontalias</code></a>, <a href="#cmd-definefontfamily"><code>DefineFontfamily</code></a>, <a href="#cmd-definetextformat"><code>DefineTextformat</code></a>, <a href="#cmd-element"><code>Element</code></a>, <a href="#cmd-fontface"><code>Fontface</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-frame"><code>Frame</code></a>, <a href="#cmd-group"><code>Group</code></a>, <a href="#cmd-hspace"><code>HSpace</code></a>, <a href="#cmd-hyphenation"><code>Hyphenation</code></a>, <a href="#cmd-i"><code>I</code></a>, <a href="#cmd-image"><code>Image</code></a>, <a href="#cmd-include"><code>Include</code></a>, <a href="#cmd-initial"><code>Initial</code></a>, <a href="#cmd-insertpages"><code>InsertPages</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-li"><code>Li</code></a>, <a href="#cmd-loaddataset"><code>LoadDataset</code></a>, <a href="#cmd-loadfontfile"><code>LoadFontfile</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-message"><code>Message</code></a>, <a href="#cmd-newpage"><code>NewPage</code></a>, <a href="#cmd-nextframe"><code>NextFrame</code></a>, <a href="#cmd-nextrow"><code>NextRow</code></a>, <a href="#cmd-options"><code>Options</code></a>, <a href="#cmd-output"><code>Output</code></a>, <a href="#cmd-pageformat"><code>Pageformat</code></a>, <a href="#cmd-paragraph"><code>Paragraph</code></a>, <a href="#cmd-placeobject"><code>PlaceObject</code></a>, <a href="#cmd-positioningarea"><code>PositioningArea</code></a>, <a href="#cmd-positioningframe"><code>PositioningFrame</code></a>, <a href="#cmd-processnode"><code>ProcessNode</code></a>, <a href="#cmd-savedataset"><code>SaveDataset</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-setgrid"><code>SetGrid</code></a>, <a href="#cmd-setvariable"><code>SetVariable</code></a>, <a href="#cmd-sortsequence"><code>SortSequence</code></a>, <a href="#cmd-span"><code>Span</code></a>, <a href="#cmd-sub"><code>Sub</code></a>, <a href="#cmd-sup"><code>Sup</code></a>, <a href="#cmd-switch"><code>Switch</code></a>, <a href="#cmd-table"><code>Table</code></a>, <a href="#cmd-tablenewpage"><code>TableNewPage</code></a>, <a href="#cmd-tablehead"><code>Tablehead</code></a>, <a href="#cmd-tablerule"><code>Tablerule</code></a>, <a href="#cmd-td"><code>Td</code></a>, <a href="#cmd-tr"><code>Tr</code></a>, <a href="#cmd-trace"><code>Trace</code></a>, <a href="#cmd-u"><code>U</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-value"><code>Value</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3 Flushleft">
<h4 id="xxx_parent_elements_101">I.101.2. Parent elements</h4>
<div class="paragraph">
<p><a href="#cmd-atpagecreation"><code>AtPageCreation</code></a>, <a href="#cmd-atpageshipout"><code>AtPageShipout</code></a>, <a href="#cmd-case"><code>Case</code></a>, <a href="#cmd-contents"><code>Contents</code></a>, <a href="#cmd-forall"><code>ForAll</code></a>, <a href="#cmd-layout"><code>Layout</code></a>, <a href="#cmd-loop"><code>Loop</code></a>, <a href="#cmd-otherwise"><code>Otherwise</code></a>, <a href="#cmd-record"><code>Record</code></a>, <a href="#cmd-savepages"><code>SavePages</code></a>, <a href="#cmd-until"><code>Until</code></a>, <a href="#cmd-while"><code>While</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="xxx_attributes_101">I.101.3. Attributes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="cmd-while-test"></a><code>test</code> (<a href="#ch-xpathfunktionen">XPath expression</a>)</dt>
<dd>
<p>Every time before the the loop is executed, this condition must evaluate to true. See the command <a href="#cmd-until">Until</a> for a loop with an exit test.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="xxx_example_101">I.101.4. Example</h4>
<div class="paragraph">
<p>The following example creates a textblock with three times the contents 'Text Text Text '.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;Record element="data"&gt;
  &lt;SetVariable variable="counter" select="1"/&gt;
  &lt;SetVariable variable="text" select="''"/&gt;
  &lt;While test=" $counter &amp;lt;= 3 "&gt; &lt;!-- less or equal --&gt;
    &lt;SetVariable variable="counter" select=" $counter + 1"/&gt;
    &lt;SetVariable variable="text"&gt;
      &lt;Value select="$text"/&gt;
      &lt;Value select="'Text '"/&gt;
    &lt;/SetVariable&gt;
  &lt;/While&gt;
  &lt;PlaceObject&gt;
    &lt;Textblock&gt;
      &lt;Paragraph&gt;&lt;Value select="$text"/&gt;&lt;/Paragraph&gt;
    &lt;/Textblock&gt;
  &lt;/PlaceObject&gt;
&lt;/Record&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xxx_see_also_98">I.101.5. See also</h4>

</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last change 2020-06-03 14:36:00 +0200
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>